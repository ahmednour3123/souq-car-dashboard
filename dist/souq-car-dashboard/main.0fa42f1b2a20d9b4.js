"use strict";(self.webpackChunksouq_car_dashboard=self.webpackChunksouq_car_dashboard||[]).push([[179],{6304:(Xe,Ee,k)=>{k.d(Ee,{Dh:()=>Ne,GT:()=>fe,cc:()=>Re,on:()=>Ae,pX:()=>se,xv:()=>Le});var c=k(8926),L=k(7142);Xe=k.hmd(Xe);const re=["ngOnDestroy"],se=(be,Me,qe,De={})=>new Proxy(be,{get:(ve,de)=>qe.runOutsideAngular(()=>{var ge;if(be[de])return!(null===(ge=De?.spy)||void 0===ge)&&ge.get&&De.spy.get(de,be[de]),be[de];if(re.indexOf(de)>-1)return()=>{};const Ce=Me.toPromise().then(K=>{const z=K&&K[de];return"function"==typeof z?z.bind(K):z&&z.then?z.then(me=>qe.run(()=>me)):qe.run(()=>z)});return new Proxy(()=>{},{get:(K,z)=>Ce[z],apply:(K,z,me)=>Ce.then(ye=>{var En;const ui=ye&&ye(...me);return!(null===(En=De?.spy)||void 0===En)&&En.apply&&De.spy.apply(de,me,ui),ui})})})}),fe=(be,Me)=>{Me.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(De=>{Object.defineProperty(be.prototype,De,Object.getOwnPropertyDescriptor(qe.prototype||qe,De))})})};class Ie{constructor(Me){return Me}}const Ne=new c.OlP("angularfire2.app.options"),Le=new c.OlP("angularfire2.app.name");function Ae(be,Me,qe){const ve="object"==typeof qe&&qe||{};ve.name=ve.name||"string"==typeof qe&&qe||"[DEFAULT]";const ge=L.Z.apps.filter(Ce=>Ce&&Ce.name===ve.name)[0]||Me.runOutsideAngular(()=>L.Z.initializeApp(be,ve));try{JSON.stringify(be)!==JSON.stringify(ge.options)&&H("error",`${ge.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ge)}const H=(be,...Me)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...Me)};function Re(be,Me,qe,De,ve){const[,de,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===be)||[];if(de)return function ce(be,Me){try{return be.toString()===Me.toString()}catch{return be===Me}}(ve,ge)||(Oe("error",`${Me} was already initialized on the ${qe} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ve,was:ge})),de;{const Ce=De();return globalThis.\u0275AngularfireInstanceCache.push([be,Ce,ve]),Ce}}const ze=!!Xe.hot,Oe=(be,...Me)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(Xe,Ee,k)=>{k.d(Ee,{$:()=>Ed,A:()=>U,D:()=>ce,I:()=>pd,J:()=>su,L:()=>Tr,N:()=>js,P:()=>Wd,Q:()=>qi,R:()=>wo,U:()=>ay,V:()=>_d,W:()=>uy,X:()=>It,Y:()=>_o,Z:()=>cr,_:()=>ua,a:()=>_e,a0:()=>fy,a1:()=>R0,a2:()=>jA,a3:()=>mp,a4:()=>_p,a5:()=>_y,a6:()=>ca,a7:()=>bd,a8:()=>Sd,a9:()=>yp,aA:()=>z,aB:()=>xo,aC:()=>Jn,aD:()=>ar,aE:()=>zn,aF:()=>Lr,aG:()=>Zd,aH:()=>In,aL:()=>au,aO:()=>Ws,aa:()=>Ad,ab:()=>P0,ac:()=>HA,ad:()=>xd,ae:()=>GA,af:()=>O0,ai:()=>Tp,aj:()=>k0,ak:()=>F0,an:()=>cy,ao:()=>Ey,aq:()=>Mp,ar:()=>Od,as:()=>ye,at:()=>wn,au:()=>tt,av:()=>ve,aw:()=>Xd,ax:()=>fu,ay:()=>hn,az:()=>de,b:()=>Op,c:()=>kl,d:()=>jp,e:()=>Fl,f:()=>Ys,g:()=>hu,h:()=>Ao,i:()=>$d,j:()=>Is,k:()=>yu,l:()=>Rn,m:()=>eh,o:()=>zp,p:()=>Le,r:()=>_i,s:()=>vs,u:()=>Py});var c=k(5861),L=k(9058),re=k(534),se=k(7582),fe=k(7879),Ie=k(4537);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ze=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new fe.Yd("@firebase/auth");function De(C,...g){Me.logLevel<=fe.in.ERROR&&Me.error(`Auth (${re.SDK_VERSION}): ${C}`,...g)}function ve(C,...g){throw K(C,...g)}function de(C,...g){return K(C,...g)}function ge(C,g,_){const w=Object.assign(Object.assign({},ze()),{[g]:_});return new L.LL("auth","Firebase",w).create(g,{appName:C.name})}function Ce(C,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ve(C,"argument-error"),ge(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(C,...g){if("string"!=typeof C){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=C.name),C._errorFactory.create(_,...w)}return Oe.create(C,...g)}function z(C,g,..._){if(!C)throw K(g,..._)}function me(C){const g="INTERNAL ASSERTION FAILED: "+C;throw De(g),new Error(g)}function ye(C,g){C||me(g)}function En(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function ui(){return"http:"===ds()||"https:"===ds()}function ds(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ji{constructor(g,_){this.shortDelay=g,this.longDelay=_,ye(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Ai(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ui()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ia(C,g){ye(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class te{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new ji(3e4,6e4);function J(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function he(C,g,_,w){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(C,g,_,w,S={}){return it(C,S,(0,c.Z)(function*(){let N={},$={};w&&("GET"===g?$=w:N={body:JSON.stringify(w)});const Y=(0,L.xO)(Object.assign({key:C.config.apiKey},$)).slice(1),xe=yield C._getAdditionalHeaders();return xe["Content-Type"]="application/json",C.languageCode&&(xe["X-Firebase-Locale"]=C.languageCode),te.fetch()(vt(C,C.config.apiHost,_,Y),Object.assign({method:g,headers:xe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function it(C,g,_){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(C,g,_){C._canInitEmulator=!1;const w=Object.assign(Object.assign({},Q),g);try{const S=new rt(C),N=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const $=yield N.json();if("needConfirmation"in $)throw en(C,"account-exists-with-different-credential",$);if(N.ok&&!("errorMessage"in $))return $;{const Y=N.ok?$.errorMessage:$.error.message,[xe,ke]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw en(C,"credential-already-in-use",$);if("EMAIL_EXISTS"===xe)throw en(C,"email-already-in-use",$);if("USER_DISABLED"===xe)throw en(C,"user-disabled",$);const Ze=w[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw ge(C,Ze,ke);ve(C,Ze)}}catch(S){if(S instanceof L.ZR)throw S;ve(C,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Xt(C,g,_,w){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(C,g,_,w,S={}){const N=yield he(C,g,_,w,S);return"mfaPendingCredential"in N&&ve(C,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function vt(C,g,_,w){const S=`${g}${_}?${w}`;return C.config.emulator?ia(C.config,S):`${C.config.apiScheme}://${S}`}class rt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(de(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function en(C,g,_){const w={appName:C.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=de(C,g,w);return S.customData._tokenResponse=_,S}function Rr(){return(Rr=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Gi(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Bs(){return(Bs=(0,c.Z)(function*(C,g=!1){const _=(0,L.m9)(C),w=yield _.getIdToken(g),S=Ye(w);z(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,$=N?.sign_in_provider;return{claims:S,token:w,authTime:Gi(Ut(S.auth_time)),issuedAtTime:Gi(Ut(S.iat)),expirationTime:Gi(Ut(S.exp)),signInProvider:$||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(C){return 1e3*Number(C)}function Ye(C){const[g,_,w]=C.split(".");if(void 0===g||void 0===_||void 0===w)return De("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(_);return S?JSON.parse(S):(De("Failed to decode base64 JWT payload"),null)}catch(S){return De("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Qn(C,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(C,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof L.ZR&&function Or({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(w)&&C.auth.currentUser===C&&(yield C.auth.signOut()),w}})).apply(this,arguments)}class li{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Bt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hs(C){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,c.Z)(function*(C){var g;const _=C.auth,w=yield C.getIdToken(),S=yield Qn(C,function Pr(C,g){return Hi.apply(this,arguments)}(_,{idToken:w}));z(S?.users.length,_,"internal-error");const N=S.users[0];C._notifyReloadListener(N);const $=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function fo(C){return C.map(g=>{var{providerId:_}=g,w=(0,se._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(N.providerUserInfo):[],Y=function hd(C,g){return[...C.filter(w=>!g.some(S=>S.providerId===w.providerId)),...g]}(C.providerData,$),Ze=!!C.isAnonymous&&!(C.email&&N.passwordHash||Y?.length),wt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Y,metadata:new Bt(N.createdAt,N.lastLoginAt),isAnonymous:Ze};Object.assign(C,wt)}),Yt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(C){const g=(0,L.m9)(C);yield hs(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(C,g){const _=yield it(C,{},(0,c.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:N}=C.config,$=vt(C,S,"/v1/token",`key=${N}`),Y=yield C._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",te.fetch()($,{method:"POST",headers:Y,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){z(g.idToken,"internal-error"),z(typeof g.idToken<"u","internal-error"),z(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function et(C){const g=Ye(C);return z(g,"internal-error"),z(typeof g.exp<"u","internal-error"),z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,c.Z)(function*(){return z(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:$}=yield function zi(C,g){return Mi.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(S,N,Number($))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:S,expirationTime:N}=_,$=new ci;return w&&(z("string"==typeof w,"internal-error",{appName:g}),$.refreshToken=w),S&&(z("string"==typeof S,"internal-error",{appName:g}),$.accessToken=S),N&&(z("number"==typeof N,"internal-error",{appName:g}),$.expirationTime=N),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ci,this.toJSON())}_performRefresh(){return me("not implemented")}}function Kr(C,g){z("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class wr{constructor(g){var{uid:_,auth:w,stsTokenManager:S}=g,N=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Bt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,c.Z)(function*(){const w=yield Qn(_,_.stsTokenManager.getToken(_.auth,g));return z(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Us(C){return Bs.apply(this,arguments)}(this,g)}reload(){return function un(C){return bt.apply(this,arguments)}(this)}_assign(g){this!==g&&(z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new wr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,c.Z)(function*(){let S=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),S=!0),_&&(yield hs(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,c.Z)(function*(){const _=yield g.getIdToken();return yield Qn(g,function Er(C,g){return Rr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,S,N,$,Y,xe,ke,Ze;const wt=null!==(w=_.displayName)&&void 0!==w?w:void 0,Vr=null!==(S=_.email)&&void 0!==S?S:void 0,Ci=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,oh=null!==($=_.photoURL)&&void 0!==$?$:void 0,Wp=null!==(Y=_.tenantId)&&void 0!==Y?Y:void 0,Ta=null!==(xe=_._redirectEventId)&&void 0!==xe?xe:void 0,Eu=null!==(ke=_.createdAt)&&void 0!==ke?ke:void 0,es=null!==(Ze=_.lastLoginAt)&&void 0!==Ze?Ze:void 0,{uid:Wl,emailVerified:Oo,isAnonymous:ql,providerData:ko,stsTokenManager:Fo}=_;z(Wl&&Fo,g,"internal-error");const ah=ci.fromJSON(this.name,Fo);z("string"==typeof Wl,g,"internal-error"),Kr(wt,g.name),Kr(Vr,g.name),z("boolean"==typeof Oo,g,"internal-error"),z("boolean"==typeof ql,g,"internal-error"),Kr(Ci,g.name),Kr(oh,g.name),Kr(Wp,g.name),Kr(Ta,g.name),Kr(Eu,g.name),Kr(es,g.name);const Zl=new wr({uid:Wl,auth:g,email:Vr,emailVerified:Oo,displayName:wt,isAnonymous:ql,photoURL:oh,phoneNumber:Ci,tenantId:Wp,stsTokenManager:ah,createdAt:Eu,lastLoginAt:es});return ko&&Array.isArray(ko)&&(Zl.providerData=ko.map(qp=>Object.assign({},qp))),Ta&&(Zl._redirectEventId=Ta),Zl}static _fromIdTokenResponse(g,_,w=!1){return(0,c.Z)(function*(){const S=new ci;S.updateFromServerResponse(_);const N=new wr({uid:_.localId,auth:g,stsTokenManager:S,isAnonymous:w});return yield hs(N),N})()}}const di=new Map;function Jn(C){ye(C instanceof Function,"Expected a class definition");let g=di.get(C);return g?(ye(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,di.set(C,g),g)}const js=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,c.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,c.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,c.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return C.type="NONE",C})();function ar(C,g,_){return`firebase:${C}:${g}:${_}`}class V{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:S,name:N}=this.auth;this.fullUserKey=ar(this.userKey,S.apiKey,N),this.fullPersistenceKey=ar("persistence",S.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?wr._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,c.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,c.Z)(function*(){if(!_.length)return new V(Jn(js),g,w);const S=(yield Promise.all(_.map(function(){var ke=(0,c.Z)(function*(Ze){if(yield Ze._isAvailable())return Ze});return function(Ze){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let N=S[0]||Jn(js);const $=ar(w,g.config.apiKey,g.name);let Y=null;for(const ke of _)try{const Ze=yield ke._get($);if(Ze){const wt=wr._fromJSON(g,Ze);ke!==N&&(Y=wt),N=ke;break}}catch{}const xe=S.filter(ke=>ke._shouldAllowMigration);return N._shouldAllowMigration&&xe.length?(N=xe[0],Y&&(yield N._set($,Y.toJSON())),yield Promise.all(_.map(function(){var ke=(0,c.Z)(function*(Ze){if(Ze!==N)try{yield Ze._remove($)}catch{}});return function(Ze){return ke.apply(this,arguments)}}())),new V(N,g,w)):new V(N,g,w)})()}}function F(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(He(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(G(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Gt(g))return"Blackberry";if(ur(g))return"Webos";if(X(g))return"Safari";if((g.includes("chrome/")||q(g))&&!g.includes("edge/"))return"Chrome";if(tt(g))return"Android";{const w=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function G(C=(0,L.z$)()){return/firefox\//i.test(C)}function X(C=(0,L.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function q(C=(0,L.z$)()){return/crios\//i.test(C)}function He(C=(0,L.z$)()){return/iemobile/i.test(C)}function tt(C=(0,L.z$)()){return/android/i.test(C)}function Gt(C=(0,L.z$)()){return/blackberry/i.test(C)}function ur(C=(0,L.z$)()){return/webos/i.test(C)}function wn(C=(0,L.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function hn(C=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function xn(C=(0,L.z$)()){return wn(C)||tt(C)||ur(C)||Gt(C)||/windows phone/i.test(C)||He(C)}function po(C,g=[]){let _;switch(C){case"Browser":_=F((0,L.z$)());break;case"Worker":_=`${F((0,L.z$)())}-${C}`;break;default:_=C}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${re.SDK_VERSION}/${w}`}function W(){return(W=(0,c.Z)(function*(C){return(yield he(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Te(C,g){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(C,g){return he(C,"GET","/v2/recaptchaConfig",J(C,g))})).apply(this,arguments)}function ut(C){return void 0!==C&&void 0!==C.getResponse}function Et(C){return void 0!==C&&void 0!==C.enterprise}class $t{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function pn(C){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",C),w.onload=g,w.onerror=S=>{const N=de("internal-error");N.customData=S,_(N)},w.type="text/javascript",w.charset="UTF-8",function Fn(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(w)})}function fs(C){return`__${C}${Math.floor(1e6*Math.random())}`}class ip{constructor(g){this.type="recaptcha-enterprise",this.auth=In(g)}verify(g="verify",_=!1){var w=this;return(0,c.Z)(function*(){function N(){return N=(0,c.Z)(function*(Y){if(!_){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var xe=(0,c.Z)(function*(ke,Ze){Te(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const Vr=new $t(wt);return null==Y.tenantId?Y._agentRecaptchaConfig=Vr:Y._tenantRecaptchaConfigs[Y.tenantId]=Vr,ke(Vr.siteKey)}Ze(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{Ze(wt)})});return function(ke,Ze){return xe.apply(this,arguments)}}())}),N.apply(this,arguments)}function $(Y,xe,ke){const Ze=window.grecaptcha;Et(Ze)?Ze.enterprise.ready(()=>{Ze.enterprise.execute(Y,{action:g}).then(wt=>{xe(wt)}).catch(()=>{xe("NO_RECAPTCHA")})}):ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,xe)=>{(function S(Y){return N.apply(this,arguments)})(w.auth).then(ke=>{if(!_&&Et(window.grecaptcha))$(ke,Y,xe);else{if(typeof window>"u")return void xe(new Error("RecaptchaVerifier is only supported in browser"));pn("https://www.google.com/recaptcha/enterprise.js?render="+ke).then(()=>{$(ke,Y,xe)}).catch(Ze=>{xe(Ze)})}}).catch(ke=>{xe(ke)})})})()}}function gs(C,g,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(C,g,_,w=!1){const S=new ip(C);let N;try{N=yield S.verify(_)}catch{N=yield S.verify(_,!0)}const $=Object.assign({},g);return Object.assign($,w?{captchaResp:N}:{captchaResponse:N}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class ny{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=N=>new Promise(($,Y)=>{try{$(g(N))}catch(xe){Y(xe)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const S of _.queue)yield S(g),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const N of w)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class hi{constructor(g,_,w,S){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sp(this),this.idTokenSubscription=new sp(this),this.beforeStateQueue=new ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=Jn(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,N;if(!w._deleted&&(w.persistenceManager=yield V.create(w,g),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,c.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let N=S,$=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Y=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,xe=N?._redirectEventId,ke=yield _.tryRedirectSignIn(g);(!Y||Y===xe)&&ke?.user&&(N=ke.user,$=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if($)try{yield _.beforeStateQueue.runMiddleware(N)}catch(Y){N=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Y))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return z(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var _=this;return(0,c.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,c.Z)(function*(){try{yield hs(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function an(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,c.Z)(function*(){const w=g?(0,L.m9)(g):null;return w&&z(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return g&&z(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(Jn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,c.Z)(function*(){const _=yield Te(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new $t(_);null==g.tenantId?g._agentRecaptchaConfig=w:g._tenantRecaptchaConfigs[g.tenantId]=w,w.emailPasswordEnabled&&new ip(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&Jn(g)||_._popupRedirectResolver;z(w,_,"argument-error"),_.redirectPersistenceManager=yield V.create(_,[Jn(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,c.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,c.Z)(function*(){if(g===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,S){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),$=this._isInitialized?Promise.resolve():this._initializationPromise;return z($,this,"internal-error"),$.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,w,S):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=po(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const N=yield g._getAppCheckToken();return N&&(w["X-Firebase-AppCheck"]=N),w})()}_getAppCheckToken(){var g=this;return(0,c.Z)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function qe(C,...g){Me.logLevel<=fe.in.WARN&&Me.warn(`Auth (${re.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function In(C){return(0,L.m9)(C)}class sp{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pd(C,g,_){const w=In(C);z(w._canInitEmulator,w,"emulator-config-failed"),z(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,N=fl(g),{host:$,port:Y}=function pl(C){const g=fl(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const N=S[1];return{host:N,port:op(w.substr(N.length+1))}}{const[N,$]=w.split(":");return{host:N,port:op($)}}}(g);w.config.emulator={url:`${N}//${$}${null===Y?"":`:${Y}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$,port:Y,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function iy(){function C(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function fl(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function op(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class su{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return me("not implemented")}_getIdTokenResponse(g){return me("not implemented")}_linkToIdToken(g,_){return me("not implemented")}_getReauthenticationResolver(g){return me("not implemented")}}function gl(C,g){return ap.apply(this,arguments)}function ap(){return(ap=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:resetPassword",J(C,g))})).apply(this,arguments)}function sy(C,g){return up.apply(this,arguments)}function up(){return(up=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:update",J(C,g))})).apply(this,arguments)}function ml(C,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithPassword",J(C,g))})).apply(this,arguments)}function ou(C,g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:sendOobCode",J(C,g))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(C,g){return ou(C,g)})).apply(this,arguments)}function Hs(C,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(C,g){return ou(C,g)})).apply(this,arguments)}function yl(C,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(C,g){return ou(C,g)})).apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(C,g){return ou(C,g)})).apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithEmailLink",J(C,g))})).apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithEmailLink",J(C,g))})).apply(this,arguments)}class tn extends su{constructor(g,_,w,S=null){super("password",w),this._email=g,this._password=_,this._tenantId=S}static _fromEmailAndPassword(g,_){return new tn(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new tn(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,c.Z)(function*(){var w;switch(_.signInMethod){case"password":const S={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=g._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const N=yield gs(g,S,"signInWithPassword");return ml(g,N)}return ml(g,S).catch(function(){var N=(0,c.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield gs(g,S,"signInWithPassword");return ml(g,Y)}return Promise.reject($)});return function($){return N.apply(this,arguments)}}());case"emailLink":return function oy(C,g){return Tn.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ve(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return sy(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function $e(C,g){return ft.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:ve(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ln(C,g){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithIdp",J(C,g))})).apply(this,arguments)}class Tr extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Tr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S}=_,N=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const $=new Tr(w,S);return $.idToken=N.idToken||void 0,$.accessToken=N.accessToken||void 0,$.secret=N.secret,$.nonce=N.nonce,$.pendingToken=N.pendingToken||null,$}_getIdTokenResponse(g){return Ln(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Ln(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ln(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,L.xO)(_)}return g}}function Gs(){return(Gs=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:sendVerificationCode",J(C,g))})).apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithPhoneNumber",J(C,g))})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(C,g){const _=yield Xt(C,"POST","/v1/accounts:signInWithPhoneNumber",J(C,g));if(_.temporaryProof)throw en(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const oa={USER_NOT_FOUND:"user-not-found"};function mo(){return(mo=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithPhoneNumber",J(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),oa)})).apply(this,arguments)}class fi extends su{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new fi({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new fi({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ms(C,g){return lt.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function El(C,g){return md.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Dn(C,g){return mo.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:N}=g;return w||_||S||N?new fi({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:N}):null}}class zs{constructor(g){var _,w,S,N,$,Y;const xe=(0,L.zd)((0,L.pd)(g)),ke=null!==(_=xe.apiKey)&&void 0!==_?_:null,Ze=null!==(w=xe.oobCode)&&void 0!==w?w:null,wt=function Wi(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=xe.mode)&&void 0!==S?S:null);z(ke&&Ze&&wt,"argument-error"),this.apiKey=ke,this.operation=wt,this.code=Ze,this.continueUrl=null!==(N=xe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==($=xe.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(Y=xe.tenantId)&&void 0!==Y?Y:null}static parseLink(g){const _=function wl(C){const g=(0,L.zd)((0,L.pd)(C)).link,_=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(C)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||g||C}(g);try{return new zs(_)}catch{return null}}}let qi=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,w){return tn._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=zs.parseLink(w);return z(S,"argument-error"),tn._fromEmailAndCode(_,S.code,S.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class xi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class _s extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class It extends _s{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return z("providerId"in _&&"signInMethod"in _,"argument-error"),Tr._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return z(g.idToken||g.accessToken,"argument-error"),Tr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return It.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return It.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:N,nonce:$,providerId:Y}=g;if(!w&&!S&&!_&&!N||!Y)return null;try{return new It(Y)._credential({idToken:_,accessToken:w,nonce:$,pendingToken:N})}catch{return null}}}let ay=(()=>{class C extends _s{constructor(){super("facebook.com")}static credential(_){return Tr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),_d=(()=>{class C extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Tr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return C.credential(w,S)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),uy=(()=>{class C extends _s{constructor(){super("github.com")}static credential(_){return Tr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ws extends su{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Ln(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Ln(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ln(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S,pendingToken:N}=_;return w&&S&&N&&w===S?new Ws(w,N):null}static _create(g,_){return new Ws(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends xi{constructor(g){z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return _o.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return _o.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ws.fromJSON(g);return z(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Ws._create(w,_)}catch{return null}}}let cr=(()=>{class C extends _s{constructor(){super("twitter.com")}static credential(_,w){return Tr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return C.credential(w,S)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function yd(C,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signUp",J(C,g))})).apply(this,arguments)}class Qt{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,S=!1){return(0,c.Z)(function*(){const N=yield wr._fromIdTokenResponse(g,w,S),$=Il(w);return new Qt({user:N,providerId:$,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const S=Il(w);return new Qt({user:g,providerId:S,_tokenResponse:w,operationType:_})})()}}function Il(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function ua(C){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(C){var g;const _=In(C);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Qt({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield yd(_,{returnSecureToken:!0}),S=yield Qt._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class kr extends L.ZR{constructor(g,_,w,S){var N;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,kr.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,S){return new kr(g,_,w,S)}}function vd(C,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?kr._fromErrorAndOperation(C,N,g,w):N})}function ly(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function cy(C,g){return cp.apply(this,arguments)}function cp(){return cp=(0,c.Z)(function*(C,g){const _=(0,L.m9)(C);yield hp(!0,_,g);const{providerUserInfo:w}=yield function mt(C,g){return or.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),S=ly(w||[]);return _.providerData=_.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),cp.apply(this,arguments)}function Cd(C,g){return dp.apply(this,arguments)}function dp(){return(dp=(0,c.Z)(function*(C,g,_=!1){const w=yield Qn(C,g._linkToIdToken(C.auth,yield C.getIdToken()),_);return Qt._forOperation(C,"link",w)})).apply(this,arguments)}function hp(C,g,_){return fp.apply(this,arguments)}function fp(){return(fp=(0,c.Z)(function*(C,g,_){yield hs(g);const S=!1===C?"provider-already-linked":"no-such-provider";z(ly(g.providerData).has(_)===C,g.auth,S)})).apply(this,arguments)}function dy(C,g){return pp.apply(this,arguments)}function pp(){return(pp=(0,c.Z)(function*(C,g,_=!1){const{auth:w}=C,S="reauthenticate";try{const N=yield Qn(C,vd(w,S,g,C),_);z(N.idToken,w,"internal-error");const $=Ye(N.idToken);z($,w,"internal-error");const{sub:Y}=$;return z(C.uid===Y,w,"user-mismatch"),Qt._forOperation(C,S,N)}catch(N){throw"auth/user-not-found"===N?.code&&ve(w,"user-mismatch"),N}})).apply(this,arguments)}function N0(C,g){return hy.apply(this,arguments)}function hy(){return(hy=(0,c.Z)(function*(C,g,_=!1){const w="signIn",S=yield vd(C,w,g),N=yield Qt._fromIdTokenResponse(C,w,S);return _||(yield C._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ed(C,g){return gp.apply(this,arguments)}function gp(){return(gp=(0,c.Z)(function*(C,g){return N0(In(C),g)})).apply(this,arguments)}function fy(C,g){return py.apply(this,arguments)}function py(){return(py=(0,c.Z)(function*(C,g){const _=(0,L.m9)(C);return yield hp(!1,_,g.providerId),Cd(_,g)})).apply(this,arguments)}function R0(C,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(C,g){return dy((0,L.m9)(C),g)})).apply(this,arguments)}function wd(){return(wd=(0,c.Z)(function*(C,g){return Xt(C,"POST","/v1/accounts:signInWithCustomToken",J(C,g))})).apply(this,arguments)}function jA(C,g){return my.apply(this,arguments)}function my(){return my=(0,c.Z)(function*(C,g){const _=In(C),w=yield function gy(C,g){return wd.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),S=yield Qt._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S}),my.apply(this,arguments)}class Id{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Zs._fromServerResponse(g,_):"totpInfo"in _?Tl._fromServerResponse(g,_):ve(g,"internal-error")}}class Zs extends Id{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Zs(_)}}class Tl extends Id{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Tl(_)}}function Dl(C,g,_){var w;z((null===(w=_.url)||void 0===w?void 0:w.length)>0,C,"invalid-continue-uri"),z(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(z(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(z(_.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function mp(C,g,_){return Td.apply(this,arguments)}function Td(){return Td=(0,c.Z)(function*(C,g,_){var w;const S=In(C),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const $=yield gs(S,N,"getOobCode",!0);_&&Dl(S,$,_),yield Hs(S,$)}else _&&Dl(S,N,_),yield Hs(S,N).catch(function(){var $=(0,c.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const xe=yield gs(S,N,"getOobCode",!0);_&&Dl(S,xe,_),yield Hs(S,xe)}});return function(Y){return $.apply(this,arguments)}}())}),Td.apply(this,arguments)}function _p(C,g,_){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,c.Z)(function*(C,g,_){yield gl((0,L.m9)(C),{oobCode:g,newPassword:_})})).apply(this,arguments)}function _y(C,g){return bl.apply(this,arguments)}function bl(){return bl=(0,c.Z)(function*(C,g){yield function lp(C,g){return Yr.apply(this,arguments)}((0,L.m9)(C),{oobCode:g})}),bl.apply(this,arguments)}function ca(C,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(C,g){const _=(0,L.m9)(C),w=yield gl(_,{oobCode:g}),S=w.requestType;switch(z(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(w.mfaInfo,_,"internal-error");default:z(w.email,_,"internal-error")}let N=null;return w.mfaInfo&&(N=Id._fromServerResponse(In(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function bd(C,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(C,g){const{data:_}=yield ca((0,L.m9)(C),g);return _.email})).apply(this,arguments)}function Sd(C,g,_){return yy.apply(this,arguments)}function yy(){return yy=(0,c.Z)(function*(C,g,_){var w;const S=In(C),N={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ke=yield gs(S,N,"signUpPassword");$=yd(S,ke)}else $=yd(S,N).catch(function(){var ke=(0,c.Z)(function*(Ze){if("auth/missing-recaptcha-token"===Ze.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wt=yield gs(S,N,"signUpPassword");return yd(S,wt)}return Promise.reject(Ze)});return function(Ze){return ke.apply(this,arguments)}}());const Y=yield $.catch(ke=>Promise.reject(ke)),xe=yield Qt._fromIdTokenResponse(S,"signIn",Y);return yield S._updateCurrentUser(xe.user),xe}),yy.apply(this,arguments)}function yp(C,g,_){return Ed((0,L.m9)(C),qi.credential(g,_))}function Ad(C,g,_){return yo.apply(this,arguments)}function yo(){return yo=(0,c.Z)(function*(C,g,_){var w;const S=In(C),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function $(Y,xe){z(xe.handleCodeInApp,S,"argument-error"),xe&&Dl(S,Y,xe)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield gs(S,N,"getOobCode",!0);$(Y,_),yield yl(S,Y)}else $(N,_),yield yl(S,N).catch(function(){var Y=(0,c.Z)(function*(xe){if("auth/missing-recaptcha-token"!==xe.code)return Promise.reject(xe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ke=yield gs(S,N,"getOobCode",!0);$(ke,_),yield yl(S,ke)}});return function(xe){return Y.apply(this,arguments)}}())}),yo.apply(this,arguments)}function P0(C,g){const _=zs.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function HA(C,g,_){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C),S=qi.credentialWithLink(g,_||En());return z(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ed(w,S)})).apply(this,arguments)}function Cp(){return(Cp=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:createAuthUri",J(C,g))})).apply(this,arguments)}function xd(C,g){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,c.Z)(function*(C,g){const w={identifier:g,continueUri:ui()?En():"http://localhost"},{signinMethods:S}=yield function vp(C,g){return Cp.apply(this,arguments)}((0,L.m9)(C),w);return S||[]}),Ep.apply(this,arguments)}function GA(C,g){return wp.apply(this,arguments)}function wp(){return wp=(0,c.Z)(function*(C,g){const _=(0,L.m9)(C),S={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Dl(_.auth,S,g);const{email:N}=yield function Xn(C,g){return lr.apply(this,arguments)}(_.auth,S);N!==C.email&&(yield C.reload())}),wp.apply(this,arguments)}function O0(C,g,_){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};_&&Dl(w.auth,N,_);const{email:$}=yield function Cl(C,g){return gd.apply(this,arguments)}(w.auth,N);$!==C.email&&(yield C.reload())}),Sl.apply(this,arguments)}function Ip(){return(Ip=(0,c.Z)(function*(C,g){return he(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tp(C,g){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,c.Z)(function*(C,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,L.m9)(C),N={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},$=yield Qn(w,function vy(C,g){return Ip.apply(this,arguments)}(w.auth,N));w.displayName=$.displayName||null,w.photoURL=$.photoUrl||null;const Y=w.providerData.find(({providerId:xe})=>"password"===xe);Y&&(Y.displayName=w.displayName,Y.photoURL=w.photoURL),yield w._updateTokensIfNecessary($)}),Nd.apply(this,arguments)}function k0(C,g){return Dp((0,L.m9)(C),g,null)}function F0(C,g){return Dp((0,L.m9)(C),null,g)}function Dp(C,g,_){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(C,g,_){const{auth:w}=C,N={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const $=yield Qn(C,sy(w,N));yield C._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class vo{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Cy extends vo{constructor(g,_,w,S){super(g,_,w),this.username=S}}class Qr extends vo{constructor(g,_){super(g,"facebook.com",_)}}class bp extends Cy{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Al extends vo{constructor(g,_){super(g,"google.com",_)}}class Zt extends Cy{constructor(g,_,w){super(g,"twitter.com",_,w)}}function Ey(C){const{user:g,_tokenResponse:_}=C;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function L0(C){var g,_;if(!C)return null;const{providerId:w}=C,S=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},N=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!w&&C?.idToken){const $=null===(_=null===(g=Ye(C.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if($)return new vo(N,"anonymous"!==$&&"custom"!==$?$:null)}if(!w)return null;switch(w){case"facebook.com":return new Qr(N,S);case"github.com":return new bp(N,S);case"google.com":return new Al(N,S);case"twitter.com":return new Zt(N,S,C.screenName||null);case"custom":case"anonymous":return new vo(N,null);default:return new vo(N,w,S)}}(_)}class Ki{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new Ki("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ki("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ki._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Ki._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ml{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=In(g),S=_.customData._serverResponse,N=(S.mfaInfo||[]).map(Y=>Id._fromServerResponse(w,Y));z(S.mfaPendingCredential,w,"internal-error");const $=Ki._fromMfaPendingCredential(S.mfaPendingCredential);return new Ml($,N,function(){var Y=(0,c.Z)(function*(xe){const ke=yield xe._process(w,$);delete S.mfaInfo,delete S.mfaPendingCredential;const Ze=Object.assign(Object.assign({},S),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(_.operationType){case"signIn":const wt=yield Qt._fromIdTokenResponse(w,_.operationType,Ze);return yield w._updateCurrentUser(wt.user),wt;case"reauthenticate":return z(_.user,w,"internal-error"),Qt._forOperation(_.user,_.operationType,Ze);default:ve(w,"internal-error")}});return function(xe){return Y.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,c.Z)(function*(){return _.signInResolver(g)})()}}function Mp(C,g){var _;const w=(0,L.m9)(C),S=g;return z(g.customData.operationType,w,"argument-error"),z(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Ml._fromError(w,S)}class Pd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Id._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Pd(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Ki._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,c.Z)(function*(){const S=g,N=yield w.getSession(),$=yield Qn(w.user,S._process(w.user.auth,N,_));return yield w.user._updateTokensIfNecessary($),w.user.reload()})()}unenroll(g){var _=this;return(0,c.Z)(function*(){const w="string"==typeof g?g:g.uid,S=yield _.user.getIdToken();try{const N=yield Qn(_.user,function Rp(C,g){return he(C,"POST","/v2/accounts/mfaEnrollment:withdraw",J(C,g))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$})=>$!==w),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const xl=new WeakMap;function Od(C){const g=(0,L.m9)(C);return xl.has(g)||xl.set(g,Pd._fromUser(g)),xl.get(g)}const Nl="__sak";class Pp{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Op=(()=>{class C extends Pp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eo(){const C=(0,L.z$)();return X(C)||wn(C)}()&&function At(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),N=this.localCache[w];S!==N&&_(w,N,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((Y,xe,ke)=>{this.notifyListeners(Y,ke)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(S);if(_.newValue!==Y)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const N=()=>{const Y=this.storage.getItem(S);!w&&this.localCache[S]===Y||this.notifyListeners(S,Y)},$=this.storage.getItem(S);!function fn(){return(0,L.w1)()&&10===document.documentMode}()||$===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const N of Array.from(S))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,N=this;return(0,c.Z)(function*(){yield S().call(N,_,w),N.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const N=yield w().call(S,_);return S.localCache[_]=JSON.stringify(N),N})()}_remove(_){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return C.type="LOCAL",C})(),_e=(()=>{class C extends Pp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return C.type="SESSION",C})();let kp=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(N=>N.isListeningto(_));if(w)return w;const S=new C(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,c.Z)(function*(){const S=_,{eventId:N,eventType:$,data:Y}=S.data,xe=w.handlersMap[$];if(!xe?.size)return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:$});const ke=Array.from(xe).map(function(){var wt=(0,c.Z)(function*(Vr){return Vr(S.origin,Y)});return function(Vr){return wt.apply(this,arguments)}}()),Ze=yield function kt(C){return Promise.all(C.map(function(){var g=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(ke);S.ports[0].postMessage({status:"done",eventId:N,eventType:$,response:Ze})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function au(C="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return C+_}class dr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var S=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let $,Y;return new Promise((xe,ke)=>{const Ze=au("",20);N.port1.start();const wt=setTimeout(()=>{ke(new Error("unsupported_event"))},w);Y={messageChannel:N,onMessage(Vr){const Ci=Vr;if(Ci.data.eventId===Ze)switch(Ci.data.status){case"ack":clearTimeout(wt),$=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout($),xe(Ci.data.response);break;default:clearTimeout(wt),clearTimeout($),ke(new Error("invalid_response"))}}},S.handlers.add(Y),N.port1.addEventListener("message",Y.onMessage),S.target.postMessage({eventType:g,eventId:Ze,data:_},[N.port2])}).finally(()=>{Y&&S.removeMessageHandler(Y)})})()}}function mn(){return window}function gi(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function uu(){return(uu=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ld="firebaseLocalStorageDb",ei="firebaseLocalStorage",Vd="fbase_key";class ys{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function mi(C,g){return C.transaction([ei],g?"readwrite":"readonly").objectStore(ei)}function Pl(){const C=indexedDB.open(Ld,1);return new Promise((g,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const w=C.result;try{w.createObjectStore(ei,{keyPath:Vd})}catch(S){_(S)}}),C.addEventListener("success",(0,c.Z)(function*(){const w=C.result;w.objectStoreNames.contains(ei)?g(w):(w.close(),yield function B0(){const C=indexedDB.deleteDatabase(Ld);return new ys(C).toPromise()}(),g(yield Pl()))}))})}function Ud(C,g,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(C,g,_){const w=mi(C,!0).put({[Vd]:g,value:_});return new ys(w).toPromise()})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(C,g){const _=mi(C,!1).get(g),w=yield new ys(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Bd(C,g){const _=mi(C,!0).delete(g);return new ys(_).toPromise()}const $d=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield Pl()),_.db})()}_withRetries(_){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const N=yield w._openDb();return yield _(N)}catch(N){if(S++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return gi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=kp._getInstance(function U0(){return gi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(S,N){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function Fd(){return uu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new dr(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(w=N[0])&&void 0!==w&&w.fulfilled&&null!==(S=N[0])&&void 0!==S&&S.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Fp(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Pl();return yield Ud(_,Nl,"1"),yield Bd(_,Nl),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(N=>Ud(N,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(N=>function Yi(C,g){return lu.apply(this,arguments)}(N,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>Bd(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const w=yield _._withRetries($=>{const Y=mi($,!1).getAll();return new ys(Y).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:$,value:Y}of w)N.add($),JSON.stringify(_.localCache[$])!==JSON.stringify(Y)&&(_.notifyListeners($,Y),S.push($));for(const $ of Object.keys(_.localCache))_.localCache[$]&&!N.has($)&&(_.notifyListeners($,null),S.push($));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const N of Array.from(S))N(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),jd=1e12;class j0{constructor(g){this.auth=g,this.counter=jd,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new Fr(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||jd;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||jd))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,c.Z)(function*(){var w;return null===(w=_._widgets.get(g||jd))||void 0===w||w.execute(),""})()}}class Fr{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;z(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ha(C){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<C;w++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ln=fs("rcb"),Ny=new ji(3e4,6e4);class H0{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=mn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return z(function G0(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&ut(mn().grecaptcha)?Promise.resolve(mn().grecaptcha):new Promise((w,S)=>{const N=mn().setTimeout(()=>{S(de(g,"network-request-failed"))},Ny.get());mn()[ln]=()=>{mn().clearTimeout(N),delete mn()[ln];const Y=mn().grecaptcha;if(!Y||!ut(Y))return void S(de(g,"internal-error"));const xe=Y.render;Y.render=(ke,Ze)=>{const wt=xe(ke,Ze);return this.counter++,wt},this.hostLanguage=_,w(Y)},pn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ln,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),S(de(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=mn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ry{load(g){return(0,c.Z)(function*(){return new j0(g)})()}clearedOneInstance(){}}const $p="recaptcha",Hd={theme:"light",type:"image"};class wo{constructor(g,_=Object.assign({},Hd),w){this.parameters=_,this.type=$p,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(w),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ry:new H0,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(N=>{const $=Y=>{Y&&(g.tokenChangeListeners.delete($),N(Y))};g.tokenChangeListeners.add($),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=mn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){z(ui()&&!gi(),g.auth,"internal-error"),yield function z0(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function oe(C){return W.apply(this,arguments)}(g.auth);z(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class br{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=fi._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function vs(C,g,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(C,g,_){const w=In(C),S=yield Cs(w,g,(0,L.m9)(_));return new br(S,N=>Ed(w,N))})).apply(this,arguments)}function Rn(C,g,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C);yield hp(!1,w,"phone");const S=yield Cs(w.auth,g,(0,L.m9)(_));return new br(S,N=>fy(w,N))})).apply(this,arguments)}function _i(C,g,_){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C),S=yield Cs(w.auth,g,(0,L.m9)(_));return new br(S,N=>R0(w,N))})).apply(this,arguments)}function Cs(C,g,_){return Io.apply(this,arguments)}function Io(){return Io=(0,c.Z)(function*(C,g,_){var w;const S=yield _.verify();try{let N;if(z("string"==typeof S,C,"argument-error"),z(_.type===$p,C,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const $=N.session;if("phoneNumber"in N)return z("enroll"===$.type,C,"internal-error"),(yield function xp(C,g){return he(C,"POST","/v2/accounts/mfaEnrollment:start",J(C,g))}(C,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{z("signin"===$.type,C,"internal-error");const Y=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return z(Y,C,"missing-multi-factor-info"),(yield function Ay(C,g){return he(C,"POST","/v2/accounts/mfaSignIn:start",J(C,g))}(C,{mfaPendingCredential:$.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function Nn(C,g){return Gs.apply(this,arguments)}(C,{phoneNumber:N.phoneNumber,recaptchaToken:S});return $}}finally{_._reset()}}),Io.apply(this,arguments)}function Py(C,g){return zd.apply(this,arguments)}function zd(){return(zd=(0,c.Z)(function*(C,g){yield Cd((0,L.m9)(C),g)})).apply(this,arguments)}let Wd=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=In(_)}verifyPhoneNumber(_,w){return Cs(this.auth,_,(0,L.m9)(w))}static credential(_,w){return fi._fromVerification(_,w)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?fi._fromTokenResponse(w,S):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Qi(C,g){return g?Jn(g):(z(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class jt extends su{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ln(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Ln(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Ln(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Oy(C){return N0(C.auth,new jt(C),C.bypassAuthState)}function W0(C){const{auth:g,user:_}=C;return z(_,g,"internal-error"),dy(_,new jt(C),C.bypassAuthState)}function ky(C){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(C){const{auth:g,user:_}=C;return z(_,g,"internal-error"),Cd(_,new jt(C),C.bypassAuthState)})).apply(this,arguments)}class pa{constructor(g,_,w,S,N=!1){this.auth=g,this.resolver=w,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,c.Z)(function*(w,S){g.pendingPromise={resolve:w,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:N,tenantId:$,error:Y,type:xe}=g;if(Y)return void _.reject(Y);const ke={auth:_.auth,requestUri:w,sessionId:S,tenantId:$||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(xe)(ke))}catch(Ze){_.reject(Ze)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Oy;case"linkViaPopup":case"linkViaRedirect":return ky;case"reauthViaPopup":case"reauthViaRedirect":return W0;default:ve(this.auth,"internal-error")}}resolve(g){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yi=new ji(2e3,1e4);function kl(C,g,_){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(C,g,_){const w=In(C);Ce(C,g,xi);const S=Qi(w,_);return new bo(w,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function Fl(C,g,_){return qd.apply(this,arguments)}function qd(){return(qd=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C);Ce(w.auth,g,xi);const S=Qi(w.auth,_);return new bo(w.auth,"reauthViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}function jp(C,g,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C);Ce(w.auth,g,xi);const S=Qi(w.auth,_);return new bo(w.auth,"linkViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}let bo=(()=>{class C extends pa{constructor(_,w,S,N,$){super(_,w,N,$),this.provider=S,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const w=yield _.execute();return z(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,c.Z)(function*(){ye(1===_.filter.length,"Popup operations only handle one event");const w=au();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(de(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,yi.get())};_()}}return C.currentPopupAction=null,C})();const Ji="pendingRedirect",So=new Map;class ga extends pa{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,c.Z)(function*(){let w=So.get(_.auth._key());if(!w){try{const N=(yield function Ll(C,g){return Vl.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(N)}catch(S){w=()=>Promise.reject(S)}So.set(_.auth._key(),w)}return _.bypassAuthState||So.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const S=yield w.auth._redirectUserForId(g.eventId);if(S)return w.user=S,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Vl(){return(Vl=(0,c.Z)(function*(C,g){const _=Ul(g),w=du(C);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function Es(C,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(C,g){return du(C)._set(Ul(g),"true")})).apply(this,arguments)}function Zd(){So.clear()}function Lr(C,g){So.set(C._key(),g)}function du(C){return Jn(C._redirectPersistence)}function Ul(C){return ar(Ji,C.config.apiKey,C.name)}function Ys(C,g,_){return function tr(C,g,_){return Ri.apply(this,arguments)}(C,g,_)}function Ri(){return(Ri=(0,c.Z)(function*(C,g,_){const w=In(C);Ce(C,g,xi),yield w._initializationPromise;const S=Qi(w,_);return yield Es(S,w),S._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Ao(C,g,_){return function ws(C,g,_){return Gn.apply(this,arguments)}(C,g,_)}function Gn(){return(Gn=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C);Ce(w.auth,g,xi),yield w.auth._initializationPromise;const S=Qi(w.auth,_);yield Es(S,w.auth);const N=yield Bl(w);return S._openRedirect(w.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function hu(C,g,_){return function Mo(C,g,_){return Kd.apply(this,arguments)}(C,g,_)}function Kd(){return(Kd=(0,c.Z)(function*(C,g,_){const w=(0,L.m9)(C);Ce(w.auth,g,xi),yield w.auth._initializationPromise;const S=Qi(w.auth,_);yield hp(!1,w,g.providerId),yield Es(S,w.auth);const N=yield Bl(w);return S._openRedirect(w.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function Is(C,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(C,g){return yield In(C)._initializationPromise,zn(C,g,!1)})).apply(this,arguments)}function zn(C,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(C,g,_=!1){const w=In(C),S=Qi(w,g),$=yield new ga(w,S,_).execute();return $&&!_&&(delete $.user._redirectEventId,yield w._persistUserIfCurrent($.user),yield w._setRedirectUser(null,g)),$})).apply(this,arguments)}function Bl(C){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(C){const g=au(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class xo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function dt(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!ma(g)){const S=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(de(this.auth,S))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yd(g))}saveEventToCache(g){this.cachedEventUids.add(Yd(g)),this.lastProcessedEventTime=Date.now()}}function Yd(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function ma({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function fu(C){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(C,g={}){return he(C,"GET","/v1/projects",g)})).apply(this,arguments)}const pu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q0=/^https?/;function Pi(){return(Pi=(0,c.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield fu(C);for(const _ of g)try{if(Fy(_))return}catch{}ve(C,"unauthorized-domain")})).apply(this,arguments)}function Fy(C){const g=En(),{protocol:_,hostname:w}=new URL(g);if(C.startsWith("chrome-extension://")){const $=new URL(C);return""===$.hostname&&""===w?"chrome-extension:"===_&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&$.hostname===w}if(!q0.test(_))return!1;if(pu.test(C))return w===C;const S=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Ly=new ji(3e4,6e4);function ti(){const C=mn().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let $l=null;const Vy=new ji(5e3,15e3),_a="__/auth/iframe",Uy="emulator/auth/iframe",ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gu(C){const g=C.config;z(g.authDomain,C,"auth-domain-config-required");const _=g.emulator?ia(g,Uy):`https://${C.config.authDomain}/${_a}`,w={apiKey:g.apiKey,appName:C.name,v:re.SDK_VERSION},S=ya.get(C.config.apiHost);S&&(w.eid=S);const N=C._getFrameworks();return N.length&&(w.fw=N.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function xt(){return xt=(0,c.Z)(function*(C){const g=yield function Pn(C){return $l=$l||function K0(C){return new Promise((g,_)=>{var w,S,N;function $(){ti(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ti(),_(de(C,"network-request-failed"))},timeout:Ly.get()})}if(null!==(S=null===(w=mn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(N=mn().gapi)||void 0===N||!N.load){const Y=fs("iframefcb");return mn()[Y]=()=>{gapi.load?$():_(de(C,"network-request-failed"))},pn(`https://apis.google.com/js/api.js?onload=${Y}`).catch(xe=>_(xe))}$()}}).catch(g=>{throw $l=null,g})}(C),$l}(C),_=mn().gapi;return z(_,C,"internal-error"),g.open({where:document.body,url:gu(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(N,$){yield w.restyle({setHideOnLeave:!1});const Y=de(C,"network-request-failed"),xe=mn().setTimeout(()=>{$(Y)},Vy.get());function ke(){mn().clearTimeout(xe),N(w)}w.ping(ke).then(ke,()=>{$(Y)})});return function(N,$){return S.apply(this,arguments)}}()))}),xt.apply(this,arguments)}const mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class va{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ea="__/auth/handler",Hp="emulator/auth/handler",jl=encodeURIComponent("fac");function Xd(C,g,_,w,S,N){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(C,g,_,w,S,N){z(C.config.authDomain,C,"auth-domain-config-required"),z(C.config.apiKey,C,"invalid-api-key");const $={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:w,v:re.SDK_VERSION,eventId:S};if(g instanceof xi){g.setDefaultLanguage(C.languageCode),$.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||($.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ze,wt]of Object.entries(N||{}))$[Ze]=wt}if(g instanceof _s){const Ze=g.getScopes().filter(wt=>""!==wt);Ze.length>0&&($.scopes=Ze.join(","))}C.tenantId&&($.tid=C.tenantId);const Y=$;for(const Ze of Object.keys(Y))void 0===Y[Ze]&&delete Y[Ze];const xe=yield C._getAppCheckToken(),ke=xe?`#${jl}=${encodeURIComponent(xe)}`:"";return`${function Hl({config:C}){return C.emulator?ia(C,Hp):`https://${C.authDomain}/${Ea}`}(C)}?${(0,L.xO)(Y).slice(1)}${ke}`})).apply(this,arguments)}const Gl="webStorageSupport",yu=class zl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_e,this._completeRedirectFn=zn,this._overrideRedirectResult=Lr}_openPopup(g,_,w,S){var N=this;return(0,c.Z)(function*(){var $;ye(null===($=N.eventManagers[g._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const Y=yield Xd(g,_,w,En(),S);return function Ca(C,g,_,w=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-w)/2,0).toString();let Y="";const xe=Object.assign(Object.assign({},mu),{width:w.toString(),height:S.toString(),top:N,left:$}),ke=(0,L.z$)().toLowerCase();_&&(Y=q(ke)?"_blank":_),G(ke)&&(g=g||"http://localhost",xe.scrollbars="yes");const Ze=Object.entries(xe).reduce((Vr,[Ci,oh])=>`${Vr}${Ci}=${oh},`,"");if(function _t(C=(0,L.z$)()){var g;return wn(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ke)&&"_self"!==Y)return function Jd(C,g){const _=document.createElement("a");_.href=C,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",Y),new va(null);const wt=window.open(g||"",Y,Ze);z(wt,C,"popup-blocked");try{wt.focus()}catch{}return new va(wt)}(g,Y,au())})()}_openRedirect(g,_,w,S){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(g),function Rl(C){mn().location.href=C}(yield Xd(g,_,w,En(),S)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:S,promise:N}=this.eventManagers[_];return S?Promise.resolve(S):(ye(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,c.Z)(function*(){const w=yield function Ds(C){return xt.apply(this,arguments)}(g),S=new xo(g);return w.register("authEvent",N=>(z(N?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:S},_.iframes[g._key()]=w,S})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Gl,{type:Gl},S=>{var N;const $=null===(N=S?.[0])||void 0===N?void 0:N[Gl];void 0!==$&&_(!!$),ve(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Z0(C){return Pi.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return xn()||X()||wn()}};class By{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return me("unexpected MultiFactorSessionType")}}}class wa extends By{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new wa(g)}_finalizeEnroll(g,_,w){return function Np(C,g){return he(C,"POST","/v2/accounts/mfaEnrollment:finalize",J(C,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Vp(C,g){return he(C,"POST","/v2/accounts/mfaSignIn:finalize",J(C,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let eh=(()=>{class C{constructor(){}static assertion(_){return wa._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var vu="@firebase/auth";class $y{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Po=(0,L.Pz)("authIdTokenMaxAge")||300;let jy=null;const sh=C=>function(){var g=(0,c.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),S=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(S&&S>Po)return;const N=w?.token;jy!==N&&(jy=N,yield fetch(C,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function zp(C=(0,re.getApp)()){const g=(0,re._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const _=function hl(C,g){const _=(0,re._getProvider)(C,"auth");if(_.isInitialized()){const S=_.getImmediate(),N=_.getOptions();if((0,L.vZ)(N,g??{}))return S;ve(S,"already-initialized")}return _.initialize({options:g})}(C,{popupRedirectResolver:yu,persistence:[$d,Op,_e]}),w=(0,L.Pz)("authTokenSyncURL");if(w){const N=sh(w);(function Sp(C,g,_){(0,L.m9)(C).beforeAuthStateChanged(g,_)})(_,N,()=>N(_.currentUser)),function wy(C,g,_,w){(0,L.m9)(C).onIdTokenChanged(g,_,w)}(_,$=>N($))}const S=(0,L.q4)("auth");return S&&pd(_,`http://${S}`),_}!function Ro(C){(0,re._registerComponent)(new Ie.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:$,authDomain:Y}=w.options;z($&&!$.includes(":"),"invalid-api-key",{appName:w.name});const xe={apiKey:$,authDomain:Y,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:po(C)},ke=new hi(w,S,N,xe);return function ry(C,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Jn);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(w,g?.popupRedirectResolver)}(ke,_),ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new Ie.wA("auth-internal",g=>{const _=In(g.getProvider("auth").getImmediate());return new $y(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(vu,"0.23.2",function Gp(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,re.registerVersion)(vu,"0.23.2","esm2017")}("Browser")},9058:(Xe,Ee,k)=>{k.d(Ee,{$s:()=>Jn,BH:()=>ge,DV:()=>or,GJ:()=>Rr,L:()=>Ae,LL:()=>Se,P0:()=>De,Pz:()=>de,Sg:()=>Ce,UG:()=>me,UI:()=>Hi,US:()=>Ie,Wl:()=>at,Yr:()=>ji,ZB:()=>ne,ZR:()=>he,aH:()=>ve,b$:()=>ui,cI:()=>Xt,dS:()=>fo,eu:()=>Q,g5:()=>re,gK:()=>Yt,gQ:()=>et,h$:()=>Le,hl:()=>te,hu:()=>L,jU:()=>ye,m9:()=>ar,ne:()=>Qn,p$:()=>U,pd:()=>Ye,q4:()=>qe,r3:()=>mt,ru:()=>En,tV:()=>H,uI:()=>z,ug:()=>zi,vZ:()=>Gi,w1:()=>Ai,w9:()=>Er,xO:()=>Bs,xb:()=>Pr,z$:()=>K,zI:()=>le,zd:()=>Ut});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},L=function(V,F){if(!V)throw re(F)},re=function(V){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},se=function(V){const F=[];let G=0;for(let X=0;X<V.length;X++){let q=V.charCodeAt(X);q<128?F[G++]=q:q<2048?(F[G++]=q>>6|192,F[G++]=63&q|128):55296==(64512&q)&&X+1<V.length&&56320==(64512&V.charCodeAt(X+1))?(q=65536+((1023&q)<<10)+(1023&V.charCodeAt(++X)),F[G++]=q>>18|240,F[G++]=q>>12&63|128,F[G++]=q>>6&63|128,F[G++]=63&q|128):(F[G++]=q>>12|224,F[G++]=q>>6&63|128,F[G++]=63&q|128)}return F},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let q=0;q<V.length;q+=3){const He=V[q],tt=q+1<V.length,Gt=tt?V[q+1]:0,ur=q+2<V.length,wn=ur?V[q+2]:0;let fn=(15&Gt)<<2|wn>>6,xn=63&wn;ur||(xn=64,tt||(fn=64)),X.push(G[He>>2],G[(3&He)<<4|Gt>>4],G[fn],G[xn])}return X.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(se(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,X=0;for(;G<V.length;){const q=V[G++];if(q<128)F[X++]=String.fromCharCode(q);else if(q>191&&q<224){const He=V[G++];F[X++]=String.fromCharCode((31&q)<<6|63&He)}else if(q>239&&q<365){const ur=((7&q)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[X++]=String.fromCharCode(55296+(ur>>10)),F[X++]=String.fromCharCode(56320+(1023&ur))}else{const He=V[G++],tt=V[G++];F[X++]=String.fromCharCode((15&q)<<12|(63&He)<<6|63&tt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let q=0;q<V.length;){const He=G[V.charAt(q++)],Gt=q<V.length?G[V.charAt(q)]:0;++q;const wn=q<V.length?G[V.charAt(q)]:64;++q;const _t=q<V.length?G[V.charAt(q)]:64;if(++q,null==He||null==Gt||null==wn||null==_t)throw new Ne;X.push(He<<2|Gt>>4),64!==wn&&(X.push(Gt<<4&240|wn>>2),64!==_t&&X.push(wn<<6&192|_t))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(V){const F=se(V);return Ie.encodeByteArray(F,!0)},Ae=function(V){return Le(V).replace(/\./g,"")},H=function(V){try{return Ie.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function U(V){return ne(void 0,V)}function ne(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!Re(G)||(V[G]=ne(V[G],F[G]));return V}function Re(V){return"__proto__"!==V}const Me=()=>{try{return function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&H(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},qe=V=>{var F,G;return null===(G=null===(F=Me())||void 0===F?void 0:F.emulatorHosts)||void 0===G?void 0:G[V]},De=V=>{const F=qe(V);if(!F)return;const G=F.lastIndexOf(":");if(G<=0||G+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const X=parseInt(F.substring(G+1),10);return"["===F[0]?[F.substring(1,G-1),X]:[F.substring(0,G),X]},ve=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},de=V=>{var F;return null===(F=Me())||void 0===F?void 0:F[`_${V}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,X)=>{G?this.reject(G):this.resolve(X),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,X))}}}function Ce(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=F||"demo-project",q=V.iat||0,He=V.sub||V.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:q,exp:q+3600,auth_time:q,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},V);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(tt)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function me(){var V;const F=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function En(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function ui(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ai(){const V=K();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function ji(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function Q(){return new Promise((V,F)=>{try{let G=!0;const X="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(X);q.onsuccess=()=>{q.result.close(),G||self.indexedDB.deleteDatabase(X),V(!0)},q.onupgradeneeded=()=>{G=!1},q.onerror=()=>{var He;F((null===(He=q.error)||void 0===He?void 0:He.message)||"")}}catch(G){F(G)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(F,G,X){super(G),this.code=F,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(F,G,X){this.service=F,this.serviceName=G,this.errors=X}create(F,...G){const X=G[0]||{},q=`${this.service}/${F}`,He=this.errors[F],tt=He?function it(V,F){return V.replace(Ot,(G,X)=>{const q=F[X];return null!=q?String(q):`<${X}?>`})}(He,X):"Error";return new he(q,`${this.serviceName}: ${tt} (${q}).`,X)}}const Ot=/\{\$([^}]+)}/g;function Xt(V){return JSON.parse(V)}function at(V){return JSON.stringify(V)}const vt=function(V){let F={},G={},X={},q="";try{const He=V.split(".");F=Xt(H(He[0])||""),G=Xt(H(He[1])||""),q=He[2],X=G.d||{},delete G.d}catch{}return{header:F,claims:G,data:X,signature:q}},Er=function(V){const G=vt(V).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Rr=function(V){const F=vt(V).claims;return"object"==typeof F&&!0===F.admin};function mt(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function or(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function Pr(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function Hi(V,F,G){const X={};for(const q in V)Object.prototype.hasOwnProperty.call(V,q)&&(X[q]=F.call(G,V[q],q,V));return X}function Gi(V,F){if(V===F)return!0;const G=Object.keys(V),X=Object.keys(F);for(const q of G){if(!X.includes(q))return!1;const He=V[q],tt=F[q];if(sa(He)&&sa(tt)){if(!Gi(He,tt))return!1}else if(He!==tt)return!1}for(const q of X)if(!G.includes(q))return!1;return!0}function sa(V){return null!==V&&"object"==typeof V}function Bs(V){const F=[];for(const[G,X]of Object.entries(V))Array.isArray(X)?X.forEach(q=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(q))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(X));return F.length?"&"+F.join("&"):""}function Ut(V){const F={};return V.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[q,He]=X.split("=");F[decodeURIComponent(q)]=decodeURIComponent(He)}}),F}function Ye(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}class et{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,G){G||(G=0);const X=this.W_;if("string"==typeof F)for(let _t=0;_t<16;_t++)X[_t]=F.charCodeAt(G)<<24|F.charCodeAt(G+1)<<16|F.charCodeAt(G+2)<<8|F.charCodeAt(G+3),G+=4;else for(let _t=0;_t<16;_t++)X[_t]=F[G]<<24|F[G+1]<<16|F[G+2]<<8|F[G+3],G+=4;for(let _t=16;_t<80;_t++){const fn=X[_t-3]^X[_t-8]^X[_t-14]^X[_t-16];X[_t]=4294967295&(fn<<1|fn>>>31)}let wn,hn,q=this.chain_[0],He=this.chain_[1],tt=this.chain_[2],Gt=this.chain_[3],ur=this.chain_[4];for(let _t=0;_t<80;_t++){_t<40?_t<20?(wn=Gt^He&(tt^Gt),hn=1518500249):(wn=He^tt^Gt,hn=1859775393):_t<60?(wn=He&tt|Gt&(He|tt),hn=2400959708):(wn=He^tt^Gt,hn=3395469782);const fn=(q<<5|q>>>27)+wn+ur+hn+X[_t]&4294967295;ur=Gt,Gt=tt,tt=4294967295&(He<<30|He>>>2),He=q,q=fn}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+tt&4294967295,this.chain_[3]=this.chain_[3]+Gt&4294967295,this.chain_[4]=this.chain_[4]+ur&4294967295}update(F,G){if(null==F)return;void 0===G&&(G=F.length);const X=G-this.blockSize;let q=0;const He=this.buf_;let tt=this.inbuf_;for(;q<G;){if(0===tt)for(;q<=X;)this.compress_(F,q),q+=this.blockSize;if("string"==typeof F){for(;q<G;)if(He[tt]=F.charCodeAt(q),++tt,++q,tt===this.blockSize){this.compress_(He),tt=0;break}}else for(;q<G;)if(He[tt]=F[q],++tt,++q,tt===this.blockSize){this.compress_(He),tt=0;break}}this.inbuf_=tt,this.total_+=G}digest(){const F=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&G,G/=256;this.compress_(this.buf_);let X=0;for(let q=0;q<5;q++)for(let He=24;He>=0;He-=8)F[X]=this.chain_[q]>>He&255,++X;return F}}function Qn(V,F){const G=new Qe(V,F);return G.subscribe.bind(G)}class Qe{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(X=>{this.error(X)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,X){let q;if(void 0===F&&void 0===G&&void 0===X)throw new Error("Missing Observer.");q=function li(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:X},void 0===q.next&&(q.next=Bt),void 0===q.error&&(q.error=Bt),void 0===q.complete&&(q.complete=Bt);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),He}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}function Yt(V,F){return`${V} failed: ${F} argument `}const fo=function(V){const F=[];let G=0;for(let X=0;X<V.length;X++){let q=V.charCodeAt(X);if(q>=55296&&q<=56319){const He=q-55296;X++,L(X<V.length,"Surrogate pair missing trail surrogate."),q=65536+(He<<10)+(V.charCodeAt(X)-56320)}q<128?F[G++]=q:q<2048?(F[G++]=q>>6|192,F[G++]=63&q|128):q<65536?(F[G++]=q>>12|224,F[G++]=q>>6&63|128,F[G++]=63&q|128):(F[G++]=q>>18|240,F[G++]=q>>12&63|128,F[G++]=q>>6&63|128,F[G++]=63&q|128)}return F},zi=function(V){let F=0;for(let G=0;G<V.length;G++){const X=V.charCodeAt(G);X<128?F++:X<2048?F+=2:X>=55296&&X<=56319?(F+=4,G++):F+=3}return F},ci=1e3,Kr=2,wr=144e5,di=.5;function Jn(V,F=ci,G=Kr){const X=F*Math.pow(G,V),q=Math.round(di*X*(Math.random()-.5)*2);return Math.min(wr,X+q)}function ar(V){return V&&V._delegate?V._delegate:V}},1113:(Xe,Ee,k)=>{var c=k(8926);let L=null;function re(){return L}class fe{}const Ie=new c.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ae)},providedIn:"platform"}),n})();const Le=new c.OlP("Location Initialized");let Ae=(()=>{class n extends Ne{constructor(){super(),this._doc=(0,c.f3M)(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(t){const r=re().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=re().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function U(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ze)},providedIn:"root"}),n})();const ce=new c.OlP("appBaseHref");let ze=(()=>{class n extends Re{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+ne(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+ne(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends Re{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+ne(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+ne(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ne),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(U(De(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ne,n.joinWithSlash=H,n.stripTrailingSlash=U,n.\u0275fac=function(t){return new(t||n)(c.LFG(Re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Me(){return new be((0,c.LFG)(Re))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}class ny{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ny(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),In(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{In(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function In(n,e){n.context.$implicit=e.item}let hl=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ry,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ry{constructor(){this.$implicit=null,this.ngIf=null}}function pd(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class ml{createSubscription(e,t){return(0,c.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,c.rg0)(()=>e.unsubscribe())}}class _l{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ou=new _l,Vt=new ml;let Xn=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return ou;if((0,c.F4k)(t))return Vt;throw function Yr(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function zs(n){return"server"===n}let _s=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new It((0,c.LFG)(Ie),window)}),n})();class It{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _d(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ay(this.window.history)||ay(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ay(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bp extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Al extends bp{static makeCurrent(){!function se(n){L||(L=n)}(new Al)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ey(){return Zt=Zt||document.querySelector("base"),Zt?Zt.getAttribute("href"):null}();return null==t?null:function Jr(n){da=da||document.createElement("a"),da.setAttribute("href",n);const e=da.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ps(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let da,Zt=null,Sp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Co=new c.OlP("EventManagerPlugins");let Xr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(a=>a.supports(t)),!r)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Co),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Iy{constructor(e){this._doc=e}}const Ap="ng-app-id";let Ty=(()=>{class n{constructor(t,r,i,a={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zs(a),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ap}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const a=i.get(t);return a.usage+=r,a.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===t)return i.delete(r),a.removeAttribute(Ap),a;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Ap,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const a=this.styleRef,l=a.get(r)?.elements;l?l.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const pi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g,V0=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pd(n,e){return e.map(t=>t.replace(Ki,n))}let xl=(()=>{class n{constructor(t,r,i,a,l,f,m,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=f,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=zs(f),this.defaultRenderer=new Od(t,l,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===c.ifc.ShadowDom&&(r={...r,encapsulation:c.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof by?i.applyToHost(t):i instanceof kd&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.doc,f=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(r.encapsulation){case c.ifc.Emulated:a=new by(m,v,r,this.appId,T,l,f,b);break;case c.ifc.ShadowDom:return new Dy(m,v,t,r,l,f,this.nonce,b);default:a=new kd(m,v,r,T,l,f,b)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xr),c.LFG(Ty),c.LFG(c.AFp),c.LFG(V0),c.LFG(Ie),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Od{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(pi[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Eo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Eo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new c.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=pi[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pi[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=re().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Eo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dy extends Od{constructor(e,t,r,i,a,l,f,m){super(e,a,l,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=Pd(i.id,i.styles);for(const T of v){const b=document.createElement("style");f&&b.setAttribute("nonce",f),b.textContent=T,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kd extends Od{constructor(e,t,r,i,a,l,f,m){super(e,a,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=m?Pd(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class by extends kd{constructor(e,t,r,i,a,l,f,m){const v=i+"-"+r.id;super(e,t,r,a,l,f,m,v),this.contentAttr=function ct(n){return"_ngcontent-%COMP%".replace(Ki,n)}(v),this.hostAttr=function Rp(n){return"_nghost-%COMP%".replace(Ki,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Op=(()=>{class n extends Iy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sy=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kp=(()=>{class n extends Iy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Sy.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),l+=v+".")}),l+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=_e[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sy.forEach(l=>{l!==i&&(0,kt[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const U0=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function gi(){Al.makeCurrent()},multi:!0},{provide:Ie,useFactory:function uu(){return(0,c.RDi)(document),document},deps:[]}]),Ld=new c.OlP(""),hr=[{provide:c.rWj,useClass:class wy{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new c.vHH(5103,!1);return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(m){l=l||m,a--,0==a&&r(l)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?re().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ei=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Fd(){return new c.qLn},deps:[]},{provide:Co,useClass:Op,multi:!0,deps:[Ie,c.R0b,c.Lbi]},{provide:Co,useClass:kp,multi:!0,deps:[Ie]},xl,Ty,Xr,{provide:c.FYo,useExisting:xl},{provide:class Zi{},useClass:Sp,deps:[]},[]];let Vd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ld,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...ei,...hr],imports:[oa,c.hGG]}),n})(),Ud=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Pl(){return new Ud((0,c.LFG)(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var br=k(5592),vs=k(4674),Rn=k(2459),nt=k(2096),_i=k(5619);const{isArray:Gd}=Array,{getPrototypeOf:Cs,prototype:Io,keys:Py}=Object;function zd(n){if(1===n.length){const e=n[0];if(Gd(e))return{args:e,keys:null};if(function Wd(n){return n&&"object"==typeof n&&Cs(n)===Io}(e)){const t=Py(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Qi=k(2737),jt=k(7398);const{isArray:Oy}=Array;function ky(n){return(0,jt.U)(e=>function W0(n,e){return Oy(e)?n(...e):n(e)}(n,e))}var Ks=k(4564);function pa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var yi=k(8251),kl=k(7103);function To(...n){const e=(0,Ks.yG)(n),t=(0,Ks.jO)(n),{args:r,keys:i}=zd(n);if(0===r.length)return(0,Rn.D)([],e);const a=new br.y(function Fl(n,e,t=Qi.y){return r=>{qd(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)qd(e,()=>{const v=(0,Rn.D)(n[m],e);let T=!1;v.subscribe((0,yi.x)(r,b=>{a[m]=b,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>pa(i,l):Qi.y));return t?a.pipe(ky(t)):a}function qd(n,e,t){n?(0,kl.f)(t,n,e):e()}const Do=(0,k(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bo=k(7537);function So(...n){return function Ji(){return(0,bo.J)(1)}()((0,Rn.D)(n,(0,Ks.yG)(n)))}var ga=k(4829);function Ll(n){return new br.y(e=>{(0,ga.Xf)(n()).subscribe(e)})}var Vl=k(8407);function Es(n,e){const t=(0,vs.m)(n)?n:()=>n,r=i=>i.error(t());return new br.y(e?i=>e.schedule(r,0,i):r)}var vi=k(6232),Zd=k(7394),Lr=k(9360);function du(){return(0,Lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ul extends br.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zd.w0.EMPTY)}return e}refCount(){return du()(this)}}var Ys=k(8645),tr=k(4664);function Ri(n){return n<=0?()=>vi.E:(0,Lr.e)((e,t)=>{let r=0;e.subscribe((0,yi.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ws(n,e){return(0,Lr.e)((t,r)=>{let i=0;t.subscribe((0,yi.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Gn=k(1631);function hu(n){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,yi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mo(n=Kd){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,yi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Kd(){return new Do}function Is(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,a)=>n(i,a,r)):Qi.y,Ri(1),t?hu(e):Mo(()=>new Do))}function Ts(n,e){return(0,vs.m)(e)?(0,Gn.z)(n,e,1):(0,Gn.z)(n,1)}function zn(n,e,t){const r=(0,vs.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Lr.e)((i,a)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,yi.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Qi.y}function Xi(n){return(0,Lr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,yi.x)(t,void 0,void 0,l=>{a=(0,ga.Xf)(n(l,Xi(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Js(n){return n<=0?()=>vi.E:(0,Lr.e)((e,t)=>{let r=[];e.subscribe((0,yi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ma(n){return(0,Lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const dt="primary",fu=Symbol("RouteTitle");class Qd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pu(n){return new Qd(n)}function q0(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Fy(n[i],e[i]))return!1;return!0}function Fy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Ly(n){return n.length>0?n[n.length-1]:null}function ti(n){return function fa(n){return!!n&&(n instanceof br.y||(0,vs.m)(n.lift)&&(0,vs.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):(0,nt.of)(n)}const K0={exact:function _a(n,e,t){if(!No(n.segments,e.segments)||!gu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_a(n.children[r],e.children[r],t))return!1;return!0},subset:ni},$l={exact:function Vy(n,e){return Pi(n,e)},subset:function Uy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Fy(n[t],e[t]))},ignored:()=>!0};function Pn(n,e,t){return K0[t.paths](n.root,e.root,t.matrixParams)&&$l[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ni(n,e,t){return ya(n,e,e.segments,t)}function ya(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!No(i,t)||e.hasChildren()||!gu(i,t,r))}if(n.segments.length===t.length){if(!No(n.segments,t)||!gu(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ni(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(No(n.segments,i)&&gu(n.segments,i,r)&&n.children[dt])&&ya(n.children[dt],e,a,r)}}function gu(n,e,t){return e.every((r,i)=>$l[t](n[i].parameters,r.parameters))}class Ds{constructor(e=new xt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return Ca.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}}class mu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pu(this.parameters)),this._parameterMap}toString(){return zl(this)}}function No(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let nr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new va},providedIn:"root"}),n})();class va{parse(e){const t=new $y(e);return new Ds(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ea(e.root,!0)}`,r=function By(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${jl(t)}=${jl(i)}`).join("&"):`${jl(t)}=${jl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ca=new va;function Jd(n){return n.segments.map(e=>zl(e)).join("/")}function Ea(n,e){if(!n.hasChildren())return Jd(n);if(e){const t=n.children[dt]?Ea(n.children[dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,a])=>{i!==dt&&r.push(`${i}:${Ea(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q0(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==dt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===dt?[Ea(n.children[dt],!1)]:[`${i}:${Ea(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${Jd(n)}/${t[0]}`:`${Jd(n)}/(${t.join("//")})`}}function Hp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(n){return Hp(n).replace(/%3B/gi,";")}function _u(n){return Hp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hl(n){return decodeURIComponent(n)}function Gl(n){return Hl(n.replace(/\+/g,"%20"))}function zl(n){return`${_u(n.path)}${function yu(n){return Object.keys(n).map(e=>`;${_u(e)}=${_u(n[e])}`).join("")}(n.parameters)}`}const wa=/^[^\/()?;#]+/;function eh(n){const e=n.match(wa);return e?e[0]:""}const th=/^[^\/()?;=#]+/,rh=/^[^=?&#]+/,vu=/^[^&#]+/;class $y{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[dt]=new xt(e,t)),r}parseSegment(){const e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new mu(Hl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function nh(n){const e=n.match(th);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eh(this.remaining);i&&(r=i,this.capture(r))}e[Hl(t)]=Hl(r)}parseQueryParam(e){const t=function Ia(n){const e=n.match(rh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function ih(n){const e=n.match(vu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Gl(t),a=Gl(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=dt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[dt]:new xt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Gp(n){return n.segments.length>0?new xt([],{[dt]:n}):n}function Ro(n){const e={};for(const r of Object.keys(n.children)){const a=Ro(n.children[r]);if(r===dt&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Cu(n){if(1===n.numberOfChildren&&n.children[dt]){const e=n.children[dt];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}function Po(n){return n instanceof Ds}function sh(n){let e;const i=Gp(function t(a){const l={};for(const m of a.children){const v=t(m);l[m.outlet]=v}const f=new xt(a.url,l);return a===n&&(e=f),f}(n.root));return e??i}function zp(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return _(i,i,i,t,r);const a=function N(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([m,v])=>{f[m]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new S(t,e,r)}(e);if(a.toRoot())return _(i,i,new xt([],{}),t,r);const l=function Y(n,e,t){if(n.isAbsolute)return new $(e,!0,0);if(!t)return new $(e,!1,NaN);if(null===t.parent)return new $(t,!0,0);const r=C(n.commands[0])?0:1;return function xe(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new $(r,!1,i-a)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(a,i,n),f=l.processChildren?wt(l.segmentGroup,l.index,a.commands):Ze(l.segmentGroup,l.index,a.commands);return _(i,l.segmentGroup,f,t,r)}function C(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,r,i){let l,a={};r&&Object.entries(r).forEach(([m,v])=>{a[m]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),l=n===e?t:w(n,e,t);const f=Gp(Ro(l));return new Ds(f,a,i)}function w(n,e,t){const r={};return Object.entries(n.children).forEach(([i,a])=>{r[i]=a===e?t:w(a,e,t)}),new xt(n.segments,r)}class S{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&C(r[0]))throw new c.vHH(4003,!1);const i=r.find(g);if(i&&i!==Ly(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ${constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ze(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return wt(n,e,t);const r=function Vr(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(g(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ta(m,v,l))return a;r+=2}else{if(!Ta(m,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new xt(n.segments.slice(0,r.pathIndex),{});return a.children[dt]=new xt(n.segments.slice(r.pathIndex),n.children),wt(a,0,i)}return r.match&&0===i.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?Ci(n,e,t):r.match?wt(n,0,i):Ci(n,e,t)}function wt(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function ke(n){return g(n[0])?n[0].outlets:{[dt]:n}}(t),i={};if(!r[dt]&&n.children[dt]&&1===n.numberOfChildren&&0===n.children[dt].segments.length){const a=wt(n.children[dt],e,t);return new xt(n.segments,a.children)}return Object.entries(r).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[a]=Ze(n.children[a],e,l))}),Object.entries(n.children).forEach(([a,l])=>{void 0===r[a]&&(i[a]=l)}),new xt(n.segments,i)}}function Ci(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(g(a)){const m=oh(a.outlets);return new xt(r,m)}if(0===i&&C(t[0])){r.push(new mu(n.segments[e].path,Wp(t[0]))),i++;continue}const l=g(a)?a.outlets[dt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&C(f)?(r.push(new mu(l,Wp(f))),i+=2):(r.push(new mu(l,{})),i++)}return new xt(r,{})}function oh(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Ci(new xt([],{}),0,r))}),e}function Wp(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ta(n,e,t){return n==t.path&&Pi(e,t.parameters)}const Eu="imperative";class es{constructor(e,t){this.id=e,this.url=t}}class Wl extends es{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oo extends es{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ql extends es{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ko extends es{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Fo extends es{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ah extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zl extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qp extends es{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J0 extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kl extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zA{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nI{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wu,this.attachRef=null}}let wu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gy(e,this._root).map(t=>t.value)}}function Hy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hy(n,t);if(r)return r}return null}function Gy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gy(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class iI extends rI{constructor(e,t){super(e),this.snapshot=t,Qp(this,e)}toString(){return this.snapshot.toString()}}function ri(n,e){const t=function zy(n,e){const l=new Da([],{},{},"",{},dt,e,null,{});return new Wy("",new eo(l,[]))}(0,e),r=new _i.X([new mu("",{})]),i=new _i.X({}),a=new _i.X({}),l=new _i.X({}),f=new _i.X(""),m=new Iu(r,i,l,f,a,dt,e,t.root);return m.snapshot=t.root,new iI(new eo(m,[]),t)}class Iu{constructor(e,t,r,i,a,l,f,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,jt.U)(v=>v[fu]))??(0,nt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(e=>pu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(e=>pu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Ur(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Da{get title(){return this.data?.[fu]}constructor(e,t,r,i,a,l,f,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wy extends rI{constructor(e,t){super(t),this.url=e,Qp(this,t)}toString(){return sI(this._root)}}function Qp(n,e){e.value._routerState=n,e.children.forEach(t=>Qp(n,t))}function sI(n){const e=n.children.length>0?` { ${n.children.map(sI).join(", ")} } `:"";return`${n.value}${e}`}function Jp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pi(e.params,t.params)||n.paramsSubject.next(t.params),function Z0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Pi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function qy(n,e){const t=Pi(n.params,e.params)&&function Y0(n,e){return No(n,e)&&n.every((t,r)=>Pi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||qy(n.parent,e.parent))}let Xp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(wu),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(uh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new WA(t,f,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class WA{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Iu?this.route:e===wu?this.childContexts:this.parent.get(e,t)}}const uh=new c.OlP("");let oI=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=To([r.queryParams,r.params,r.data]).pipe((0,tr.w)(([a,l,f],m)=>(f={...a,...l,...f},0===m?(0,nt.of)(f):Promise.resolve(f)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,c.qFp)(r.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,a[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Zy(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tu(n,r,i);return Tu(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Tu(n,f)),l}}const r=function ZA(n){return new Iu(new _i.X(n.url),new _i.X(n.params),new _i.X(n.queryParams),new _i.X(n.fragment),new _i.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Tu(n,a));return new eo(r,i)}}const Du="ngNavigationCancelingError";function aI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function uI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Du]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ky(n){return Yy(n)&&Po(n.url)}function Yy(n){return n&&n[Du]}let Qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Xp],encapsulation:2}),n})();function ev(n){const e=n.children&&n.children.map(ev),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=Qy),t}function bs(n){return n.outlet||dt}function bu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eM{constructor(e,t,r,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new zA(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Jp(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Jp(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=bu(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class dI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jl{constructor(e,t){this.component=e,this.route=t}}function hI(n,e,t){const r=n._root;return Xl(r,e?e._root:null,t,[r.value])}function Au(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Xl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Yl(e);return n.children.forEach(l=>{(function tM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function Bk(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!Pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qy(n,e)||!Pi(n.queryParams,e.queryParams);default:return!qy(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new dI(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Xl(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Jl(f.outlet.component,l))}else l&&ba(e,f,i),i.canActivateChecks.push(new dI(r)),Xl(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>ba(f,t.getContext(l),i)),i}function ba(n,e,t){const r=Yl(n),i=n.value;Object.entries(r).forEach(([a,l])=>{ba(l,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Jl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function lh(n){return"function"==typeof n}function ng(n){return n instanceof Do||"EmptyError"===n?.name}const Mu=Symbol("INITIAL_VALUE");function xu(){return(0,tr.w)(n=>To(n.map(e=>e.pipe(Ri(1),function Ao(...n){const e=(0,Ks.yG)(n);return(0,Lr.e)((t,r)=>{(e?So(n,t,e):So(n,t)).subscribe(r)})}(Mu)))).pipe((0,jt.U)(e=>{for(const t of e)if(!0!==t){if(t===Mu)return Mu;if(!1===t||t instanceof Ds)return t}return!0}),ws(e=>e!==Mu),Ri(1)))}function dh(n){return(0,Vl.z)(zn(e=>{if(Po(e))throw aI(0,e)}),(0,jt.U)(e=>!0===e))}class Lo{constructor(e){this.segmentGroup=e||null}}class EI{constructor(e){this.urlTree=e}}function ec(n){return Es(new Lo(n))}function oM(n){return Es(new EI(n))}class uM{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new c.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,nt.of)(r);if(i.numberOfChildren>1||!i.children[dt])return Es(new c.vHH(4e3,!1));i=i.children[dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ds(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[i]=t[f]}else r[i]=a}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,m])=>{l[f]=this.createSegmentGroup(e,m,r,i)}),new xt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Nu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rg(n,e,t,r,i){const a=hh(n,e,t);return a.matched?(r=function Ql(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function iv(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,nt.of)(!0);const a=i.map(l=>{const f=Au(l,n);return ti(function eg(n){return n&&lh(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,nt.of)(a).pipe(xu(),dh())}(r,e,t).pipe((0,jt.U)(l=>!0===l?a:{...Nu}))):(0,nt.of)(a)}function hh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Nu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||q0)(t,n,e);if(!i)return{...Nu};const a={};Object.entries(i.posParams??{}).forEach(([f,m])=>{a[f]=m.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function ov(n,e,t,r){return t.length>0&&function TI(n,e,t){return t.some(r=>ig(n,e,r)&&bs(r)!==dt)}(n,t,r)?{segmentGroup:new xt(e,II(r,new xt(t,n.children))),slicedSegments:[]}:0===t.length&&function lM(n,e,t){return t.some(r=>ig(n,e,r))}(n,t,r)?{segmentGroup:new xt(n.segments,wI(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xt(n.segments,n.children),slicedSegments:t}}function wI(n,e,t,r,i){const a={};for(const l of r)if(ig(n,t,l)&&!i[bs(l)]){const f=new xt([],{});a[bs(l)]=f}return{...i,...a}}function II(n,e){const t={};t[dt]=e;for(const r of n)if(""===r.path&&bs(r)!==dt){const i=new xt([],{});t[bs(r)]=i}return t}function ig(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Sa{constructor(e,t,r,i,a,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new uM(this.urlSerializer,this.urlTree)}noMatchError(e){return new c.vHH(4002,!1)}recognize(){const e=ov(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,dt).pipe(Xi(t=>{if(t instanceof EI)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Lo?this.noMatchError(t):t}),(0,jt.U)(t=>{const r=new Da([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),i=new eo(r,t),a=new Wy("",i),l=function jy(n,e,t=null,r=null){return zp(sh(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,dt).pipe(Xi(r=>{throw r instanceof Lo?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Yp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Rn.D)(i).pipe(Ts(a=>{const l=r.children[a],f=function cI(n,e){const t=n.filter(r=>bs(r)===e);return t.push(...n.filter(r=>bs(r)!==e)),t}(t,a);return this.processSegmentGroup(e,f,l,a)}),function Qs(n,e){return(0,Lr.e)(function Bl(n,e,t,r,i){return(a,l)=>{let f=t,m=e,v=0;a.subscribe((0,yi.x)(l,T=>{const b=v++;m=f?n(m,T,b):(f=!0,T),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}((a,l)=>(a.push(...l),a)),hu(null),function xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,a)=>n(i,a,r)):Qi.y,Js(1),t?hu(e):Mo(()=>new Do))}(),(0,Gn.z)(a=>{if(null===a)return ec(r);const l=pM(a);return function fh(n){n.sort((e,t)=>e.value.outlet===dt?-1:t.value.outlet===dt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,nt.of)(l)}))}processSegment(e,t,r,i,a,l){return(0,Rn.D)(t).pipe(Ts(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,a,l).pipe(Xi(m=>{if(m instanceof Lo)return(0,nt.of)(null);throw m}))),Is(f=>!!f),Xi(f=>{if(ng(f))return function dM(n,e,t){return 0===e.length&&!n.children[t]}(r,i,a)?(0,nt.of)([]):ec(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,a,l,f){return function cM(n,e,t,r){return!!(bs(n)===r||r!==dt&&ig(e,t,n))&&("**"===n.path||hh(e,n,t).matched)}(r,i,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,a,l):ec(i):ec(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oM(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Gn.z)(l=>{const f=new xt(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:T}=hh(t,i,a);if(!f)return ec(t);const b=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,T);return i.redirectTo.startsWith("/")?oM(b):this.applyRedirects.lineralizeSegments(i,b).pipe((0,Gn.z)(x=>this.processSegment(e,r,t,x.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a,l){let f;if("**"===r.path){const m=i.length>0?Ly(i).parameters:{},v=new Da(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gM(r),bs(r),r.component??r._loadedComponent??null,r,mM(r));f=(0,nt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=rg(t,r,i,e).pipe((0,jt.U)(({matched:m,consumedSegments:v,remainingSegments:T,parameters:b})=>m?{snapshot:new Da(v,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gM(r),bs(r),r.component??r._loadedComponent??null,r,mM(r)),consumedSegments:v,remainingSegments:T}:null));return f.pipe((0,tr.w)(m=>null===m?ec(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,tr.w)(({routes:v})=>{const T=r._loadedInjector??e,{snapshot:b,consumedSegments:x,remainingSegments:O}=m,{segmentGroup:B,slicedSegments:ee}=ov(t,x,O,v);if(0===ee.length&&B.hasChildren())return this.processChildren(T,v,B).pipe((0,jt.U)(Pe=>null===Pe?null:[new eo(b,Pe)]));if(0===v.length&&0===ee.length)return(0,nt.of)([new eo(b,[])]);const ae=bs(r)===a;return this.processSegment(T,v,B,ee,ae?dt:a,!0).pipe((0,jt.U)(Pe=>[new eo(b,Pe)]))}))))}getChildConfig(e,t,r){return t.children?(0,nt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,nt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function CI(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,nt.of)(!0);const a=i.map(l=>{const f=Au(l,n);return ti(function pI(n){return n&&lh(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,nt.of)(a).pipe(xu(),dh())}(e,t,r).pipe((0,Gn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(zn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function sv(n){return Es(uI(!1,3))}())):(0,nt.of)({routes:[],injector:e})}}function fM(n){const e=n.value.routeConfig;return e&&""===e.path}function pM(n){const e=[],t=new Set;for(const r of n){if(!fM(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pM(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function gM(n){return n.data||{}}function mM(n){return n.resolve||{}}function sg(n){return"string"==typeof n.title||null===n.title}function Ss(n){return(0,tr.w)(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,jt.U)(()=>e)):(0,nt.of)(e)})}const to=new c.OlP("ROUTES");let og=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,nt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ti(t.loadComponent()).pipe((0,jt.U)(av),zn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ma(()=>{this.componentLoaders.delete(t)})),i=new Ul(r,()=>new Ys.x).pipe(du());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,nt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,jt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v;return Array.isArray(f)?v=f:(m=f.create(t).injector,v=m.get(to,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:v.map(ev),injector:m}}),ma(()=>{this.childrenLoaders.delete(r)})),l=new Ul(a,()=>new Ys.x).pipe(du());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return ti(t()).pipe((0,jt.U)(av),(0,Gn.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,nt.of)(r):(0,Rn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n){return function bI(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let uv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ys.x,this.configLoader=(0,c.f3M)(og),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(nr),this.rootContexts=(0,c.f3M)(wu),this.inputBindingEnabled=null!==(0,c.f3M)(uh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,nt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new eI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new X0(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new _i.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(r=>0!==r.id),(0,jt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,tr.w)(r=>{let i=!1,a=!1;return(0,nt.of)(r).pipe(zn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tr.w)(l=>{const f=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new ko(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),vi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return EM(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,nt.of)(l).pipe((0,tr.w)(T=>{const b=this.transitions?.getValue();return this.events.next(new Wl(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),b!==this.transitions?.getValue()?vi.E:Promise.resolve(T)}),function $k(n,e,t,r,i,a){return(0,Gn.z)(l=>function hM(n,e,t,r,i,a,l="emptyOnly"){return new Sa(n,e,t,r,i,l,a).recognize()}(n,e,t,r,l.extractedUrl,i,a).pipe((0,jt.U)(({state:f,tree:m})=>({...l,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const x=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(x,T)}t.browserUrlTree=T.urlAfterRedirects}const b=new ah(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(b)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:b,source:x,restoredState:O,extras:B}=l,ee=new Wl(T,this.urlSerializer.serialize(b),x,O);this.events.next(ee);const ae=ri(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:ae,urlAfterRedirects:b,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,nt.of)(r)}{const T="";return this.events.next(new ko(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),vi.E}}),zn(l=>{const f=new Zl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,jt.U)(l=>r={...l,guards:hI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function rv(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?(0,nt.of)({...t,guardsResult:!0}):function ch(n,e,t,r){return(0,Rn.D)(n).pipe((0,Gn.z)(i=>function vI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,nt.of)(!0);const l=a.map(f=>{const m=bu(e)??i,v=Au(f,m);return ti(function mI(n){return n&&lh(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(Is())});return(0,nt.of)(l).pipe(xu())}(i.component,i.route,t,e,r)),Is(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Gn.z)(f=>f&&function fI(n){return"boolean"==typeof n}(f)?function nM(n,e,t,r){return(0,Rn.D)(e).pipe(Ts(i=>So(function rM(n,e){return null!==n&&e&&e(new Zp(n)),(0,nt.of)(!0)}(i.route.parent,r),function yI(n,e){return null!==n&&e&&e(new Xs(n)),(0,nt.of)(!0)}(i.route,r),function sM(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function Su(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ll(()=>{const f=l.guards.map(m=>{const v=bu(l.node)??t,T=Au(m,v);return ti(function nv(n){return n&&lh(n.canActivateChild)}(T)?T.canActivateChild(r,n):v.runInContext(()=>T(r,n))).pipe(Is())});return(0,nt.of)(f).pipe(xu())}));return(0,nt.of)(a).pipe(xu())}(n,i.path,t),function iM(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,nt.of)(!0);const i=r.map(a=>Ll(()=>{const l=bu(e)??t,f=Au(a,l);return ti(function gI(n){return n&&lh(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Is())}));return(0,nt.of)(i).pipe(xu())}(n,i.route,t))),Is(i=>!0!==i,!0))}(r,a,n,e):(0,nt.of)(f)),(0,jt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),zn(l=>{if(r.guardsResult=l.guardsResult,Po(l.guardsResult))throw aI(0,l.guardsResult);const f=new qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),ws(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Ss(l=>{if(l.guards.canActivateChecks.length)return(0,nt.of)(l).pipe(zn(f=>{const m=new J0(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),(0,tr.w)(f=>{let m=!1;return(0,nt.of)(f).pipe(function DI(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,nt.of)(t);let a=0;return(0,Rn.D)(i).pipe(Ts(l=>function _M(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!sg(i)&&(a[fu]=i.title),function yM(n,e,t,r){const i=function vM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,nt.of)({});const a={};return(0,Rn.D)(i).pipe((0,Gn.z)(l=>function CM(n,e,t,r){const i=bu(e)??r,a=Au(n,i);return ti(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Is(),zn(f=>{a[l]=f}))),Js(1),function Yd(n){return(0,jt.U)(()=>n)}(a),Xi(l=>ng(l)?vi.E:Es(l)))}(a,n,e,r).pipe((0,jt.U)(l=>(n._resolvedData=l,n.data=Yp(n,t).resolve,i&&sg(i)&&(n.data[fu]=i.title),null)))}(l.route,r,n,e)),zn(()=>a++),Js(1),(0,Gn.z)(l=>a===i.length?(0,nt.of)(t):vi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),zn(f=>{const m=new Kl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Ss(l=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(zn(T=>{m.component=T}),(0,jt.U)(()=>{})));for(const T of m.children)v.push(...f(T));return v};return To(f(l.targetSnapshot.root)).pipe(hu(),Ri(1))}),Ss(()=>this.afterPreactivation()),(0,jt.U)(l=>{const f=function qA(n,e,t){const r=Tu(n,e._root,t?t._root:void 0);return new iI(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),zn(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,jt.U)(i=>(new eM(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ri(1),zn({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Oo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),ma(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xi(l=>{if(a=!0,Yy(l)){Ky(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new ql(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),Ky(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||EM(r.source)};t.scheduleNavigation(m,Eu,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Fo(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(m){r.reject(m)}}return vi.E}))}))}cancelNavigationTransition(t,r,i){const a=new ql(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EM(n){return n!==Eu}let wM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===dt);return r}getResolvedTitleForRoute(t){return t.data[fu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(lv)},providedIn:"root"}),n})(),lv=(()=>{class n extends wM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ud))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Hk)},providedIn:"root"}),n})();class jk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Hk=(()=>{class n extends jk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ph=new c.OlP("",{providedIn:"root",factory:()=>({})});let IM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(TM)},providedIn:"root"}),n})(),TM=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Oi=(()=>((Oi=Oi||{})[Oi.COMPLETE=0]="COMPLETE",Oi[Oi.FAILED=1]="FAILED",Oi[Oi.REDIRECTING=2]="REDIRECTING",Oi))();function SI(n,e){n.events.pipe(ws(t=>t instanceof Oo||t instanceof ql||t instanceof Fo||t instanceof ko),(0,jt.U)(t=>t instanceof Oo||t instanceof ko?Oi.COMPLETE:t instanceof ql&&(0===t.code||1===t.code)?Oi.REDIRECTING:Oi.FAILED),ws(t=>t!==Oi.REDIRECTING),Ri(1)).subscribe(()=>{e()})}function AI(n){throw n}function ag(n,e,t){return e.parse("/")}const DM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(ph,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||AI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ag,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(IM),this.routeReuseStrategy=(0,c.f3M)(cv),this.titleStrategy=(0,c.f3M)(wM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(to,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(uv),this.urlSerializer=(0,c.f3M)(nr),this.location=(0,c.f3M)(be),this.componentInputBindingEnabled=!!(0,c.f3M)(uh,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ds,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ri(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ev),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:l;let b,T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}null!==T&&(T=this.removeEmptyProps(T));try{b=sh(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),b=this.currentUrlTree.root}return zp(b,t,T,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Po(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Eu,null,r)}navigate(t,r={skipLocationChange:!1}){return function Wn(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new c.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...DM}:!1===r?{...dv}:r,Po(t))return Pn(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Pn(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((b,x)=>{f=b,m=x});const T=this.pendingTasks.add();return SI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(b=>Promise.reject(b))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ug=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new Ys.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Br),c.Y36(Iu),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Re))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),n})();class hv{}let SM=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ws(t=>t instanceof Oo),Ts(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Rn.D)(i).pipe((0,bo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,nt.of)(null);const a=i.pipe((0,Gn.z)(l=>null===l?(0,nt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Rn.D)([a,l]).pipe((0,bo.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Br),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(hv),c.LFG(og))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fv=new c.OlP("");let pv=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ko&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ki(n,e){return{\u0275kind:n,\u0275providers:e}}function gv(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Br),i=n.get(mv);1===n.get(_v)&&r.initialNavigation(),n.get(NM,null,c.XFs.Optional)?.setUpPreloading(),n.get(fv,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mv=new c.OlP("",{factory:()=>new Ys.x}),_v=new c.OlP("",{providedIn:"root",factory:()=>1}),NM=new c.OlP("");function yv(n){return ki(0,[{provide:NM,useExisting:SM},{provide:hv,useExisting:n}])}const kI=new c.OlP("ROUTER_FORROOT_GUARD"),vv=[be,{provide:nr,useClass:va},Br,wu,{provide:Iu,useFactory:function AM(n){return n.routerState.root},deps:[Br]},og,[]];function cg(){return new c.PXZ("Router",Br)}let FI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vv,[],{provide:to,multi:!0,useValue:t},{provide:kI,useFactory:Ev,deps:[[Br,new c.FiY,new c.tp0]]},{provide:ph,useValue:r||{}},r?.useHash?{provide:Re,useClass:Oe}:{provide:Re,useClass:ze},{provide:fv,useFactory:()=>{const n=(0,c.f3M)(_s),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(ph),r=(0,c.f3M)(uv),i=(0,c.f3M)(nr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new pv(i,r,n,e,t)}},r?.preloadingStrategy?yv(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:cg},r?.initialNavigation?wv(r):[],r?.bindToComponentInputs?ki(8,[oI,{provide:uh,useExisting:oI}]).\u0275providers:[],[{provide:LI,useFactory:gv},{provide:c.tb,multi:!0,useExisting:LI}]]}}static forChild(t){return{ngModule:n,providers:[{provide:to,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kI,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Ev(n){return"guarded"}function wv(n){return["disabled"===n.initialNavigation?ki(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Br);return()=>{e.setUpLocationChangeListener()}}},{provide:_v,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ki(2,[{provide:_v,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Le,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Br),a=e.get(mv);SI(i,()=>{r(!0)}),e.get(uv).afterPreactivation=()=>(r(!0),a.closed?(0,nt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const LI=new c.OlP("");var st=k(534);(0,st.registerVersion)("firebase","9.23.0","app");var ue=k(5861),j=k(9058),As=k(4537),ts=k(7879);const FM=(n,e)=>e.some(t=>n instanceof t);let LM,VM;const fg=new WeakMap,mh=new WeakMap,nc=new WeakMap,_h=new WeakMap,yh=new WeakMap;let Pu={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mh.get(n);if("objectStoreNames"===e)return n.objectStoreNames||nc.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ou(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function gg(n){return"function"==typeof n?function Iv(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function UM(){return VM||(VM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ch(this),e),Ou(fg.get(this))}:function(...e){return Ou(n.apply(Ch(this),e))}:function(e,...t){const r=n.call(Ch(this),e,...t);return nc.set(r,e.sort?e.sort():[e]),Ou(r)}}(n):(n instanceof IDBTransaction&&function pg(n){if(mh.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});mh.set(n,e)}(n),FM(n,function hg(){return LM||(LM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Pu):n)}function Ou(n){if(n instanceof IDBRequest)return function vh(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ou(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&fg.set(t,n)}).catch(()=>{}),yh.set(e,n),e}(n);if(_h.has(n))return _h.get(n);const e=gg(n);return e!==n&&(_h.set(n,e),yh.set(e,n)),e}const Ch=n=>yh.get(n),$M=["get","getKey","getAll","getAllKeys","count"],jM=["put","add","delete","clear"],mg=new Map;function Dv(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mg.get(e))return mg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=jM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$M.includes(t))return;const a=function(){var l=(0,ue.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(m.shift())),(yield Promise.all([T[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return mg.set(e,a),a}!function BI(n){Pu=n(Pu)}(n=>({...n,get:(e,t,r)=>Dv(e,t)||n.get(e,t,r),has:(e,t)=>!!Dv(e,t)||n.has(e,t)}));const $I="@firebase/installations",bv="0.6.4",HM=1e4,jI=`w:${bv}`,_g="FIS_v2",Sv="https://firebaseinstallations.googleapis.com/v1",GM=36e5,Vo=new j.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Mv(n){return n instanceof j.ZR&&n.code.includes("request-failed")}function xv({projectId:n}){return`${Sv}/projects/${n}/installations`}function Nv(n){return{token:n.token,requestStatus:2,expiresIn:zM(n.expiresIn),creationTime:Date.now()}}function GI(n,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,ue.Z)(function*(n,e){const r=(yield e.json()).error;return Vo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Eh({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Aa(n){return ku.apply(this,arguments)}function ku(){return(ku=(0,ue.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function zM(n){return Number(n.replace("s","000"))}function Pv(){return(Pv=(0,ue.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=xv(n),i=Eh(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:_g,appId:n.appId,sdkVersion:jI})},m=yield Aa(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Nv(v.authToken)}}throw yield GI("Create Installation",m)})).apply(this,arguments)}function qI(n){return new Promise(e=>{setTimeout(e,n)})}const KI=/^[cdef][\w-]{21}$/,wh="";function Ih(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function YI(n){return function ZI(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return KI.test(t)?t:wh}catch{return wh}}function Th(n){return`${n.appName}!${n.appId}`}const Ma=new Map;function Fu(n,e){const t=Th(n);Ov(t,e),function qM(n,e){const t=function JI(){return!Lu&&"BroadcastChannel"in self&&(Lu=new BroadcastChannel("[Firebase] FID Change"),Lu.onmessage=n=>{Ov(n.data.key,n.data.fid)}),Lu}();t&&t.postMessage({key:n,fid:e}),function XI(){0===Ma.size&&Lu&&(Lu.close(),Lu=null)}()}(t,e)}function Ov(n,e){const t=Ma.get(n);if(t)for(const r of t)r(e)}let Lu=null;const ZM="firebase-installations-database",KM=1,xa="firebase-installations-store";let Na=null;function Ms(){return Na||(Na=function Tv(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),f=Ou(l);return r&&l.addEventListener("upgradeneeded",m=>{r(Ou(l.result),m.oldVersion,m.newVersion,Ou(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(ZM,KM,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xa)}})),Na}function Dh(n,e){return eT.apply(this,arguments)}function eT(){return(eT=(0,ue.Z)(function*(n,e){const t=Th(n),i=(yield Ms()).transaction(xa,"readwrite"),a=i.objectStore(xa),l=yield a.get(t);return yield a.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&Fu(n,e.fid),e})).apply(this,arguments)}function kv(n){return tT.apply(this,arguments)}function tT(){return(tT=(0,ue.Z)(function*(n){const e=Th(n),r=(yield Ms()).transaction(xa,"readwrite");yield r.objectStore(xa).delete(e),yield r.done})).apply(this,arguments)}function Cg(n,e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,ue.Z)(function*(n,e){const t=Th(n),i=(yield Ms()).transaction(xa,"readwrite"),a=i.objectStore(xa),l=yield a.get(t),f=e(l);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&Fu(n,f.fid),f})).apply(this,arguments)}function wg(n){return nT.apply(this,arguments)}function nT(){return nT=(0,ue.Z)(function*(n){let e;const t=yield Cg(n.appConfig,r=>{const i=function rT(n){return Lv(n||{fid:Ih(),registrationStatus:0})}(r),a=function Ig(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function iT(n,e){return Tg.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:sT(n)}:{installationEntry:e}}(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===wh?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),nT.apply(this,arguments)}function Tg(){return Tg=(0,ue.Z)(function*(n,e){try{const t=yield function WM(n,e){return Pv.apply(this,arguments)}(n,e);return Dh(n.appConfig,t)}catch(t){throw Mv(t)&&409===t.customData.serverCode?yield kv(n.appConfig):yield Dh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Tg.apply(this,arguments)}function sT(n){return pt.apply(this,arguments)}function pt(){return(pt=(0,ue.Z)(function*(n){let e=yield Fv(n.appConfig);for(;1===e.registrationStatus;)yield qI(100),e=yield Fv(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield wg(n);return r||t}return e})).apply(this,arguments)}function Fv(n){return Cg(n,e=>{if(!e)throw Vo.create("installation-not-found");return Lv(e)})}function Lv(n){return function Yk(n){return 1===n.registrationStatus&&n.registrationTime+HM<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Dg(){return(Dg=(0,ue.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function QM(n,{fid:e}){return`${xv(n)}/${e}/authTokens:generate`}(n,t),i=function zI(n,{refreshToken:e}){const t=Eh(n);return t.append("Authorization",function WI(n){return`${_g} ${n}`}(e)),t}(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jI,appId:n.appId}})},m=yield Aa(()=>fetch(r,f));if(m.ok)return Nv(yield m.json());throw yield GI("Generate Auth Token",m)})).apply(this,arguments)}function Vv(n){return bg.apply(this,arguments)}function bg(){return bg=(0,ue.Z)(function*(n,e=!1){let t;const r=yield Cg(n.appConfig,a=>{if(!Uv(a))throw Vo.create("not-registered");const l=a.authToken;if(!e&&function uT(n){return 2===n.requestStatus&&!function Ra(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+GM}(n)}(l))return a;if(1===l.requestStatus)return t=function JM(n,e){return Sg.apply(this,arguments)}(n,e),a;{if(!navigator.onLine)throw Vo.create("app-offline");const f=function rc(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(a);return t=function XM(n,e){return aT.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),bg.apply(this,arguments)}function Sg(){return(Sg=(0,ue.Z)(function*(n,e){let t=yield oT(n.appConfig);for(;1===t.authToken.requestStatus;)yield qI(100),t=yield oT(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Vv(n,e):r})).apply(this,arguments)}function oT(n){return Cg(n,e=>{if(!Uv(e))throw Vo.create("not-registered");return function lT(n){return 1===n.requestStatus&&n.requestTime+HM<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function aT(){return aT=(0,ue.Z)(function*(n,e){try{const t=yield function YM(n,e){return Dg.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Dh(n.appConfig,r),t}catch(t){if(!Mv(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Dh(n.appConfig,r)}else yield kv(n.appConfig);throw t}}),aT.apply(this,arguments)}function Uv(n){return void 0!==n&&2===n.registrationStatus}function ic(){return(ic=(0,ue.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield wg(e);return r?r.catch(console.error):Vv(e).catch(console.error),t.fid})).apply(this,arguments)}function bh(){return bh=(0,ue.Z)(function*(n,e=!1){const t=n;return yield function Sh(n){return Ag.apply(this,arguments)}(t),(yield Vv(t,e)).token}),bh.apply(this,arguments)}function Ag(){return(Ag=(0,ue.Z)(function*(n){const{registrationPromise:e}=yield wg(n);e&&(yield e)})).apply(this,arguments)}function Mg(n){return Vo.create("missing-app-config-values",{valueName:n})}const cT="installations",ix=n=>{const e=n.getProvider("app").getImmediate(),t=function nx(n){if(!n||!n.options)throw Mg("App Configuration");if(!n.name)throw Mg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Mg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,st._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},sx=n=>{const e=n.getProvider("app").getImmediate(),t=(0,st._getProvider)(e,cT).getImmediate();return{getId:()=>function ex(n){return ic.apply(this,arguments)}(t),getToken:i=>function sc(n){return bh.apply(this,arguments)}(t,i)}};(function dT(){(0,st._registerComponent)(new As.wA(cT,ix,"PUBLIC")),(0,st._registerComponent)(new As.wA("installations-internal",sx,"PRIVATE"))})(),(0,st.registerVersion)($I,bv),(0,st.registerVersion)($I,bv,"esm2017");const xg="@firebase/remote-config",wi=new j.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hx{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,ue.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&l.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(l),a})()}}function mT(n=navigator){return n.languages&&n.languages[0]||n.language}class _T{constructor(e,t,r,i,a,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=l}fetch(e){var t=this;return(0,ue.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:mT()},v={method:"POST",headers:f,body:JSON.stringify(m)},T=fetch(l,v),b=new Promise((Pe,je)=>{e.signal.addEventListener(()=>{const Be=new Error("The operation was aborted.");Be.name="AbortError",je(Be)})});let x;try{yield Promise.race([T,b]),x=yield T}catch(Pe){let je="fetch-client-network";throw"AbortError"===Pe?.name&&(je="fetch-timeout"),wi.create(je,{originalErrorMessage:Pe?.message})}let O=x.status;const B=x.headers.get("ETag")||void 0;let ee,ae;if(200===x.status){let Pe;try{Pe=yield x.json()}catch(je){throw wi.create("fetch-client-parse",{originalErrorMessage:je?.message})}ee=Pe.entries,ae=Pe.state}if("INSTANCE_STATE_UNSPECIFIED"===ae?O=500:"NO_CHANGE"===ae?O=304:("NO_TEMPLATE"===ae||"EMPTY_CONFIG"===ae)&&(ee={}),304!==O&&200!==O)throw wi.create("fetch-status",{httpStatus:O});return{status:O,eTag:B,config:ee}})()}}class iF{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,ue.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,ue.Z)(function*(){yield function Ng(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function qv(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const l={throttleEndTimeMillis:Date.now()+(0,j.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class CT{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xh(n,e){const t=n.target.error||void 0;return wi.create(e,{originalErrorMessage:t&&t?.message})}const Bo="app_namespace_store";class Zv{constructor(e,t,r,i=function px(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xh(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bo,{keyPath:"compositeKey"})}}catch(t){e(wi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,ue.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Bo],"readonly").objectStore(Bo),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=T=>{a(xh(T,"storage-get"))},v.onsuccess=T=>{const b=T.target.result;i(b?b.value:void 0)}}catch(v){a(wi.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,ue.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,l)=>{const m=i.transaction([Bo],"readwrite").objectStore(Bo),v=r.createCompositeKey(e);try{const T=m.put({compositeKey:v,value:t});T.onerror=b=>{l(xh(b,"storage-set"))},T.onsuccess=()=>{a()}}catch(T){l(wi.create("storage-set",{originalErrorMessage:T?.message}))}})})()}delete(e){var t=this;return(0,ue.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Bo],"readwrite").objectStore(Bo),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=T=>{a(xh(T,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(wi.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class gx{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,ue.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wT(){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,ue.Z)(function*(){if(!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}!function mx(){(0,st._registerComponent)(new As.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,j.hl)())throw wi.create("indexed-db-unavailable");const{projectId:a,apiKey:l,appId:f}=r.options;if(!a)throw wi.create("registration-project-id");if(!l)throw wi.create("registration-api-key");if(!f)throw wi.create("registration-app-id");const m=new Zv(f,r.name,t=t||"firebase"),v=new gx(m),T=new ts.Yd(xg);T.logLevel=ts.in.ERROR;const b=new _T(i,st.SDK_VERSION,t,a,l,f),x=new iF(b,m),O=new hx(x,m,v,T),B=new CT(r,O,v,m,T);return function zv(n){const e=(0,j.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(B),B},"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(xg,"0.4.4"),(0,st.registerVersion)(xg,"0.4.4","esm2017")}();const Rg=(n,e)=>e.some(t=>n instanceof t);let ac,Nh;const Yv=new WeakMap,Pg=new WeakMap,IT=new WeakMap,Qv=new WeakMap,Og=new WeakMap;let Jv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Pg.get(n);if("objectStoreNames"===e)return n.objectStoreNames||IT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function yx(n){return"function"==typeof n?function bT(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _x(){return Nh||(Nh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Vu(this),e),jo(Yv.get(this))}:function(...e){return jo(n.apply(Vu(this),e))}:function(e,...t){const r=n.call(Vu(this),e,...t);return IT.set(r,e.sort?e.sort():[e]),jo(r)}}(n):(n instanceof IDBTransaction&&function Rh(n){if(Pg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Pg.set(n,e)}(n),Rg(n,function oF(){return ac||(ac=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Jv):n)}function jo(n){if(n instanceof IDBRequest)return function TT(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(jo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Yv.set(t,n)}).catch(()=>{}),Og.set(e,n),e}(n);if(Qv.has(n))return Qv.get(n);const e=yx(n);return e!==n&&(Qv.set(n,e),Og.set(e,n)),e}const Vu=n=>Og.get(n);function ST(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),f=jo(l);return r&&l.addEventListener("upgradeneeded",m=>{r(jo(l.result),m.oldVersion,m.newVersion,jo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function AT(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),jo(t).then(()=>{})}const vx=["get","getKey","getAll","getAllKeys","count"],Cx=["put","add","delete","clear"],Xv=new Map;function MT(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Xv.get(e))return Xv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Cx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vx.includes(t))return;const a=function(){var l=(0,ue.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let T=v.store;return r&&(T=T.index(m.shift())),(yield Promise.all([T[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return Xv.set(e,a),a}!function DT(n){Jv=n(Jv)}(n=>({...n,get:(e,t,r)=>MT(e,t)||n.get(e,t,r),has:(e,t)=>!!MT(e,t)||n.has(e,t)}));const Ex="/firebase-messaging-sw.js",wx="/firebase-cloud-messaging-push-scope",xT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NT="https://fcmregistrations.googleapis.com/v1",kg="google.c.a.c_id",Ix="google.c.a.c_l",Fg="google.c.a.ts";var Pa=(()=>((Pa=Pa||{}).PUSH_RECEIVED="push-received",Pa.NOTIFICATION_CLICKED="notification-clicked",Pa))();function Ho(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dx(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const eC="fcm_token_details_db",bx=5,tC="fcm_token_object_Store";function nC(){return nC=(0,ue.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(eC))return null;let e=null;return(yield ST(eC,bx,{upgrade:(r=(0,ue.Z)(function*(i,a,l,f){var m;if(a<2||!i.objectStoreNames.contains(tC))return;const v=f.objectStore(tC),T=yield v.index("fcmSenderId").get(n);if(yield v.clear(),T)if(2===a){const b=T;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:null!==(m=b.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:"string"==typeof b.vapidKey?b.vapidKey:Ho(b.vapidKey)}}}else if(3===a){const b=T;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:Ho(b.auth),p256dh:Ho(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:Ho(b.vapidKey)}}}else if(4===a){const b=T;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:Ho(b.auth),p256dh:Ho(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:Ho(b.vapidKey)}}}}),function(a,l,f,m){return r.apply(this,arguments)})})).close(),yield AT(eC),yield AT("fcm_vapid_details_db"),yield AT("undefined"),function uF(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),nC.apply(this,arguments)}const PT="firebase-messaging-database",OT=1,uc="firebase-messaging-store";let lc=null;function rC(){return lc||(lc=ST(PT,OT,{upgrade:(n,e)=>{0===e&&n.createObjectStore(uc)}})),lc}function kT(n){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,ue.Z)(function*(n){const e=Go(n),r=yield(yield rC()).transaction(uc).objectStore(uc).get(e);if(r)return r;{const i=yield function RT(n){return nC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield iC(n,i),i}}),Ph.apply(this,arguments)}function iC(n,e){return ns.apply(this,arguments)}function ns(){return(ns=(0,ue.Z)(function*(n,e){const t=Go(n),i=(yield rC()).transaction(uc,"readwrite");return yield i.objectStore(uc).put(e,t),yield i.done,e})).apply(this,arguments)}function fr(){return(fr=(0,ue.Z)(function*(n){const e=Go(n),r=(yield rC()).transaction(uc,"readwrite");yield r.objectStore(uc).delete(e),yield r.done})).apply(this,arguments)}function Go({appConfig:n}){return n.appId}const rn=new j.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sC(n,e){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,ue.Z)(function*(n,e){const t=yield Va(n),r=Bu(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(La(n.appConfig),i)).json()}catch(l){throw rn.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(a.error)throw rn.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw rn.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function ka(){return(ka=(0,ue.Z)(function*(n,e){const t=yield Va(n),r=Bu(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${La(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw rn.create("token-update-failed",{errorInfo:l?.toString()})}if(a.error)throw rn.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw rn.create("token-update-no-token");return a.token})).apply(this,arguments)}function Uu(n,e){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,ue.Z)(function*(n,e){const r={method:"DELETE",headers:yield Va(n)};try{const a=yield(yield fetch(`${La(n.appConfig)}/${e}`,r)).json();if(a.error)throw rn.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function La({projectId:n}){return`${NT}/projects/${n}/registrations`}function Va(n){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,ue.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Bu({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==xT&&(i.web.applicationPubKey=r),i}const FT=6048e5;function Vg(){return Vg=(0,ue.Z)(function*(n){const e=yield function uC(n,e){return lC.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ho(e.getKey("auth")),p256dh:Ho(e.getKey("p256dh"))},r=yield kT(n.firebaseDependencies);if(r){if(function lF(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+FT?function VT(n,e){return Bg.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Uu(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return aC(n.firebaseDependencies,t)}return aC(n.firebaseDependencies,t)}),Vg.apply(this,arguments)}function Ug(){return Ug=(0,ue.Z)(function*(n){const e=yield kT(n.firebaseDependencies);e&&(yield Uu(n.firebaseDependencies,e.token),yield function Oh(n){return fr.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Ug.apply(this,arguments)}function Bg(){return Bg=(0,ue.Z)(function*(n,e){try{const t=yield function cc(n,e){return ka.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield iC(n.firebaseDependencies,r),t}catch(t){throw yield function oC(n){return Ug.apply(this,arguments)}(n),t}}),Bg.apply(this,arguments)}function aC(n,e){return $g.apply(this,arguments)}function $g(){return($g=(0,ue.Z)(function*(n,e){const r={token:yield sC(n,e),createTime:Date.now(),subscriptionOptions:e};return yield iC(n,r),r.token})).apply(this,arguments)}function lC(){return(lC=(0,ue.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dx(e)})})).apply(this,arguments)}function Sx(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Ax(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function Mx(n,e){e.data&&(n.data=e.data)}(e,n),function cF(n,e){var t,r,i,a,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const m=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Nx(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function cC(n){return rn.create("missing-app-config-values",{valueName:n})}Nx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Px{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Rx(n){if(!n||!n.options)throw cC("App Configuration Object");if(!n.name)throw cC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw cC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $u(){return($u=(0,ue.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ex,{scope:wx}),n.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function dc(){return(dc=(0,ue.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function jg(n){return $u.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function ju(){return(ju=(0,ue.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=xT)})).apply(this,arguments)}function fC(){return fC=(0,ue.Z)(function*(n,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function UT(n,e){return ju.apply(this,arguments)}(n,e?.vapidKey),yield function dC(n,e){return dc.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function LT(n){return Vg.apply(this,arguments)}(n)}),fC.apply(this,arguments)}function pC(){return(pC=(0,ue.Z)(function*(n,e,t){const r=function Ox(n){switch(n){case Pa.NOTIFICATION_CLICKED:return"notification_open";case Pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[kg],message_name:t[Ix],message_time:t[Fg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gC(){return gC=(0,ue.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Pa.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Sx(t)):n.onMessageHandler.next(Sx(t)));const r=t.data;(function xx(n){return"object"==typeof n&&!!n&&kg in n})(r)&&"1"===r["google.c.a.e"]&&(yield function kh(n,e,t){return pC.apply(this,arguments)}(n,t.messageType,r))}),gC.apply(this,arguments)}const Hg="@firebase/messaging",Gg=n=>{const e=new Px(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function kx(n,e){return gC.apply(this,arguments)}(e,t)),e},dF=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function hC(n,e){return fC.apply(this,arguments)}(e,r)}};function BT(){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,ue.Z)(function*(){try{yield(0,j.eu)()}catch{return!1}return typeof window<"u"&&(0,j.hl)()&&(0,j.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fx(){(0,st._registerComponent)(new As.wA("messaging",Gg,"PUBLIC")),(0,st._registerComponent)(new As.wA("messaging-internal",dF,"PRIVATE")),(0,st.registerVersion)(Hg,"0.12.4"),(0,st.registerVersion)(Hg,"0.12.4","esm2017")}();const qg="analytics",$x="firebase_id",jx="origin",mC=6e4,_C="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yC="https://www.googletagmanager.com/gtag/js",Vn=new ts.Yd("@firebase/analytics"),Sr=new j.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $T(n){if(!n.startsWith(yC)){const e=Sr.create("invalid-gtag-resource",{gtagURL:n});return Vn.warn(e.message),""}return n}function jT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Kg(){return(Kg=(0,ue.Z)(function*(n,e,t,r,i,a){const l=r[i];try{if(l)yield e[l];else{const m=(yield jT(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){Vn.error(f)}n("config",i,a)})).apply(this,arguments)}function EC(){return(EC=(0,ue.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield jT(t);for(const m of l){const v=f.find(b=>b.measurementId===m),T=v&&e[v.appId];if(!T){a=[];break}a.push(T)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){Vn.error(a)}})).apply(this,arguments)}const zT=30,qT=new class WT{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ZT(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Yg(){return(Yg=(0,ue.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:ZT(r)},a=_C.replace("{app-id}",t),l=yield fetch(a,i);if(200!==l.status&&304!==l.status){let f="";try{const m=yield l.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function TC(){return(TC=(0,ue.Z)(function*(n,e=qT,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Sr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Sr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new XT;return setTimeout((0,ue.Z)(function*(){f.abort()}),void 0!==t?t:mC),QT({appId:r,apiKey:i,measurementId:a},l,f,e)})).apply(this,arguments)}function QT(n,e,t){return DC.apply(this,arguments)}function DC(){return DC=(0,ue.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=qT){var a;const{appId:l,measurementId:f}=n;try{yield function JT(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw m}try{const m=yield function KT(n){return Yg.apply(this,arguments)}(n);return i.deleteThrottleMetadata(l),m}catch(m){const v=m;if(!function bC(n){if(!(n instanceof j.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(l),f)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw m}const T=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,j.$s)(t,i.intervalMillis,zT):(0,j.$s)(t,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return i.setThrottleMetadata(l,b),Vn.debug(`Calling attemptFetch again in ${T} millis`),QT(n,b,r,i)}}),DC.apply(this,arguments)}class XT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Qg,Vh;function Jg(){return(Jg=(0,ue.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function iD(){return(iD=(0,ue.Z)(function*(){if(!(0,j.hl)())return Vn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,j.eu)()}catch(n){return Vn.warn(Sr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function MC(){return MC=(0,ue.Z)(function*(n,e,t,r,i,a,l){var f;const m=function YT(n){return TC.apply(this,arguments)}(n);m.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Vn.error(O)),e.push(m);const v=function pF(){return iD.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[T,b]=yield Promise.all([m,v]);(function wC(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(yC)&&t.src.includes(n))return t;return null})(a)||function Gx(n,e){const t=function Hx(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:$T}),r=document.createElement("script"),i=`${yC}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(a,T.measurementId),Vh&&(i("consent","default",Vh),function rD(n){Vh=n}(void 0)),i("js",new Date);const x=null!==(f=l?.config)&&void 0!==f?f:{};return x[jx]="firebase",x.update=!0,null!=b&&(x[$x]=b),i("config",T.measurementId,x),Qg&&(i("set",Qg),function nm(n){Qg=n}(void 0)),T.measurementId}),MC.apply(this,arguments)}class sD{constructor(e){this.app=e}_delete(){return delete ro[this.app.options.appId],Promise.resolve()}}let ro={},qn=[];const xC={};let NC,io,rm="dataLayer",im=!1;function Kx(n,e,t){!function hc(){const n=[];if((0,j.ru)()&&n.push("This is a browser extension environment."),(0,j.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Sr.create("invalid-analytics-context",{errorInfo:e});Vn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Sr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Sr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ro[r])throw Sr.create("already-exists",{id:r});if(!im){!function vC(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(rm);const{wrappedGtag:a,gtagCore:l}=function GT(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function zx(n,e,t,r){function a(){return a=(0,ue.Z)(function*(l,...f){try{if("event"===l){const[m,v]=f;yield function HT(n,e,t,r,i){return EC.apply(this,arguments)}(n,e,t,m,v)}else if("config"===l){const[m,v]=f;yield function CC(n,e,t,r,i,a){return Kg.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===l){const[m]=f;n("consent","update",m)}else if("get"===l){const[m,v,T]=f;n("get",m,v,T)}else if("set"===l){const[m]=f;n("set",m)}else n(l,...f)}catch(m){Vn.error(m)}}),a.apply(this,arguments)}return function i(l){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(ro,qn,xC,rm,"gtag");io=a,NC=l,im=!0}return ro[r]=function qx(n,e,t,r,i,a,l){return MC.apply(this,arguments)}(n,qn,xC,e,NC,rm,t),new sD(n)}function Yx(){return sm.apply(this,arguments)}function sm(){return(sm=(0,ue.Z)(function*(){if((0,j.ru)()||!(0,j.zI)()||!(0,j.hl)())return!1;try{return yield(0,j.eu)()}catch{return!1}})).apply(this,arguments)}const RC="@firebase/analytics";!function Jx(){(0,st._registerComponent)(new As.wA(qg,(e,{options:t})=>Kx(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,st._registerComponent)(new As.wA("analytics-internal",function n(e){try{const t=e.getProvider(qg).getImmediate();return{logEvent:(r,i,a)=>function xs(n,e,t,r){n=(0,j.m9)(n),function eD(n,e,t,r,i){return Jg.apply(this,arguments)}(io,ro[n.app.options.appId],e,t,r).catch(i=>Vn.error(i))}(t,r,i,a)}}catch(t){throw Sr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,st.registerVersion)(RC,"0.10.0"),(0,st.registerVersion)(RC,"0.10.0","esm2017")}();class Xx extends Zd.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const om={setInterval(n,e,...t){const{delegate:r}=om;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=om;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var eN=k(9039);class am extends Xx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return om.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&om.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,eN.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const OC={now:()=>(OC.delegate||Date).now(),delegate:void 0};class fc{constructor(e,t=fc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}fc.now=OC.now;class uD extends fc{constructor(e,t=fc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const lD=new class tN extends uD{}(class Bh extends am{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),um=new uD(am);var pc=k(5137),Hu=k(3093);const Ba=new c.GfV("7.6.1"),kC="__angularfire_symbol__analyticsIsSupportedValue",FC="__angularfire_symbol__analyticsIsSupported",lm="__angularfire_symbol__remoteConfigIsSupportedValue",gc="__angularfire_symbol__remoteConfigIsSupported",$h="__angularfire_symbol__messagingIsSupportedValue",cm="__angularfire_symbol__messagingIsSupported";function mc(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(l=>l.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[FC]||(globalThis[FC]=Yx().then(n=>globalThis[kC]=n).catch(()=>globalThis[kC]=!1)),globalThis[cm]||(globalThis[cm]=BT().then(n=>globalThis[$h]=n).catch(()=>globalThis[$h]=!1)),globalThis[gc]||(globalThis[gc]=wT().then(n=>globalThis[lm]=n).catch(()=>globalThis[lm]=!1));const _c=(n,e)=>{const t=e?[e]:(0,st.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function yc(){}class cD{constructor(e,t=lD){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class oN{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)),t.pipe(zn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vc=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cD(Zone.current)),this.insideAngular=t.run(()=>new cD(Zone.current,um)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function zu(n){return Gu().ngZone.run(()=>n())}function dD(n){return Gu(),function uN(n){return function(t){return(t=t.lift(new oN(n.ngZone))).pipe((0,pc.R)(n.outsideAngular),(0,Hu.Q)(n.insideAngular))}}(Gu())(n)}const lN=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),zu(()=>n.apply(void 0,r))},oo=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=zu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)))),r[a]=lN(r[a],t));const i=function aN(n){return Gu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof br.y){const a=Gu();return i.pipe((0,pc.R)(a.outsideAngular),(0,Hu.Q)(a.insideAngular))}return zu(()=>i)}return i instanceof br.y?i.pipe(dD):i instanceof Promise?zu(()=>new Promise((a,l)=>i.then(f=>zu(()=>a(f)),f=>zu(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:zu(()=>i)};class $a{constructor(e){return e}}class jh{constructor(){return(0,st.getApps)()}}const LC=new c.OlP("angularfire2._apps"),hD={provide:$a,useFactory:function cN(n){return n&&1===n.length?n[0]:new $a((0,st.getApp)())},deps:[[new c.FiY,LC]]},fD={provide:jh,deps:[[new c.FiY,LC]]};function pD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $a(r)}}let gD=(()=>{class n{constructor(t){(0,st.registerVersion)("angularfire",Ba.full,"core"),(0,st.registerVersion)("angularfire",Ba.full,"app"),(0,st.registerVersion)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hD,fD]}),n})();function mD(n,...e){return{ngModule:gD,providers:[{provide:LC,useFactory:pD(n),multi:!0,deps:[c.R0b,c.zs3,vc,...e]}]}}const _D=oo(st.initializeApp,!0),VC=new Map,yD={activated:!1,tokenObservers:[]},Ec={initialized:!1,enabled:!1};function Un(n){return VC.get(n)||Object.assign({},yD)}function BC(){return Ec}const hm="https://content-firebaseappcheck.googleapis.com/v1",ot="exchangeDebugToken",CD={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _N{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ue.Z)(function*(){t.stop();try{t.pending=new j.BH,yield function wc(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new j.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zn=new j.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n(n){if(!Un(n).activated)throw Zn.create("use-before-activation",{appName:n.name})}function Gh(n,e){return $C.apply(this,arguments)}function $C(){return($C=(0,ue.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const b=yield i.getHeartbeatsHeader();b&&(r["X-Firebase-Client"]=b)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(b){throw Zn.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==l.status)throw Zn.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(b){throw Zn.create("fetch-parse-error",{originalErrorMessage:b?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function jC(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${hm}/projects/${t}/apps/${r}:${ot}?key=${i}`,body:{debug_token:e}}}const TD="firebase-app-check-database",vN=1,zh="firebase-app-check-store";let ja=null;function pm(){return(pm=(0,ue.Z)(function*(n,e){const r=(yield function bD(){return ja||(ja=new Promise((n,e)=>{try{const t=indexedDB.open(TD,vN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Zn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zh,{keyPath:"compositeKey"})}}catch(t){e(Zn.create("storage-open",{originalErrorMessage:t?.message}))}}),ja)}()).transaction(zh,"readwrite"),a=r.objectStore(zh).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var v;f(Zn.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Wh=new ts.Yd("@firebase/app-check");function gm(n,e){return(0,j.hl)()?function EN(n,e){return function HC(n,e){return pm.apply(this,arguments)}(function Ic(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zC(){return BC().enabled}function _m(){return WC.apply(this,arguments)}function WC(){return(WC=(0,ue.Z)(function*(){const n=BC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const IF={error:"UNKNOWN_ERROR"};function TF(n){return j.US.encodeString(JSON.stringify(n),!1)}function qC(n){return xD.apply(this,arguments)}function xD(){return(xD=(0,ue.Z)(function*(n,e=!1){const t=n.app;_n(t);const r=Un(t);let a,i=r.token;if(i&&!Dc(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Dc(m)?i=m:yield gm(t,void 0))}if(!e&&i&&Dc(i))return{token:i.token};let f,l=!1;if(zC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gh(jC(t,yield _m()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield gm(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Un(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Wh.warn(m.message):Wh.error(m),a=m}return i?a?f=Dc(i)?{token:i.token,internalError:a}:RD(a):(f={token:i.token},r.token=i,yield gm(t,i)):f=RD(a),l&&function ND(n,e){const t=Un(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function ZC(n){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,ue.Z)(function*(n){const e=n.app;_n(e);const{provider:t}=Un(e);if(zC()){const r=yield _m(),{token:i}=yield Gh(jC(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function YC(n,e){const t=Un(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function QC(n){const{app:e}=n,t=Un(e);let r=t.tokenRefresher;r||(r=function qh(n){const{app:e}=n;return new _N((0,ue.Z)(function*(){let r;if(r=Un(e).token?yield qC(n,!0):yield qC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Un(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},CD.RETRIAL_MIN_WAIT,CD.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Dc(n){return n.expireTimeMillis-Date.now()>0}function RD(n){return{token:TF(IF),error:n}}class TN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Un(this.app);for(const t of e)YC(this.app,t.next);return Promise.resolve()}}const BD="app-check-internal";!function ON(){(0,st._registerComponent)(new As.wA("app-check",n=>function DF(n,e){return new TN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BD).initialize()})),(0,st._registerComponent)(new As.wA(BD,n=>function DN(n){return{getToken:e=>qC(n,e),getLimitedUseToken:()=>ZC(n),addTokenListener:e=>function KC(n,e,t,r){const{app:i}=n,a=Un(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Dc(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),QC(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>QC(n))}(n,"INTERNAL",e),removeTokenListener:e=>YC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.8.0")}();class Zu{constructor(){return _c("app-check")}}typeof window<"u"&&window;var bc=k(6878);class aE{constructor(e){return e}}class uE{constructor(){return _c("auth")}}const Kh=new c.OlP("angularfire2.auth-instances");function zD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aE(r)}}const WD={provide:uE,deps:[[new c.FiY,Kh]]},$N={provide:aE,useFactory:function BN(n,e){const t=mc("auth",n,e);return t&&new aE(t)},deps:[[new c.FiY,Kh],$a]};let qD=(()=>{class n{constructor(){(0,st.registerVersion)("angularfire",Ba.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$N,WD]}),n})();function lE(n,...e){return{ngModule:qD,providers:[{provide:Kh,useFactory:zD(n),multi:!0,deps:[c.R0b,c.zs3,vc,jh,[new c.FiY,Zu],...e]}]}}const ZN=oo(bc.o,!0);var Ue,dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ns={},Tm=Tm||{},yt=dE||self;function Dm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Sc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hE="closure_uid_"+(1e9*Math.random()>>>0),rR=0;function YD(n,e,t){return n.call.apply(n.bind,arguments)}function QD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pr(n,e,t){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YD:QD).apply(null,arguments)}function Yh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function gr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ko(){this.s=this.s,this.o=this.o}Ko.prototype.s=!1,Ko.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bm(n){Object.prototype.hasOwnProperty.call(n,hE)&&n[hE]||(n[hE]=++rR)}(this)},Ko.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function fE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sm(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Dm(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mr.prototype.h=function(){this.defaultPrevented=!0};var eb=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",()=>{},e),yt.removeEventListener("test",()=>{},e)}catch{}return n}();function Ku(n){return/^[\s\xa0]*$/.test(n)}function Ac(){var n=yt.navigator;return n&&(n=n.userAgent)?n:""}function ao(n){return-1!=Ac().indexOf(n)}function pE(n){return pE[" "](n),n}pE[" "]=function(){};var mE,n,sR=ao("Opera"),Yu=ao("Trident")||ao("MSIE"),Am=ao("Edge"),Mm=Am||Yu,tb=ao("Gecko")&&!(-1!=Ac().toLowerCase().indexOf("webkit")&&!ao("Edge"))&&!(ao("Trident")||ao("MSIE"))&&!ao("Edge"),nb=-1!=Ac().toLowerCase().indexOf("webkit")&&!ao("Edge");function gE(){var n=yt.document;return n?n.documentMode:void 0}e:{var xm="",Nm=(n=Ac(),tb?/rv:([^\);]+)(\)|;)/.exec(n):Am?/Edge\/([\d\.]+)/.exec(n):Yu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nb?/WebKit\/(\S+)/.exec(n):sR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nm&&(xm=Nm?Nm[1]:""),Yu){var _E=gE();if(null!=_E&&_E>parseFloat(xm)){mE=String(_E);break e}}mE=xm}var ii=yt.document&&Yu&&(gE()||parseInt(mE,10))||void 0;function uo(n,e){if(mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tb){e:{try{pE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&uo.$.h.call(this)}}gr(uo,mr);var oR={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qh="closure_listenable_"+(1e6*Math.random()|0),lL=0;function cL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++lL,this.fa=this.ia=!1}function Jh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Xh(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ib(n){const e={};for(const t in n)e[t]=n[t];return e}const Pm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Pm.length;a++)t=Pm[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tf(n){this.src=n,this.g={},this.h=0}function yE(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=XD(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Jh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vE(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}tf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=vE(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new cL(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var CE="closure_lm_"+(1e6*Math.random()|0),nf={};function EE(n,e,t,r,i){if(r&&r.once)return km(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)EE(n,e[a],t,r,i);return null}return t=Lm(t),n&&n[Qh]?n.O(e,t,Sc(r)?!!r.capture:!!r,i):ob(n,e,t,!1,r,i)}function ob(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Sc(i)?!!i.capture:!!i,f=Ha(n);if(f||(n[CE]=f=new tf(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function Om(){const e=ub;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eb||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ab(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function km(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)km(n,e[a],t,r,i);return null}return t=Lm(t),n&&n[Qh]?n.P(e,t,Sc(r)?!!r.capture:!!r,i):ob(n,e,t,!0,r,i)}function aR(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)aR(n,e[a],t,r,i);else r=Sc(r)?!!r.capture:!!r,t=Lm(t),n&&n[Qh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vE(a=n.g[e],t,r,i))&&(Jh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ha(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vE(e,t,r,i)),(t=-1<n?e[n]:null)&&Fm(t))}function Fm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Qh])yE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ab(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ha(e))?(yE(t,n),0==t.h&&(t.src=null,e[CE]=null)):Jh(n)}}}function ab(n){return n in nf?nf[n]:nf[n]="on"+n}function ub(n,e){if(n.fa)n=!0;else{e=new uo(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Fm(n),n=t.call(r,e)}return n}function Ha(n){return(n=n[CE])instanceof tf?n:null}var wE="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(n){return"function"==typeof n?n:(n[wE]||(n[wE]=function(e){return n.handleEvent(e)}),n[wE])}function Kn(){Ko.call(this),this.i=new tf(this),this.S=this,this.J=null}function $r(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new mr(e,n);else if(e instanceof mr)e.target=e.target||n;else{var i=e;sb(e=new mr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Vm(l,r,!0,e)&&i}if(i=Vm(l=e.g=n,r,!0,e)&&i,i=Vm(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Vm(l=e.g=t[a],r,!1,e)&&i}function Vm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&yE(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}gr(Kn,Ko),Kn.prototype[Qh]=!0,Kn.prototype.removeEventListener=function(n,e,t,r){aR(this,n,e,t,r)},Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jh(t[r]);delete n.g[e],n.h--}}this.J=null},Kn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lb=yt.JSON.stringify;function lR(){var n=TE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var IE=new class uR{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cb,n=>n.reset());class cb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dR(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function db(n){yt.setTimeout(()=>{throw n},0)}let Mc,rf=!1,TE=new class cR{constructor(){this.h=this.g=null}add(e,t){const r=IE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},DE=()=>{const n=yt.Promise.resolve(void 0);Mc=()=>{n.then(hR)}};var hR=()=>{for(var n;n=lR();){try{n.h.call(n.g)}catch(t){db(t)}var e=IE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}rf=!1};function sf(n,e){Kn.call(this),this.h=n||1,this.g=e||yt,this.j=pr(this.qb,this),this.l=Date.now()}function Um(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Bm(n,e,t){if("function"==typeof n)t&&(n=pr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pr(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function bE(n){n.g=Bm(()=>{n.g=null,n.i&&(n.i=!1,bE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gr(sf,Kn),(Ue=sf.prototype).ga=!1,Ue.T=null,Ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$r(this,"tick"),this.ga&&(Um(this),this.start()))}},Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.N=function(){sf.$.N.call(this),Um(this),delete this.g};class fR extends Ko{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bE(this)}N(){super.N(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(n){Ko.call(this),this.h=n,this.g={}}gr(af,Ko);var pR=[];function SE(n,e,t,r){Array.isArray(t)||(t&&(pR[0]=t.toString()),t=pR);for(var i=0;i<t.length;i++){var a=EE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function gR(n){Xh(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fm(e)},n),n.g={}}function AE(){this.g=!0}function uf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return lb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}af.prototype.N=function(){af.$.N.call(this),gR(this)},af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},AE.prototype.Ea=function(){this.g=!1},AE.prototype.info=function(){};var xc={},mR=null;function lf(){return mR=mR||new Kn}function $m(n){mr.call(this,xc.Ta,n)}function Nc(n){const e=lf();$r(e,new $m(e))}function hb(n,e){mr.call(this,xc.STAT_EVENT,n),this.stat=e}function _r(n){const e=lf();$r(e,new hb(e,n))}function fb(n,e){mr.call(this,xc.Ua,n),this.size=e}function jm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}xc.Ta="serverreachability",gr($m,mr),xc.STAT_EVENT="statevent",gr(hb,mr),xc.Ua="timingevent",gr(fb,mr);var ME={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_R={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hm(){}function gb(){}Hm.prototype.h=null;var Gm,cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mb(){mr.call(this,"d")}function xE(){mr.call(this,"c")}function df(){}function zm(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new af(this),this.P=_b,this.V=new sf(n=Mm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}gr(mb,mr),gr(xE,mr),gr(df,Hm),df.prototype.g=function(){return new XMLHttpRequest},df.prototype.i=function(){return{}},Gm=new df;var _b=45e3,NE={},RE={};function Ar(n,e,t){n.L=1,n.v=kE(jr(e)),n.s=t,n.S=!0,yb(n,null)}function yb(n,e){n.G=Date.now(),Qu(n),n.A=jr(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),FE(t.i,"t",r),n.C=0,t=n.l.J,n.h=new rs,n.g=Fb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fR(pr(n.Pa,n,n.g),n.O)),SE(n.U,n.g,"readystatechange",n.nb),e=n.I?ib(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Nc(),function dL(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var T=v[0];v=v[1];var b=T.split("_");l=2<=b.length&&"type"==b[1]?l+(T+"=")+v+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Wm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function vb(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=yR(n,t),i==RE){4==e&&(n.o=4,_r(14),r=!1),uf(n.j,n.m,null,"[Incomplete Response]");break}if(i==NE){n.o=4,_r(15),uf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}uf(n.j,n.m,i,null),qm(n,i)}Wm(n)&&i!=RE&&i!=NE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_r(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ZE(e),e.M=!0,_r(11))):(uf(n.j,n.m,t,"[Invalid Chunked Response]"),Ga(n),ff(n))}function yR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?RE:(t=Number(e.substring(t,r)),isNaN(t)?NE:(r+=1)+t>e.length?RE:(e=e.slice(r,r+t),n.C=r+t,e))}function Qu(n){n.Y=Date.now()+n.P,PE(n,n.P)}function PE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jm(pr(n.lb,n),e)}function hf(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function ff(n){0==n.l.H||n.J||i_(n.l,n)}function Ga(n){hf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Um(n.V),gR(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function qm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ym(t.i,n)))if(!n.K&&Ym(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wf(t),GE(t)}r_(t),_r(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=jm(pr(t.ib,t),6e3));if(1>=VE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Wa(t,11)}else if((n.K||t.g==n)&&wf(t),!Ku(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const T=v[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const b=v[4];null!=b&&(t.Ga=b,t.l.info("SVER="+t.Ga));const x=v[5];null!=x&&"number"==typeof x&&0<x&&(t.L=r=1.5*x,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const O=n.g;if(O){const B=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var a=r.i;a.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(UE(a,a.h),a.h=null))}if(r.F){const ee=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.Da=ee,cn(r.I,r.F,ee))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=kb(r,r.J?r.pa:null,r.Y),l.K){Sb(r.i,l);var f=l,m=r.L;m&&f.setTimeout(m),f.B&&(hf(f),Qu(f)),r.g=l}else qE(r);0<t.j.length&&n_(t)}else"stop"!=v[0]&&"close"!=v[0]||Wa(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Wa(t,7):Rb(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}Nc()}catch{}}function wb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Eb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Cb(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Ue=zm.prototype).setTimeout=function(n){this.P=n},Ue.nb=function(n){n=n.target;const e=this.M;e&&3==is(n)?e.l():this.Pa(n)},Ue.Pa=function(n){try{if(n==this.g)e:{const T=is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Mm||this.g&&(this.h.h||this.g.ja()||e_(this.g)))){this.J||4!=T||7==e||Nc(),hf(this);var t=this.g.da();this.ca=t;t:if(Wm(this)){var r=e_(this.g);n="";var i=r.length,a=4==is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),ff(this);var l="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function hL(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ku(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,_r(12),Ga(this),ff(this);break e}uf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qm(this,t)}this.S?(vb(this,T,l),Mm&&this.i&&3==T&&(SE(this.U,this.V,"tick",this.mb),this.V.start())):(uf(this.j,this.m,l,null),qm(this,l)),4==T&&Ga(this),this.i&&!this.J&&(4==T?i_(this.l,this):(this.i=!1,Qu(this)))}else(function MR(n){const e={};n=(n.g&&2<=is(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ku(n[r]))continue;var t=dR(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function ef(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,_r(12)):(this.o=0,_r(13)),Ga(this),ff(this)}}}catch{}},Ue.mb=function(){if(this.g){var n=is(this.g),e=this.g.ja();this.C<e.length&&(hf(this),vb(this,n,e),this.i&&4!=n&&Qu(this))}},Ue.cancel=function(){this.J=!0,Ga(this)},Ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Nc(),_r(17)),Ga(this),this.o=2,ff(this)):PE(this,this.Y-n)};var OE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yo){this.h=n.h,pf(this,n.j),this.s=n.s,this.g=n.g,Rc(this,n.m),this.l=n.l;var e=n.i,t=new mf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Zm(this,t),this.o=n.o}else n&&(e=String(n).match(OE))?(this.h=!1,pf(this,e[1]||"",!0),this.s=Pc(e[2]||""),this.g=Pc(e[3]||"",!0),Rc(this,e[4]),this.l=Pc(e[5]||"",!0),Zm(this,e[6]||"",!0),this.o=Pc(e[7]||"")):(this.h=!1,this.i=new mf(null,this.h))}function jr(n){return new Yo(n)}function pf(n,e,t){n.j=t?Pc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Zm(n,e,t){e instanceof mf?(n.i=e,function IR(n,e){e&&!n.j&&(Qo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wR(this,r),FE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=gf(e,gL)),n.i=new mf(e,n.h))}function cn(n,e,t){n.i.set(e,t)}function kE(n){return cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,CR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gf(e,Ib,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gf(e,Ib,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(gf(t,"/"==t.charAt(0)?Tb:ER,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gf(t,Db)),n.join("")};var Ib=/[#\/\?@]/g,ER=/[#\?:]/g,Tb=/[#\?]/g,gL=/[#\?@]/g,Db=/#/g;function mf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qo(n){n.g||(n.g=new Map,n.h=0,n.i&&function vR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wR(n,e){Qo(n),e=Ju(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Km(n,e){return Qo(n),e=Ju(n,e),n.g.has(e)}function FE(n,e,t){wR(n,e),0<t.length&&(n.i=null,n.g.set(Ju(n,e),fE(t)),n.h+=t.length)}function Ju(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LE(n){this.l=n||Oc,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ka&&yt.g.Ka()&&yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ue=mf.prototype).add=function(n,e){Qo(this),this.i=null,n=Ju(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(n,e){Qo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ue.ta=function(){Qo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Ue.Z=function(n){Qo(this);let e=[];if("string"==typeof n)Km(this,n)&&(e=e.concat(this.g.get(Ju(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ue.set=function(n,e){return Qo(this),this.i=null,Km(this,n=Ju(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Oc=10;function _f(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VE(n){return n.h?1:n.g?n.g.size:0}function Ym(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UE(n,e){n.g?n.g.add(e):n.h=e}function Sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TR(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return fE(n.i)}LE.prototype.cancel=function(){if(this.i=TR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ab=class{stringify(n){return yt.JSON.stringify(n,void 0)}parse(n){return yt.JSON.parse(n,void 0)}};function DR(){this.g=new Ab}function bR(n,e,t){const r=t||"";try{wb(n,function(i,a){let l=i;Sc(i)&&(l=lb(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qm(n){this.l=n.fc||null,this.j=n.ob||!1}function yf(n,e){Kn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=$E,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gr(Qm,Hm),Qm.prototype.g=function(){return new yf(this.l,this.j)},Qm.prototype.i=function(n){return function(){return n}}({}),gr(yf,Kn);var $E=0;function Mb(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jm(n)}function Jm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ue=yf.prototype).open=function(n,e){if(this.readyState!=$E)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jm(this)},Ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vf(this)),this.readyState=$E},Ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jm(this)),this.g&&(this.readyState=3,Jm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mb(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vf(this):Jm(this),3==this.readyState&&Mb(this)}},Ue.Za=function(n){this.g&&(this.response=this.responseText=n,vf(this))},Ue.Ya=function(n){this.g&&(this.response=n,vf(this))},Ue.ka=function(){this.g&&vf(this)},Ue.setRequestHeader=function(n,e){this.v.append(n,e)},Ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _L=yt.JSON.parse;function Bn(n){Kn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SR,this.L=this.M=!1}gr(Bn,Kn);var SR="",yL=/^https?$/i,AR=["POST","PUT"];function xb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Nb(n),lo(n)}function Nb(n){n.F||(n.F=!0,$r(n,"complete"),$r(n,"error"))}function jE(n){if(n.h&&typeof Tm<"u"&&(!n.C[1]||4!=is(n)||2!=n.da()))if(n.v&&4==is(n))Bm(n.La,0,n);else if($r(n,"readystatechange"),4==is(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(OE)[1]||null;!i&&yt.self&&yt.self.location&&(i=yt.self.location.protocol.slice(0,-1)),r=!yL.test(i?i.toLowerCase():"")}t=r}if(t)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var a=2<is(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Nb(n)}}finally{lo(n)}}}function lo(n,e){if(n.g){HE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$r(n,"ready");try{t.onreadystatechange=r}catch{}}}function HE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function is(n){return n.g?n.g.readyState:0}function e_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case SR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function t_(n){let e="";return Xh(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Cf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=t_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cn(n,e,t))}function za(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xR(n){this.Ga=0,this.j=[],this.l=new AE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=za("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=za("baseRetryDelayMs",5e3,n),this.hb=za("retryDelaySeedMs",1e4,n),this.eb=za("forwardChannelMaxRetries",2,n),this.xa=za("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new LE(n&&n.concurrentRequestLimit),this.Ja=new DR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rb(n){if(zE(n),3==n.H){var e=n.W++,t=jr(n.I);if(cn(t,"SID",n.K),cn(t,"RID",e),cn(t,"TYPE","terminate"),Ef(n,t),(e=new zm(n,n.l,e)).L=2,e.v=kE(jr(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon)try{t=yt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qu(e)}s_(n)}function GE(n){n.g&&(ZE(n),n.g.cancel(),n.g=null)}function zE(n){GE(n),n.u&&(yt.clearTimeout(n.u),n.u=null),wf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function n_(n){if(!_f(n.i)&&!n.m){n.m=!0;var e=n.Na;Mc||DE(),rf||(Mc(),rf=!0),TE.add(e,n),n.C=0}}function Pb(n,e){var t;t=e?e.m:n.W++;const r=jr(n.I);cn(r,"SID",n.K),cn(r,"RID",t),cn(r,"AID",n.V),Ef(n,r),n.o&&n.s&&Cf(r,n.o,n.s),t=new zm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=WE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),UE(n.i,t),Ar(t,r,e)}function Ef(n,e){n.na&&Xh(n.na,function(t,r){cn(e,r,t)}),n.h&&wb({},function(t,r){cn(e,r,t)})}function WE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?pr(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const T=i[m].map;if(v-=a,0>v)a=Math.max(0,i[m].g-100),f=!1;else try{bR(T,l,"req"+v+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function qE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Mc||DE(),rf||(Mc(),rf=!0),TE.add(e,n),n.A=0}}function r_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=jm(pr(n.Ma,n),RR(n,n.A)),n.A++,0))}function ZE(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function Ob(n){n.g=new zm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=jr(n.wa);cn(e,"RID","rpc"),cn(e,"SID",n.K),cn(e,"AID",n.V),cn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&cn(e,"TO",n.qa),cn(e,"TYPE","xmlhttp"),Ef(n,e),n.o&&n.s&&Cf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=kE(jr(e)),t.s=null,t.S=!0,yb(t,n)}function wf(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function i_(n,e){var t=null;if(n.g==e){wf(n),ZE(n),n.g=null;var r=2}else{if(!Ym(n.i,e))return;t=e.F,Sb(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;$r(r=lf(),new fb(r,t)),n_(n)}else qE(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function NR(n,e){return!(VE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=jm(pr(n.Na,n,e),RR(n,n.C)),n.C++,0)))}(n,e)||2==r&&r_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Wa(n,5);break;case 4:Wa(n,10);break;case 3:Wa(n,6);break;default:Wa(n,2)}}function RR(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Wa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=pr(n.pb,n);t||(t=new Yo("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||pf(t,"https"),kE(t)),function mL(n,e){const t=new AE;if(yt.Image){const r=new Image;r.onload=Yh(BE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yh(BE,t,r,"TestLoadImage: error",!1,e),r.onabort=Yh(BE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yh(BE,t,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _r(2);n.H=0,n.h&&n.h.za(e),s_(n),zE(n)}function s_(n){if(n.H=0,n.ma=[],n.h){const e=TR(n.i);(0!=e.length||0!=n.j.length)&&(Sm(n.ma,e),Sm(n.ma,n.j),n.i.i.length=0,fE(n.j),n.j.length=0),n.h.ya()}}function kb(n,e,t){var r=t instanceof Yo?jr(t):new Yo(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Rc(r,r.m);else{var i=yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Yo(null);r&&pf(a,r),e&&(a.g=e),i&&Rc(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&cn(r,t,e),cn(r,"VER",n.ra),Ef(n,r),r}function Fb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(t&&n.Ha&&!n.va?new Qm({ob:!0}):n.va)).Oa(n.J),e}function PR(){}function KE(){if(Yu&&!(10<=Number(ii)))throw Error("Environmental error: no available transport.")}function Fi(n,e){Kn.call(this),this.g=new xR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ku(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ku(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kc(this)}function Lb(n){mb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Vb(){xE.call(this),this.status=1}function kc(n){this.g=n}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bb(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(Ue=Bn.prototype).Oa=function(n){this.M=n},Ue.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gm.g(),this.C=function pb(n){return n.h||(n.h=n.i())}(this.u?this.u:Gm),this.g.onreadystatechange=pr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void xb(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=yt.FormData&&n instanceof yt.FormData,!(0<=XD(AR,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HE(this),0<this.B&&((this.L=function Xm(n){return Yu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.ua,this)):this.A=Bm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){xb(this,a)}},Ue.ua=function(){typeof Tm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},Ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),lo(this))},Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lo(this,!0)),Bn.$.N.call(this)},Ue.La=function(){this.s||(this.G||this.v||this.l?jE(this):this.kb())},Ue.kb=function(){jE(this)},Ue.isActive=function(){return!!this.g},Ue.da=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_L(e)}},Ue.Ia=function(){return this.m},Ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=xR.prototype).ra=8,Ue.H=1,Ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new zm(this,this.l,n);let a=this.s;if(this.U&&(a?(a=ib(a),sb(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WE(this,i,e),cn(t=jr(this.I),"RID",n),cn(t,"CVER",22),this.F&&cn(t,"X-HTTP-Session-Id",this.F),Ef(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(t_(a)))+"&"+e:this.o&&Cf(t,this.o,a)),UE(this.i,i),this.bb&&cn(t,"TYPE","init"),this.P?(cn(t,"$req",e),cn(t,"SID","null"),i.aa=!0,Ar(i,t,null)):Ar(i,t,e),this.H=2}}else 3==this.H&&(n?Pb(this,n):0==this.j.length||_f(this.i)||Pb(this))},Ue.Ma=function(){if(this.u=null,Ob(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=jm(pr(this.jb,this),n)}},Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_r(10),GE(this),Ob(this))},Ue.ib=function(){null!=this.v&&(this.v=null,GE(this),r_(this),_r(19))},Ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_r(2)):(this.l.info("Failed to ping google.com"),_r(1))},Ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ue=PR.prototype).Ba=function(){},Ue.Aa=function(){},Ue.za=function(){},Ue.ya=function(){},Ue.isActive=function(){return!0},Ue.Va=function(){},KE.prototype.g=function(n,e){return new Fi(n,e)},gr(Fi,Kn),Fi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_r(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=kb(n,null,n.Y),n_(n)},Fi.prototype.close=function(){Rb(this.g)},Fi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&n_(e)},Fi.prototype.N=function(){this.g.h=null,delete this.j,Rb(this.g),delete this.g,Fi.$.N.call(this)},gr(Lb,mb),gr(Vb,xE),gr(kc,PR),kc.prototype.Ba=function(){$r(this.g,"a")},kc.prototype.Aa=function(n){$r(this.g,new Lb(n))},kc.prototype.za=function(n){$r(this.g,new Vb)},kc.prototype.ya=function(){$r(this.g,"b")},gr(ss,function Ub(){this.blockSize=-1}),ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ss.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Bb(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Bb(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Bb(this,r),i=0;break}}this.h=i,this.i+=e},ss.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var YE={};function o_(n){return-128<=n&&128>n?function iR(n,e){var t=YE;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nn([0|e],0>e?-1:0)}):new nn([0|n],0>n?-1:0)}function Rs(n){if(isNaN(n)||!isFinite(n))return Fc;if(0>n)return Mr(Rs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=If;return new nn(e,0)}var If=4294967296,Fc=o_(0),QE=o_(1),JE=o_(16777216);function co(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ps(n){return-1==n.h}function Mr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nn(t,~n.h).add(QE)}function Xu(n,e){return n.add(Mr(e))}function XE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Tf(n,e){this.g=n,this.h=e}function ew(n,e){if(co(e))throw Error("division by zero");if(co(n))return new Tf(Fc,Fc);if(Ps(n))return e=ew(Mr(n),e),new Tf(Mr(e.g),Mr(e.h));if(Ps(e))return e=ew(n,Mr(e)),new Tf(Mr(e.g),e.h);if(30<n.g.length){if(Ps(n)||Ps(e))throw Error("slowDivide_ only works with positive integers.");for(var t=QE,r=e;0>=r.X(n);)t=OR(t),r=OR(r);var i=Lc(t,1),a=Lc(r,1);for(r=Lc(r,2),t=Lc(t,2);!co(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Lc(r,1),t=Lc(t,1)}return e=Xu(n,i.R(e)),new Tf(i,e)}for(i=Fc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Rs(t)).R(e);Ps(l)||0<l.X(n);)l=(a=Rs(t-=r)).R(e);co(a)&&(a=QE),i=i.add(a),n=Xu(n,l)}return new Tf(i,n)}function OR(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nn(t,n.h)}function Lc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new nn(i,n.h)}(Ue=nn.prototype).ea=function(){if(Ps(this))return-Mr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:If+r)*e,e*=If}return n},Ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(co(this))return"0";if(Ps(this))return"-"+Mr(this).toString(n);for(var e=Rs(Math.pow(n,6)),t=this,r="";;){var i=ew(t,e).g,a=((0<(t=Xu(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(co(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ue.X=function(n){return Ps(n=Xu(this,n))?-1:co(n)?0:1},Ue.abs=function(){return Ps(this)?Mr(this):this},Ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new nn(t,-2147483648&t[t.length-1]?-1:0)},Ue.R=function(n){if(co(this)||co(n))return Fc;if(Ps(this))return Ps(n)?Mr(this).R(Mr(n)):Mr(Mr(this).R(n));if(Ps(n))return Mr(this.R(Mr(n)));if(0>this.X(JE)&&0>n.X(JE))return Rs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,XE(t,2*r+2*i),t[2*r+2*i+1]+=a*m,XE(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,XE(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,XE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nn(t,0)},Ue.gb=function(n){return ew(this,n).h},Ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nn(t,this.h&n.h)},Ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nn(t,this.h|n.h)},Ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nn(t,this.h^n.h)},KE.prototype.createWebChannel=KE.prototype.g,Fi.prototype.send=Fi.prototype.u,Fi.prototype.open=Fi.prototype.m,Fi.prototype.close=Fi.prototype.close,ME.NO_ERROR=0,ME.TIMEOUT=8,ME.HTTP_ERROR=6,_R.COMPLETE="complete",gb.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",Kn.prototype.listen=Kn.prototype.O,Bn.prototype.listenOnce=Bn.prototype.P,Bn.prototype.getLastError=Bn.prototype.Sa,Bn.prototype.getLastErrorCode=Bn.prototype.Ia,Bn.prototype.getStatus=Bn.prototype.da,Bn.prototype.getResponseJson=Bn.prototype.Wa,Bn.prototype.getResponseText=Bn.prototype.ja,Bn.prototype.send=Bn.prototype.ha,Bn.prototype.setWithCredentials=Bn.prototype.Oa,ss.prototype.digest=ss.prototype.l,ss.prototype.reset=ss.prototype.reset,ss.prototype.update=ss.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=Rs,nn.fromString=function $b(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Mr($b(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Rs(Math.pow(e,8)),r=Fc,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Rs(Math.pow(e,a)),r=r.R(a).add(Rs(l))):r=(r=r.R(t)).add(Rs(l))}return r};var vL=Ns.createWebChannelTransport=function(){return new KE},CL=Ns.getStatEventTarget=function(){return lf()},jb=Ns.ErrorCode=ME,EL=Ns.EventType=_R,wL=Ns.Event=xc,Hb=Ns.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IL=Ns.FetchXmlHttpFactory=Qm,tw=Ns.WebChannel=gb,TL=Ns.XhrIo=Bn,DL=Ns.Md5=ss,Df=Ns.Integer=nn;const Gb="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let s="9.23.0";const o=new ts.Yd("@firebase/firestore");function u(){return o.logLevel}function h(n,...e){if(o.logLevel<=ts.in.DEBUG){const t=e.map(E);o.debug(`Firestore (${s}): ${n}`,...t)}}function p(n,...e){if(o.logLevel<=ts.in.ERROR){const t=e.map(E);o.error(`Firestore (${s}): ${n}`,...t)}}function y(n,...e){if(o.logLevel<=ts.in.WARN){const t=e.map(E);o.warn(`Firestore (${s}): ${n}`,...t)}}function E(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function I(n="Unexpected state"){const e=`FIRESTORE (${s}) INTERNAL ASSERTION FAILED: `+n;throw p(e),new Error(e)}function D(n,e){n||I()}function M(n,e){return n}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends j.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ie{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class we{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xr.UNAUTHENTICATED))}shutdown(){}}class Ke{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pe{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new ie;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ie,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,ue.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{h("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(h("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ie)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(h("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(D("string"==typeof r.accessToken),new we(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e),new xr(e)}}class gt{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Nt{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new gt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ft{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hr{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&h("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,h("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{h("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):h("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(D("string"==typeof t.token),this.T=t.token,new Ft(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zb{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=kR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function Ct(n,e){return n<e?-1:n>e?1:0}function a_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new P(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new $n(0,0))}static max(){return new Je(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rw{constructor(e,t,r){void 0===t?t=0:t>e.length&&I(),void 0===r?r=e.length-t:r>e.length-t&&I(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends rw{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends rw{construct(e,t,r){return new rr(e,t,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new P(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new P(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new P(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new P(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Wt.fromString(e))}static fromName(e){return new Ve(Wt.fromString(e).popFirst(5))}static empty(){return new Ve(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Wt(e.slice()))}}function AL(n){return new Os(n.readTime,n.key,-1)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(Je.min(),Ve.empty(),-1)}static max(){return new Os(Je.max(),Ve.empty(),-1)}}function LR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ve.comparator(n.documentKey,e.documentKey),0!==t?t:Ct(n.largestBatchId,e.largestBatchId))}const ML="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vc(n){return VR.apply(this,arguments)}function VR(){return VR=(0,ue.Z)(function*(n){if(n.code!==R.FAILED_PRECONDITION||n.message!==ML)throw n;h("LocalStore","Unexpectedly lost primary lease")}),VR.apply(this,arguments)}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&I(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},m=>r(m))}),l=!0,a===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(T=>{l[v]=T,++f,f===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new Z((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function Uc(n){return"IndexedDbTransactionError"===n.name}let ks=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ow(n){return null==n}function aw(n){return 0===n&&1/n==-1/0}function VL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yn{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yb(this.root,e,this.comparator,!0)}}class Yb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??si.RED,this.left=i??si.EMPTY,this.right=a??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new si(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw I();const e=this.left.check();if(e!==this.right.check())throw I();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw I()}get value(){throw I()}get color(){throw I()}get left(){throw I()}get right(){throw I()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BL(this.data.getIterator())}getIteratorFrom(e){return new BL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class BL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new os([])}unionWith(e){let t=new Sn(rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return a_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $L extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $L("Invalid base64 string: "+i):i}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const n3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $c(n){if(D(!!n),"string"==typeof n){let e=0;const t=n3.exec(n);if(D(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function el(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function Qb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jb(n){const e=n.mapValue.fields.__previous_value__;return Qb(e)?Jb(e):e}function uw(n){const e=$c(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class r3{constructor(e,t,r,i,a,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Af{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Af("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Af&&e.projectId===this.projectId&&e.database===this.database}}const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qb(n)?4:zL(n)?9007199254740991:10:I()}function Za(n,e){if(n===e)return!0;const t=Hc(n);if(t!==Hc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uw(n).isEqual(uw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=$c(r.timestampValue),l=$c(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,el(n.bytesValue).isEqual(el(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Yn(r.geoPointValue.latitude)===Yn(i.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yn(r.integerValue)===Yn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Yn(r.doubleValue),l=Yn(i.doubleValue);return a===l?aw(a)===aw(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return a_(n.arrayValue.values||[],e.arrayValue.values||[],Za);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(VL(a)!==VL(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!Za(a[f],l[f])))return!1;return!0}(n,e);default:return I()}var i}function lw(n,e){return void 0!==(n.values||[]).find(t=>Za(t,e))}function Gc(n,e){if(n===e)return 0;const t=Hc(n),r=Hc(e);if(t!==r)return Ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ct(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Yn(i.integerValue||i.doubleValue),f=Yn(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return jL(n.timestampValue,e.timestampValue);case 4:return jL(uw(n),uw(e));case 5:return Ct(n.stringValue,e.stringValue);case 6:return function(i,a){const l=el(i),f=el(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=Ct(l[m],f[m]);if(0!==v)return v}return Ct(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ct(Yn(i.latitude),Yn(a.latitude));return 0!==l?l:Ct(Yn(i.longitude),Yn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=Gc(l[m],f[m]);if(v)return v}return Ct(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===jc.mapValue&&a===jc.mapValue)return 0;if(i===jc.mapValue)return 1;if(a===jc.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const b=Ct(f[T],v[T]);if(0!==b)return b;const x=Gc(l[f[T]],m[v[T]]);if(0!==x)return x}return Ct(f.length,v.length)}(n.mapValue,e.mapValue);default:throw I()}}function jL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ct(n,e);const t=$c(n),r=$c(e),i=Ct(t.seconds,r.seconds);return 0!==i?i:Ct(t.nanos,r.nanos)}function l_(n){return $R(n)}function $R(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=$c(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?el(n.bytesValue).toBase64():"referenceValue"in n?Ve.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=$R(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${$R(r.fields[f])}`;return a+"}"}(n.mapValue):I();var e}function jR(n){return!!n&&"integerValue"in n}function cw(n){return!!n&&"arrayValue"in n}function HL(n){return!!n&&"nullValue"in n}function GL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tS(n){return!!n&&"mapValue"in n}function dw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dw(t)}setAll(e){let t=rr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=dw(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());tS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new oi(dw(this.value))}}function ZL(n){const e=[];return Bc(n.fields,(t,r)=>{const i=new rr([t]);if(tS(r)){const a=ZL(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new os(e)}class An{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new An(e,0,Je.min(),Je.min(),Je.min(),oi.empty(),0)}static newFoundDocument(e,t,r,i){return new An(e,1,t,Je.min(),r,i,0)}static newNoDocument(e,t){return new An(e,2,t,Je.min(),Je.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Je.min(),Je.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}function KL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Ve.comparator(Ve.fromName(l.referenceValue),t.key):Gc(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function YL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Za(n.position[t],e.position[t]))return!1;return!0}class c_{constructor(e,t="asc"){this.field=e,this.dir=t}}function o3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class QL{}class Ht extends QL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new a3(e,t,r):"array-contains"===t?new c3(e,r):"in"===t?new r2(e,r):"not-in"===t?new d3(e,r):"array-contains-any"===t?new h3(e,r):new Ht(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new u3(e,r):new l3(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gc(t,this.value)):null!==t&&Hc(this.value)===Hc(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return I()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class on extends QL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new on(e,t)}matches(e){return d_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function d_(n){return"and"===n.op}function GR(n){return function JL(n){for(const e of n.filters)if(e instanceof on)return!1;return!0}(n)&&d_(n)}function zR(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+l_(n.value);if(GR(n))return n.filters.map(e=>zR(e)).join(",");{const e=n.filters.map(t=>zR(t)).join(",");return`${n.op}(${e})`}}function XL(n,e){return n instanceof Ht?(t=n,(r=e)instanceof Ht&&t.op===r.op&&t.field.isEqual(r.field)&&Za(t.value,r.value)):n instanceof on?function(t,r){return r instanceof on&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&XL(a,r.filters[l]),!0)}(n,e):void I();var t,r}function t2(n){return n instanceof Ht?`${(e=n).field.canonicalString()} ${e.op} ${l_(e.value)}`:n instanceof on?function(e){return e.op.toString()+" {"+e.getFilters().map(t2).join(" ,")+"}"}(n):"Filter";var e}class a3 extends Ht{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class u3 extends Ht{constructor(e,t){super(e,"in",t),this.keys=n2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class l3 extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=n2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class c3 extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cw(t)&&lw(t.arrayValue,this.value)}}class r2 extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lw(this.value.arrayValue,t)}}class d3 extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(lw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lw(this.value.arrayValue,t)}}class h3 extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lw(this.value.arrayValue,r))}}class f3{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function WR(n,e=null,t=[],r=[],i=null,a=null,l=null){return new f3(n,e,t,r,i,a,l)}function xf(n){const e=M(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zR(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ow(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l_(r)).join(",")),e.dt=t}return e.dt}function hw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YL(n.startAt,e.startAt)&&YL(n.endAt,e.endAt)}function nS(n){return Ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class tl{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function h_(n){return new tl(n)}function a2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Nf(n){const e=M(n);if(null===e.wt){e.wt=[];const t=function iS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function qR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new c_(t)),e.wt.push(new c_(rr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new c_(rr.keyField(),a))}}}return e.wt}function Li(n){const e=M(n);if(!e._t)if("F"===e.limitType)e._t=WR(e.path,e.collectionGroup,Nf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Nf(e))t.push(new c_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;e._t=WR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function sS(n,e,t){return new tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fw(n,e){return hw(Li(n),Li(e))&&n.limitType===e.limitType}function u2(n){return`${xf(Li(n))}|lt:${n.limitType}`}function YR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>t2(r)).join(", ")}]`),ow(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l_(r)).join(",")),`Target(${t})`}(Li(n))}; limitType=${n.limitType})`}function pw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ve.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Nf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=KL(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,Nf(t),r)||t.endAt&&!function(i,a,l){const f=KL(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,Nf(t),r)));var t,r}function c2(n){return(e,t)=>{let r=!1;for(const i of Nf(n)){const a=p3(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function p3(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Gc(f,m):I()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return I()}}class nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return UL(this.inner)}size(){return this.innerSize}}const g3=new yn(Ve.comparator);function as(){return g3}const d2=new yn(Ve.comparator);function gw(...n){let e=d2;for(const t of n)e=e.insert(t.key,t);return e}function h2(n){let e=d2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ka(){return mw()}function f2(){return mw()}function mw(){return new nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const m3=new yn(Ve.comparator),_3=new Sn(Ve.comparator);function St(...n){let e=_3;for(const t of n)e=e.add(t);return e}const y3=new Sn(Ct);function p2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aw(e)?"-0":e}}function g2(n){return{integerValue:""+n}}function m2(n,e){return function NL(n){return"number"==typeof n&&Number.isInteger(n)&&!aw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?g2(e):p2(n,e)}class oS{constructor(){this._=void 0}}function v3(n,e,t){return n instanceof f_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Qb(i)&&(i=Jb(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Rf?y2(n,e):n instanceof Pf?v2(n,e):function(r,i){const a=_2(r,i),l=C2(a)+C2(r.gt);return jR(a)&&jR(r.gt)?g2(l):p2(r.serializer,l)}(n,e)}function C3(n,e,t){return n instanceof Rf?y2(n,e):n instanceof Pf?v2(n,e):t}function _2(n,e){return n instanceof p_?jR(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class f_ extends oS{}class Rf extends oS{constructor(e){super(),this.elements=e}}function y2(n,e){const t=E2(e);for(const r of n.elements)t.some(i=>Za(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pf extends oS{constructor(e){super(),this.elements=e}}function v2(n,e){let t=E2(e);for(const r of n.elements)t=t.filter(i=>!Za(i,r));return{arrayValue:{values:t}}}class p_ extends oS{constructor(e,t){super(),this.serializer=e,this.gt=t}}function C2(n){return Yn(n.integerValue||n.doubleValue)}function E2(n){return cw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class w3{constructor(e,t){this.version=e,this.transformResults=t}}class On{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uS{}function w2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new m_(n.key,On.none()):new g_(n.key,n.data,On.none());{const t=n.data,r=oi.empty();let i=new Sn(rr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new rl(n.key,r,new os(i.toArray()),On.none())}}function I3(n,e,t){n instanceof g_?function(r,i,a){const l=r.value.clone(),f=D2(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof rl?function(r,i,a){if(!aS(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=D2(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(T2(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yw(n,e,t,r){return n instanceof g_?function(i,a,l,f){if(!aS(i.precondition,a))return l;const m=i.value.clone(),v=b2(i.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof rl?function(i,a,l,f){if(!aS(i.precondition,a))return l;const m=b2(i.fieldTransforms,f,a),v=a.data;return v.setAll(T2(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,aS(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function T3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=_2(r.transform,i||null);null!=a&&(null===t&&(t=oi.empty()),t.set(r.field,a))}return t||null}function I2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&a_(t,r,(i,a)=>function E3(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rf&&r instanceof Rf||t instanceof Pf&&r instanceof Pf?a_(t.elements,r.elements,Za):t instanceof p_&&r instanceof p_?Za(t.gt,r.gt):t instanceof f_&&r instanceof f_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class g_ extends uS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rl extends uS{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function T2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function D2(n,e,t){const r=new Map;D(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,C3(l,f,t[i]))}return r}function b2(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,v3(a,l,e))}return r}class m_ extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends uS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&I3(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=f2();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const m=w2(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),St())}isEqual(e){return this.batchId===e.batchId&&a_(this.mutations,e.mutations,(t,r)=>I2(t,r))&&a_(this.baseMutations,e.baseMutations,(t,r)=>I2(t,r))}}class e1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){D(e.mutations.length===r.length);let i=m3;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new e1(e,t,r,i)}}class t1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class b3{constructor(e,t){this.count=e,this.unchangedNames=t}}var yr,qt;function A2(n){if(void 0===n)return p("GRPC error has no .code"),R.UNKNOWN;switch(n){case yr.OK:return R.OK;case yr.CANCELLED:return R.CANCELLED;case yr.UNKNOWN:return R.UNKNOWN;case yr.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case yr.INTERNAL:return R.INTERNAL;case yr.UNAVAILABLE:return R.UNAVAILABLE;case yr.UNAUTHENTICATED:return R.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case yr.NOT_FOUND:return R.NOT_FOUND;case yr.ALREADY_EXISTS:return R.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return R.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case yr.ABORTED:return R.ABORTED;case yr.OUT_OF_RANGE:return R.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return R.UNIMPLEMENTED;case yr.DATA_LOSS:return R.DATA_LOSS;default:return I()}}(qt=yr||(yr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class n1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lS}static getOrCreateInstance(){return null===lS&&(lS=new n1),lS}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let lS=null;const S3=new Df([4294967295,4294967295],0);function x2(n){const e=function M2(){return new TextEncoder}().encode(n),t=new DL;return t.update(e),new Uint8Array(t.digest())}function N2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Df([t,r],0),new Df([i,a],0)]}class r1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vw(`Invalid padding: ${t}`);if(r<0)throw new vw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new vw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Df.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Df.fromNumber(r)));return 1===i.compare(S3)&&(i=new Df([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=x2(e),[r,i]=N2(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new r1(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=x2(e),[r,i]=N2(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class vw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cw{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ew.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cw(Je.min(),i,new yn(Ct),as(),St())}}class Ew{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ew(r,t,St(),St(),St())}}class cS{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class R2{constructor(e,t){this.targetId=e,this.Vt=t}}class P2{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class O2{constructor(){this.St=0,this.Dt=F2(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=St(),t=St(),r=St();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:I()}}),new Ew(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=F2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class A3{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=as(),this.zt=k2(),this.Wt=new yn(Ct)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:I()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(nS(l))if(0===i){const f=new Ve(l.path);this.Yt(r,f,An.newNoDocument(f,Je.min()))}else D(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=n1.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,T,b){var x,O,B,ee,ae,Pe;const je={localCacheCount:T,existenceFilterCount:b.count},Be=b.unchangedNames;return Be&&(je.bloomFilter={applied:0===v,hashCount:null!==(x=Be?.hashCount)&&void 0!==x?x:0,bitmapLength:null!==(ee=null===(B=null===(O=Be?.bits)||void 0===O?void 0:O.bitmap)||void 0===B?void 0:B.length)&&void 0!==ee?ee:0,padding:null!==(Pe=null===(ae=Be?.bits)||void 0===ae?void 0:ae.padding)&&void 0!==Pe?Pe:0}),je}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=el(a).toUint8Array()}catch(T){if(T instanceof $L)return y("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{v=new r1(m,l,f)}catch(T){return y(T instanceof vw?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&nS(f.target)){const m=new Ve(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,An.newNoDocument(m,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=St();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new Cw(e,t,this.Wt,this.jt,r);return this.jt=as(),this.zt=k2(),this.Wt=new yn(Ct),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new O2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Sn(Ct),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||h("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new O2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function k2(){return new yn(Ve.comparator)}function F2(){return new yn(Ve.comparator)}const M3={asc:"ASCENDING",desc:"DESCENDING"},x3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N3={and:"AND",or:"OR"};class R3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function i1(n,e){return n.useProto3Json||ow(e)?e:{value:e}}function __(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function P3(n,e){return __(n,e.toTimestamp())}function ir(n){return D(!!n),Je.fromTimestamp(function(e){const t=$c(e);return new $n(t.seconds,t.nanos)}(n))}function s1(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V2(n){const e=Wt.fromString(n);return D(q2(e)),e}function ww(n,e){return s1(n.databaseId,e.path)}function Ya(n,e){const t=V2(e);if(t.get(1)!==n.databaseId.projectId)throw new P(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new P(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(B2(t))}function o1(n,e){return s1(n.databaseId,e)}function Iw(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B2(n){return D(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $2(n,e,t){return{name:ww(n,e),fields:t.value.mapValue.fields}}function H2(n,e){return{documents:[o1(n,e.path)]}}function u1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=o1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=o1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return W2(on.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Wc((T=v).field),direction:V3(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=i1(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function G2(n){let e=function U2(n){const e=V2(n);return 4===e.length?Wt.emptyPath():B2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){D(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const b=z2(T);return b instanceof on&&GR(b)?b.getFilters():[b]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new c_(y_((b=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let f=null;t.limit&&(f=function(T){let b;return b="object"==typeof T?T.value:T,ow(b)?null:b}(t.limit));let m=null;var T;t.startAt&&(m=new zc((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new zc(T.values||[],!T.before)}(t.endAt)),function o2(n,e,t,r,i,a,l,f){return new tl(n,e,t,r,i,a,l,f)}(e,i,l,a,f,"F",m,v)}function z2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=y_(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=y_(e.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=y_(e.unaryFilter.field);return Ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=y_(e.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});default:return I()}}(n):void 0!==n.fieldFilter?Ht.create(y_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return I()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return on.create(e.compositeFilter.filters.map(t=>z2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return I()}}(e.compositeFilter.op))}(n):I();var e}function V3(n){return M3[n]}function U3(n){return x3[n]}function B3(n){return N3[n]}function Wc(n){return{fieldPath:n.canonicalString()}}function y_(n){return rr.fromServerFormat(n.fieldPath)}function W2(n){return n instanceof Ht?function(e){if("=="===e.op){if(GL(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NAN"}};if(HL(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GL(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NAN"}};if(HL(e.value))return{unaryFilter:{field:Wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(e.field),op:U3(e.op),value:e.value}}}(n):n instanceof on?function(e){const t=e.getFilters().map(r=>W2(r));return 1===t.length?t[0]:{compositeFilter:{op:B3(e.op),filters:t}}}(n):I()}function $3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class il{constructor(e,t,r,i,a=Je.min(),l=Je.min(),f=Nr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z2{constructor(e){this.fe=e}}function l1(n){const e=G2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sS(e,e.limit,"L"):e}class Lf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),aw(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(el(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?zL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):I()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ve.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Lf.Ve=new Lf;class Y3{constructor(){this.rn=new g1}addToCollectionParentIndex(e,t){return this.rn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Os.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class g1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Sn(Wt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Sn(Wt.comparator)).toArray()}}new Uint8Array(0);class Ti{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Uf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uf(0)}static Mn(){return new Uf(-1)}}class n4{constructor(){this.changes=new nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class CV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&yw(r.mutation,i,os.empty(),$n.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,St()).next(()=>r))}getLocalViewOfDocuments(e,t,r=St()){const i=Ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=gw();return a.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,St()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=as();const l=mw(),f=mw();return t.forEach((m,v)=>{const T=r.get(v.key);i.has(v.key)&&(void 0===T||T.mutation instanceof rl)?a=a.insert(v.key,v):void 0!==T?(l.set(v.key,T.mutation.getFieldMask()),yw(T.mutation,v,T.mutation.getFieldMask(),$n.now())):l.set(v.key,os.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,T)=>l.set(v,T)),t.forEach((v,T)=>{var b;return f.set(v,new s4(T,null!==(b=l.get(v))&&void 0!==b?b:null))}),f))}recalculateAndSaveOverlays(e,t){const r=mw();let i=new yn((l,f)=>l-f),a=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let T=r.get(m)||os.empty();T=f.applyToLocalView(v,T),r.set(m,T);const b=(i.get(f.batchId)||St()).add(m);i=i.insert(f.batchId,b)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,T=m.value,b=f2();T.forEach(x=>{if(!a.has(x)){const O=w2(t.get(x),r.get(x));null!==O&&b.set(x,O),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,b))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ve.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function ZR(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Z.resolve(Ka());let f=-1,m=a;return l.next(v=>Z.forEach(v,(T,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),a.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{m=m.insert(T,x)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,St())).next(T=>({batchId:f,changes:h2(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(r=>{let i=gw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=gw();return this.indexManager.getCollectionParents(e,i).next(l=>Z.forEach(l,f=>{const m=(v=t,T=f.child(i),new tl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((T,b)=>{a=a.insert(T,b)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,An.newInvalidDocument(v)))});let l=gw();return a.forEach((f,m)=>{const v=i.get(f);void 0!==v&&yw(v.mutation,m,os.empty(),$n.now()),pw(t,m)&&(l=l.insert(f,m))}),l})}}class o4{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Z.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ir(r.createTime)}),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:l1(r.bundledQuery),readTime:ir(r.readTime)}),Z.resolve();var r}}class a4{constructor(){this.overlays=new yn(Ve.comparator),this.ls=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ka();return Z.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=Ka(),a=t.length+1,l=new Ve(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new yn((v,T)=>v-T);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let T=a.get(v.largestBatchId);null===T&&(T=Ka(),a=a.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const f=Ka(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,T)=>f.set(v,T)),!(f.size()>=i)););return Z.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new t1(t,r));let a=this.ls.get(t);void 0===a&&(a=St(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class m1{constructor(){this.fs=new Sn(zr.ds),this.ws=new Sn(zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new zr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new zr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ve(new Wt([])),r=new zr(t,e),i=new zr(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ve(new Wt([])),r=new zr(t,e),i=new zr(t,e+1);let a=St();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new zr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ve.comparator(e.key,t.key)||Ct(e.As,t.As)}static _s(e,t){return Ct(e.As,t.As)||Ve.comparator(e.key,t.key)}}class u4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Sn(zr.ds)}checkEmpty(e){return Z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new XR(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new zr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),i=new zr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sn(Ct);return t.forEach(i=>{const a=new zr(i,0),l=new zr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),Z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ve.isDocumentKey(a)||(a=a.child(""));const l=new zr(new Ve(a),0);let f=new Sn(Ct);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},l),Z.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){D(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Z.forEach(t.mutations,i=>{const a=new zr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new zr(t,0),i=this.Rs.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Z.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l4{constructor(e){this.Ds=e,this.docs=new yn(Ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=as();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():An.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=as();const l=t.path,f=new Ve(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:T}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||LR(AL(T),r)<=0||(i.has(T.key)||pw(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,i){I()}Cs(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new c4(this)}getSize(e){return Z.resolve(this.size)}}class c4 extends n4{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class d4{constructor(e){this.persistence=e,this.xs=new nl(t=>xf(t),hw),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Ns=0,this.ks=new m1,this.targetCount=0,this.Ms=Uf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Z.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Uf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Fn(t),Z.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Z.waitFor(a).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.ks.containsKey(t))}}class _1{constructor(e,t){this.$s={},this.overlays={},this.Os=new ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new d4(this),this.indexManager=new Y3,this.remoteDocumentCache=new l4(r=>this.referenceDelegate.Ls(r)),this.serializer=new Z2(t),this.qs=new o4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new u4(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){h("MemoryPersistence","Starting transaction:",e);const i=new h4(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return Z.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class h4 extends PH{constructor(e){super(),this.currentSequenceNumber=e}}class vS{constructor(e){this.persistence=e,this.Qs=new m1,this.js=null}static zs(e){return new vS(e)}get Ws(){if(this.js)return this.js;throw I()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Ws,r=>{const i=Ve.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Je.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Z.or([()=>Z.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class E1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=St(),i=St();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new E1(e,t.fromCache,r,i)}}class wV{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(a2(t))return Z.resolve(null);let r=Li(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=sS(t,null,"F"),r=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=St(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,sS(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return a2(t)||i.isEqual(Je.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(u()<=ts.in.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),YR(t)),this.Wi(e,l,t,function SL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(1e9===r?new $n(t+1,0):new $n(t,r));return new Os(i,Ve.empty(),e)}(i,-1)))})}ji(e,t){let r=new Sn(c2(e));return t.forEach((i,a)=>{pw(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return u()<=ts.in.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",YR(t)),this.Ui.getDocumentsMatchingQuery(e,t,Os.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class p4{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new yn(Ct),this.Yi=new nl(a=>xf(a),hw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function TV(n,e){return w1.apply(this,arguments)}function w1(){return w1=(0,ue.Z)(function*(n,e){const t=M(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let m=St();for(const v of i){l.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}for(const v of a){f.push(v.batchId);for(const T of v.mutations)m=m.add(T.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),w1.apply(this,arguments)}function DV(n){const e=M(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function _4(n,e){const t=M(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e,t){return I1.apply(this,arguments)}function I1(){return I1=(0,ue.Z)(function*(n,e,t){const r=M(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Uc(l))throw l;h("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),I1.apply(this,arguments)}function wS(n,e,t){const r=M(n);let i=Je.min(),a=St();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const T=M(f),b=T.Yi.get(v);return void 0!==b?Z.resolve(T.Ji.get(b)):T.Bs.getTargetData(m,v)}(r,l,Li(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Je.min(),t?a:St())).next(f=>(function MV(n,e,t){let r=n.Xi.get(e)||Je.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function l2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:a})))}class A1{constructor(){this.activeTargetIds=function QR(){return y3}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RV{constructor(){this.Hr=new A1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new A1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C4{Yr(e){}shutdown(){}}class PV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let DS=null;function x1(){return null===DS?DS=268435456+Math.round(2147483648*Math.random()):DS++,"0x"+DS.toString(16)}const E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w4{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Di="WebChannelConnection";class I4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=x1(),f=this.To(e,t);h("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,a),this.Ao(e,f,m,r).then(v=>(h("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw y("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${E4[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=x1();return new Promise((l,f)=>{const m=new TL;m.setWithCredentials(!0),m.listenOnce(EL.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case jb.NO_ERROR:const T=m.getResponseJson();h(Di,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case jb.TIMEOUT:h(Di,`RPC '${e}' ${a} timed out`),f(new P(R.DEADLINE_EXCEEDED,"Request time out"));break;case jb.HTTP_ERROR:const b=m.getStatus();if(h(Di,`RPC '${e}' ${a} failed with status:`,b,"response text:",m.getResponseText()),b>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const B=function(ee){const ae=ee.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(ae)>=0?ae:R.UNKNOWN}(O.status);f(new P(B,O.message))}else f(new P(R.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new P(R.UNAVAILABLE,"Connection failed."));break;default:I()}}finally{h(Di,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);h(Di,`RPC '${e}' ${a} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=x1(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vL(),f=CL(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new IL({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const T=a.join("");h(Di,`Creating RPC '${e}' stream ${i}: ${T}`,m);const b=l.createWebChannel(T,m);let x=!1,O=!1;const B=new w4({ro:ae=>{O?h(Di,`Not sending because RPC '${e}' stream ${i} is closed:`,ae):(x||(h(Di,`Opening RPC '${e}' stream ${i} transport.`),b.open(),x=!0),h(Di,`RPC '${e}' stream ${i} sending:`,ae),b.send(ae))},oo:()=>b.close()}),ee=(ae,Pe,je)=>{ae.listen(Pe,Be=>{try{je(Be)}catch(We){setTimeout(()=>{throw We},0)}})};return ee(b,tw.EventType.OPEN,()=>{O||h(Di,`RPC '${e}' stream ${i} transport opened.`)}),ee(b,tw.EventType.CLOSE,()=>{O||(O=!0,h(Di,`RPC '${e}' stream ${i} transport closed`),B.wo())}),ee(b,tw.EventType.ERROR,ae=>{O||(O=!0,y(Di,`RPC '${e}' stream ${i} transport errored:`,ae),B.wo(new P(R.UNAVAILABLE,"The operation could not be completed")))}),ee(b,tw.EventType.MESSAGE,ae=>{var Pe;if(!O){const je=ae.data[0];D(!!je);const We=je.error||(null===(Pe=je[0])||void 0===Pe?void 0:Pe.error);if(We){h(Di,`RPC '${e}' stream ${i} received error:`,We);const Tt=We.status;let Mt=function(Vs){const ty=yr[Vs];if(void 0!==ty)return A2(ty)}(Tt),Zr=We.message;void 0===Mt&&(Mt=R.INTERNAL,Zr="Unknown error status: "+Tt+" with message "+We.message),O=!0,B.wo(new P(Mt,Zr)),b.close()}else h(Di,`RPC '${e}' stream ${i} received:`,je),B._o(je)}}),ee(f,wL.STAT_EVENT,ae=>{ae.stat===Hb.PROXY?h(Di,`RPC '${e}' stream ${i} detected buffering proxy`):ae.stat===Hb.NOPROXY&&h(Di,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{B.fo()},0),B}}function bS(){return typeof document<"u"?document:null}function Pw(n){return new R3(n,!0)}class N1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&h("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kV{constructor(e,t,r,i,a,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new N1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ue.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===R.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new P(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return h("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T4 extends kV{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function k3(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:I(),i=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(D(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(D(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?R.UNKNOWN:A2(m.code);return new P(v,m.message||"")}(l);t=new P2(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ya(n,r.document.name),a=ir(r.document.updateTime),l=r.document.createTime?ir(r.document.createTime):Je.min(),f=new oi({mapValue:{fields:r.document.fields}}),m=An.newFoundDocument(i,a,l,f);t=new cS(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Ya(n,r.document),a=r.readTime?ir(r.readTime):Je.min(),l=An.newNoDocument(i,a);t=new cS([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Ya(n,r.document);t=new cS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return I();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new b3(i,a);t=new R2(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Je.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Je.min():a.readTime?ir(a.readTime):Je.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Iw(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=nS(f)?{documents:H2(i,f)}:{query:u1(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=L2(i,a.resumeToken);const m=i1(i,a.expectedCount);null!==m&&(l.expectedCount=m)}else if(a.snapshotVersion.compareTo(Je.min())>0){l.readTime=__(i,a.snapshotVersion.toTimestamp());const m=i1(i,a.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function L3(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return I()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Iw(this.serializer),t.removeTarget=e,this.Wo(t)}}class D4 extends kV{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(D(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function F3(n,e){return n&&n.length>0?(D(void 0!==e),n.map(t=>function(r,i){let a=ir(r.updateTime?r.updateTime:i);return a.isEqual(Je.min())&&(a=ir(i)),new w3(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.cu(r,t)}return D(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Iw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Tw(n,e){let t;if(e instanceof g_)t={update:$2(n,e.key,e.value)};else if(e instanceof m_)t={delete:ww(n,e.key)};else if(e instanceof rl)t={update:$2(n,e.key,e.data),updateMask:$3(e.fieldMask)};else{if(!(e instanceof JR))return I();t={verify:ww(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof f_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof p_)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw I()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:P3(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:I()),t;var i}(this.serializer,r))};this.Wo(t)}}class b4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new P(R.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(R.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new P(R.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class A4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(p(t),this.mu=!1):h("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class M4{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,ue.Z)(function*(){var m;Yc(l)&&(h("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ue.Z)(function*(v){const T=M(v);T.vu.add(4),yield I_(T),T.bu.set("Unknown"),T.vu.delete(4),yield Ow(T)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new A4(r,i)}}function Ow(n){return P1.apply(this,arguments)}function P1(){return P1=(0,ue.Z)(function*(n){if(Yc(n))for(const e of n.Ru)yield e(!0)}),P1.apply(this,arguments)}function I_(n){return O1.apply(this,arguments)}function O1(){return O1=(0,ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),O1.apply(this,arguments)}function SS(n,e){const t=M(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),L1(t)?F1(t):D_(t).Ko()&&k1(t,e))}function kw(n,e){const t=M(n),r=D_(t);t.Au.delete(e),r.Ko()&&FV(t,e),0===t.Au.size&&(r.Ko()?r.jo():Yc(t)&&t.bu.set("Unknown"))}function k1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}D_(n).su(e)}function FV(n,e){n.Vu.qt(e),D_(n).iu(e)}function F1(n){n.Vu=new A3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),D_(n).start(),n.bu.gu()}function L1(n){return Yc(n)&&!D_(n).Uo()&&n.Au.size>0}function Yc(n){return 0===M(n).vu.size}function LV(n){n.Vu=void 0}function x4(n){return V1.apply(this,arguments)}function V1(){return V1=(0,ue.Z)(function*(n){n.Au.forEach((e,t)=>{k1(n,e)})}),V1.apply(this,arguments)}function N4(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,ue.Z)(function*(n,e){LV(n),L1(n)?(n.bu.Iu(e),F1(n)):n.bu.set("Unknown")}),U1.apply(this,arguments)}function R4(n,e,t){return B1.apply(this,arguments)}function B1(){return B1=(0,ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof P2&&2===e.state&&e.cause)try{yield(r=(0,ue.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){h("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AS(n,r)}else if(e instanceof cS?n.Vu.Ht(e):e instanceof R2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Je.min()))try{const r=yield DV(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Nr.EMPTY_BYTE_STRING,v.snapshotVersion)),FV(i,f);const T=new il(v.target,f,m,v.sequenceNumber);k1(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){h("RemoteStore","Failed to raise snapshot:",r),yield AS(n,r)}var r}),B1.apply(this,arguments)}function AS(n,e,t){return $1.apply(this,arguments)}function $1(){return $1=(0,ue.Z)(function*(n,e,t){if(!Uc(e))throw e;n.vu.add(1),yield I_(n),n.bu.set("Offline"),t||(t=()=>DV(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){h("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ow(n)}))}),$1.apply(this,arguments)}function VV(n,e){return e().catch(t=>AS(n,t,e))}function T_(n){return j1.apply(this,arguments)}function j1(){return j1=(0,ue.Z)(function*(n){const e=M(n),t=Qc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;P4(e);)try{const i=yield _4(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,O4(e,i)}catch(i){yield AS(e,i)}UV(e)&&BV(e)}),j1.apply(this,arguments)}function P4(n){return Yc(n)&&n.Eu.length<10}function O4(n,e){n.Eu.push(e);const t=Qc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function UV(n){return Yc(n)&&!Qc(n).Uo()&&n.Eu.length>0}function BV(n){Qc(n).start()}function k4(n){return H1.apply(this,arguments)}function H1(){return H1=(0,ue.Z)(function*(n){Qc(n).hu()}),H1.apply(this,arguments)}function F4(n){return G1.apply(this,arguments)}function G1(){return G1=(0,ue.Z)(function*(n){const e=Qc(n);for(const t of n.Eu)e.uu(t.mutations)}),G1.apply(this,arguments)}function L4(n,e,t){return z1.apply(this,arguments)}function z1(){return z1=(0,ue.Z)(function*(n,e,t){const r=n.Eu.shift(),i=e1.from(r,e,t);yield VV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield T_(n)}),z1.apply(this,arguments)}function V4(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,ue.Z)(function*(n,e){var t;e&&Qc(n).ou&&(yield(t=(0,ue.Z)(function*(r,i){if(function S2(n){switch(n){default:return I();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}(a=i.code)&&a!==R.ABORTED){const l=r.Eu.shift();Qc(r).Qo(),yield VV(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield T_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),UV(n)&&BV(n)}),W1.apply(this,arguments)}function $V(n,e){return q1.apply(this,arguments)}function q1(){return q1=(0,ue.Z)(function*(n,e){const t=M(n);t.asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials");const r=Yc(t);t.vu.add(3),yield I_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ow(t)}),q1.apply(this,arguments)}function K1(){return K1=(0,ue.Z)(function*(n,e){const t=M(n);e?(t.vu.delete(2),yield Ow(t)):e||(t.vu.add(2),yield I_(t),t.bu.set("Unknown"))}),K1.apply(this,arguments)}function D_(n){return n.Su||(n.Su=function(e,t,r){const i=M(e);return i.fu(),new T4(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:x4.bind(null,n),ao:N4.bind(null,n),nu:R4.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Su.Qo(),L1(n)?F1(n):n.bu.set("Unknown")):(yield n.Su.stop(),LV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Qc(n){return n.Du||(n.Du=function(e,t,r){const i=M(e);return i.fu(),new D4(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:k4.bind(null,n),ao:V4.bind(null,n),au:F4.bind(null,n),cu:L4.bind(null,n)}),n.Ru.push(function(){var e=(0,ue.Z)(function*(t){t?(n.Du.Qo(),yield T_(n)):(yield n.Du.stop(),n.Eu.length>0&&(h("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Y1{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ie,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new Y1(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(n,e){if(p("AsyncQueue",`${e}: ${n}`),Uc(n))return new P(R.UNAVAILABLE,`${e}: ${n}`);throw n}class S_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=gw(),this.sortedSet=new yn(this.comparator)}static emptySet(e){return new S_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof S_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new S_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jV{constructor(){this.Cu=new yn(Ve.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):I():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class A_{constructor(e,t,r,i,a,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new A_(e,t,S_.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class U4{constructor(){this.Nu=void 0,this.listeners=[]}}class B4{constructor(){this.queries=new nl(e=>u2(e),fw),this.onlineState="Unknown",this.ku=new Set}}function J1(){return J1=(0,ue.Z)(function*(n,e){const t=M(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new U4),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=b_(l,`Initialization of query '${YR(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&tP(t)}),J1.apply(this,arguments)}function eP(){return eP=(0,ue.Z)(function*(n,e){const t=M(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),eP.apply(this,arguments)}function $4(n,e){const t=M(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&tP(t)}function j4(n,e,t){const r=M(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function tP(n){n.ku.forEach(e=>{e.next()})}class nP{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new A_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zV{constructor(e){this.key=e}}class WV{constructor(e){this.key=e}}class qV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=St(),this.mutatedKeys=St(),this.tc=c2(e),this.ec=new S_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new jV,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,b)=>{const x=i.get(T),O=pw(this.query,b)?b:null,B=!!x&&this.mutatedKeys.has(x.key),ee=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ae=!1;x&&O?x.data.isEqual(O.data)?B!==ee&&(r.track({type:3,doc:O}),ae=!0):this.rc(x,O)||(r.track({type:2,doc:O}),ae=!0,(m&&this.tc(O,m)>0||v&&this.tc(O,v)<0)&&(f=!0)):!x&&O?(r.track({type:0,doc:O}),ae=!0):x&&!O&&(r.track({type:1,doc:x}),ae=!0,(m||v)&&(f=!0)),ae&&(O?(l=l.add(O),a=ee?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,T)=>function(b,x){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return I()}};return O(b)-O(x)}(v.type,T.type)||this.tc(v.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==a.length||m?{snapshot:new A_(this.query,e.ec,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=St(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new WV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new zV(r))}),t}hc(e){this.Yu=e.ir,this.Zu=St();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return A_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class z4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class W4{constructor(e){this.key=e,this.fc=!1}}class q4{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new nl(f=>u2(f),fw),this._c=new Map,this.mc=new Set,this.gc=new yn(Ve.comparator),this.yc=new Map,this.Ic=new m1,this.Tc={},this.Ec=new Map,this.Ac=Uf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Z4(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,ue.Z)(function*(n,e){const t=function bP(n){const e=M(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q4.bind(null,e),e.dc.nu=$4.bind(null,e.eventManager),e.dc.Pc=j4.bind(null,e.eventManager),e}(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield function E_(n,e){const t=M(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,Z.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new il(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Li(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function iP(n,e,t,r,i){return sP.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&SS(t.remoteStore,l)}return i}),rP.apply(this,arguments)}function sP(){return sP=(0,ue.Z)(function*(n,e,t,r,i){n.Rc=(b,x,O)=>{return(B=(0,ue.Z)(function*(ee,ae,Pe,je){let Be=ae.view.sc(Pe);Be.zi&&(Be=yield wS(ee.localStore,ae.query,!1).then(({documents:Mt})=>ae.view.sc(Mt,Be)));const We=je&&je.targetChanges.get(ae.targetId),Tt=ae.view.applyChanges(Be,ee.isPrimaryClient,We);return gP(ee,ae.targetId,Tt.cc),Tt.snapshot}),function(ee,ae,Pe,je){return B.apply(this,arguments)})(n,b,x,O);var B};const a=yield wS(n.localStore,e,!0),l=new qV(e,a.ir),f=l.sc(a.documents),m=Ew.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,m);gP(n,t,v.cc);const T=new z4(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),sP.apply(this,arguments)}function K4(n,e){return oP.apply(this,arguments)}function oP(){return oP=(0,ue.Z)(function*(n,e){const t=M(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!fw(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield w_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kw(t.remoteStore,r.targetId),M_(t,r.targetId)}).catch(Vc))):(M_(t,r.targetId),yield w_(t.localStore,r.targetId,!0))}),oP.apply(this,arguments)}function aP(){return aP=(0,ue.Z)(function*(n,e,t){const r=function SP(n){const e=M(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X4.bind(null,e),e}(n);try{const i=yield function(a,l){const f=M(a),m=$n.now(),v=l.reduce((x,O)=>x.add(O.key),St());let T,b;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=as(),B=St();return f.Zi.getEntries(x,v).next(ee=>{O=ee,O.forEach((ae,Pe)=>{Pe.isValidDocument()||(B=B.add(ae))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,O)).next(ee=>{T=ee;const ae=[];for(const Pe of l){const je=T3(Pe,T.get(Pe.key).overlayedDocument);null!=je&&ae.push(new rl(Pe.key,je,ZL(je.value.mapValue),On.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,ae,l)}).next(ee=>{b=ee;const ae=ee.applyToLocalDocumentSet(T,B);return f.documentOverlayCache.saveOverlays(x,ee.batchId,ae)})}).then(()=>({batchId:b.batchId,changes:h2(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let m=a.Tc[a.currentUser.toKey()];m||(m=new yn(Ct)),m=m.insert(l,f),a.Tc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield sl(r,i.changes),yield T_(r.remoteStore)}catch(i){const a=b_(i,"Failed to persist write");t.reject(a)}}),aP.apply(this,arguments)}function ZV(n,e){return uP.apply(this,arguments)}function uP(){return uP=(0,ue.Z)(function*(n,e){const t=M(n);try{const r=yield function m4(n,e){const t=M(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,b)=>{const x=i.get(b);if(!x)return;f.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,b).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,b)));let O=x.withSequenceNumber(a.currentSequenceNumber);var B,ee,ae;null!==e.targetMismatches.get(b)?O=O.withResumeToken(Nr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),i=i.insert(b,O),ee=O,ae=T,(0===(B=x).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,O))});let m=as(),v=St();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(function bV(n,e,t){let r=St(),i=St();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=as();return t.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Je.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):h("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:i}})}(a,l,e.documentUpdates).next(T=>{m=T.nr,v=T.sr})),!r.isEqual(Je.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(b=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return Z.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(D(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?D(l.fc):i.removedDocuments.size>0&&(D(l.fc),l.fc=!1))}),yield sl(t,r,e)}catch(r){yield Vc(r)}}),uP.apply(this,arguments)}function KV(n,e,t){const r=M(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=M(a);f.onlineState=l;let m=!1;f.queries.forEach((v,T)=>{for(const b of T.listeners)b.Mu(l)&&(m=!0)}),m&&tP(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q4(n,e,t){return lP.apply(this,arguments)}function lP(){return lP=(0,ue.Z)(function*(n,e,t){const r=M(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new yn(Ve.comparator);l=l.insert(a,An.newNoDocument(a,Je.min()));const f=St().add(a),m=new Cw(Je.min(),new Map,new yn(Ct),l,f);yield ZV(r,m),r.gc=r.gc.remove(a),r.yc.delete(e),mP(r)}else yield w_(r.localStore,e,!1).then(()=>M_(r,e,t)).catch(Vc)}),lP.apply(this,arguments)}function J4(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,ue.Z)(function*(n,e){const t=M(n),r=e.batch.batchId;try{const i=yield function g4(n,e){const t=M(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const T=m.batch,b=T.keys();let x=Z.resolve();return b.forEach(O=>{x=x.next(()=>v.getEntry(f,O)).next(B=>{const ee=m.docVersions.get(O);D(null!==ee),B.version.compareTo(ee)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),v.addEntry(B)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=St();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);pP(t,r,null),fP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield sl(t,i)}catch(i){yield Vc(i)}}),cP.apply(this,arguments)}function X4(n,e,t){return dP.apply(this,arguments)}function dP(){return dP=(0,ue.Z)(function*(n,e,t){const r=M(n);try{const i=yield function(a,l){const f=M(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(T=>(D(null!==T),v=T.keys(),f.mutationQueue.removeMutationBatch(m,T))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);pP(r,e,t),fP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield sl(r,i)}catch(i){yield Vc(i)}}),dP.apply(this,arguments)}function fP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function pP(n,e,t){const r=M(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function M_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||YV(n,r)})}function YV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(kw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),mP(n))}function gP(n,e,t){for(const r of t)r instanceof zV?(n.Ic.addReference(r.key,e),tG(n,r)):r instanceof WV?(h("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||YV(n,r.key)):I()}function tG(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(h("SyncEngine","New document in limbo: "+t),n.mc.add(r),mP(n))}function mP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ve(Wt.fromString(e)),r=n.Ac.next();n.yc.set(r,new W4(t)),n.gc=n.gc.insert(t,r),SS(n.remoteStore,new il(Li(h_(t.path)),r,"TargetPurposeLimboResolution",ks.ct))}}function sl(n,e,t){return _P.apply(this,arguments)}function _P(){return _P=(0,ue.Z)(function*(n,e,t){const r=M(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const T=E1.Li(m.targetId,v);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,ue.Z)(function*(m,v){const T=M(m);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(v,x=>Z.forEach(x.Fi,O=>T.persistence.referenceDelegate.addReference(b,x.targetId,O)).next(()=>Z.forEach(x.Bi,O=>T.persistence.referenceDelegate.removeReference(b,x.targetId,O)))))}catch(b){if(!Uc(b))throw b;h("LocalStore","Failed to update sequence numbers: "+b)}for(const b of v){const x=b.targetId;if(!b.fromCache){const O=T.Ji.get(x),ee=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);T.Ji=T.Ji.insert(x,ee)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),_P.apply(this,arguments)}function nG(n,e){return yP.apply(this,arguments)}function yP(){return yP=(0,ue.Z)(function*(n,e){const t=M(n);if(!t.currentUser.isEqual(e)){h("SyncEngine","User change. New user:",e.toKey());const r=yield TV(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new P(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sl(t,r.er)}var i}),yP.apply(this,arguments)}function rG(n,e){const t=M(n),r=t.yc.get(e);if(r&&r.fc)return St().add(r.key);{let i=St();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}class MS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=Pw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function IV(n,e,t,r){return new p4(n,e,t,r)}(this.persistence,new wV,e.initialUser,this.serializer)}createPersistence(e){return new _1(vS.zs,this.serializer)}createSharedClientState(e){return new RV}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x_{initialize(e,t){var r=this;return(0,ue.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>KV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nG.bind(null,r.syncEngine),yield function Z1(n,e){return K1.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new B4}createDatastore(e){const t=Pw(e.databaseInfo.databaseId),r=new I4(e.databaseInfo);return new b4(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>KV(this.syncEngine,f,0),l=PV.D()?new PV:new C4,new M4(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,m,v){const T=new q4(r,i,a,l,f,m);return v&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const r=M(t);h("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield I_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class xS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):p("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=zb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ue.Z)(function*(f){h("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(h("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ie;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=b_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function NS(n,e){return AP.apply(this,arguments)}function AP(){return AP=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ue.Z)(function*(a){r.isEqual(a)||(yield TV(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),AP.apply(this,arguments)}function MP(n,e){return xP.apply(this,arguments)}function xP(){return xP=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function NP(n){return RP.apply(this,arguments)}(n);h("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>$V(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>$V(e.remoteStore,a)),n._onlineComponents=e}),xP.apply(this,arguments)}function RP(){return RP=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){h("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function nU(n){return"FirebaseError"===n.name?n.code===R.FAILED_PRECONDITION||n.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;y("Error using user provided cache. Falling back to memory cache: "+t),yield NS(n,new MS)}}else h("FirestoreClient","Using default OfflineComponentProvider"),yield NS(n,new MS);return n._offlineComponents}),RP.apply(this,arguments)}function RS(n){return PP.apply(this,arguments)}function PP(){return PP=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(h("FirestoreClient","Using user provided OnlineComponentProvider"),yield MP(n,n._uninitializedComponentsProvider._online)):(h("FirestoreClient","Using default OnlineComponentProvider"),yield MP(n,new x_))),n._onlineComponents}),PP.apply(this,arguments)}function kP(){return kP=(0,ue.Z)(function*(n){const e=yield RS(n),t=e.eventManager;return t.onListen=Z4.bind(null,e.syncEngine),t.onUnlisten=K4.bind(null,e.syncEngine),t}),kP.apply(this,arguments)}function oU(n,e,t={}){const r=new ie;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(i,a,l,f,m){const v=new xS({next:b=>{a.enqueueAndForget(()=>function X1(n,e){return eP.apply(this,arguments)}(i,T));const x=b.docs.has(l);!x&&b.fromCache?m.reject(new P(R.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&f&&"server"===f.source?m.reject(new P(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),T=new nP(h_(l.path),v,{includeMetadataChanges:!0,Ku:!0});return function Q1(n,e){return J1.apply(this,arguments)}(i,T)}(yield function N_(n){return kP.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function uU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const lU=new Map;function FP(n,e,t){if(!t)throw new P(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cU(n){if(!Ve.isDocumentKey(n))throw new P(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dU(n){if(Ve.isDocumentKey(n))throw new P(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":I()}function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new P(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OS(n);throw new P(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class fU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new P(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function DG(n,e,t,r){if(!0===e&&!0===r)throw new P(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new P(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new P(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new P(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Fe;switch(t.type){case"firstParty":return new Nt(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new P(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lU.get(e);t&&(h("ComponentProvider","Removing Datastore"),lU.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class ai{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class Qa extends ai{constructor(e,t,r){super(e,t,h_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Ve(e))}withConverter(e){return new Qa(this.firestore,e,this._path)}}function SG(n,e,...t){if(n=(0,j.m9)(n),FP("collection","path",e),n instanceof Fw){const r=Wt.fromString(e,...t);return dU(r),new Qa(n,null,r)}{if(!(n instanceof sr||n instanceof Qa))throw new P(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return dU(r),new Qa(n.firestore,null,r)}}function pU(n,e,...t){if(n=(0,j.m9)(n),1===arguments.length&&(e=zb.A()),FP("doc","path",e),n instanceof Fw){const r=Wt.fromString(e,...t);return cU(r),new sr(n,null,new Ve(r))}{if(!(n instanceof sr||n instanceof Qa))throw new P(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return cU(r),new sr(n.firestore,n instanceof Qa?n.converter:null,new Ve(r))}}class AG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new N1(this,"async_queue_retry"),this.Xc=()=>{const t=bS();t&&h("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=bS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ie;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Uc(t))throw t;h("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,p("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Y1.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&I()}verifyOperationInProgress(){}sa(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Mn extends Fw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new AG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mU(this),this._firestoreClient.terminate()}}function xG(n,e){const t="object"==typeof n?n:(0,st.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,st._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,j.P0)("firestore");a&&function bG(n,e,t,r={}){var i;const a=(n=zt(n,Fw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&y("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=xr.MOCK_USER;else{f=(0,j.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new P(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new xr(v)}n._authCredentials=new Ke(new we(f,m))}}(i,...a)}return i}function vr(n){return n._firestoreClient||mU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mU(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new r3(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uU(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new mG(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class $f{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $f(Nr.fromBase64String(e))}catch(t){throw new P(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $f(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class R_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VP{constructor(e){this._methodName=e}}class UP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}const RG=/^__.*__$/;class PG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new rl(e,this.data,this.fieldMask,t,this.fieldTransforms):new g_(e,this.data,t,this.fieldTransforms)}}class vU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw I()}}class kS{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return LS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(CU(this.ca)&&RG.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class OG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pw(e)}ya(e,t,r,i=!1){return new kS({ca:e,methodName:t,ga:r,path:rr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P_(n){const e=n._freezeSettings(),t=Pw(n._databaseId);return new OG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BP(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);jP("Data must be an object, but it was:",l,r);const f=DU(r,l);let m,v;if(a.merge)m=new os(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const b of a.mergeFields){const x=Uw(e,b,t);if(!l.contains(x))throw new P(R.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);SU(T,x)||T.push(x)}m=new os(T),v=l.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,v=l.fieldTransforms;return new PG(new oi(f),m,v)}class Vw extends VP{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vw}}function jf(n,e){if(bU(n=(0,j.m9)(n)))return jP("Unsupported field value:",e,n),DU(n,e);if(n instanceof VP)return function(t,r){if(!CU(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=jf(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,j.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return m2(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$n.fromDate(t);return{timestampValue:__(r.serializer,i)}}if(t instanceof $n){const i=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:__(r.serializer,i)}}if(t instanceof UP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $f)return{bytesValue:L2(r.serializer,t._byteString)};if(t instanceof sr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:s1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OS(t)}`)}(n,e)}function DU(n,e){const t={};return UL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(n,(r,i)=>{const a=jf(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function bU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof UP||n instanceof $f||n instanceof sr||n instanceof VP)}function jP(n,e,t){if(!bU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Uw(n,e,t){if((e=(0,j.m9)(e))instanceof R_)return e._internalPath;if("string"==typeof e)return FS(n,e);throw LS("Field path arguments must be of type string or ",n,!1,void 0,t)}const VG=new RegExp("[~\\*/\\[\\]]");function FS(n,e,t){if(e.search(VG)>=0)throw LS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new R_(...e.split("."))._internalPath}catch{throw LS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function LS(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new P(R.INVALID_ARGUMENT,f+n+m)}function SU(n,e){return n.some(t=>t.isEqual(e))}class HP{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UG extends HP{data(){return super.data()}}function VS(n,e){return"string"==typeof e?FS(n,e):e instanceof R_?e._internalPath:e._delegate._internalPath}class $G{convertValue(e,t="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw I()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bc(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new UP(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uw(e));default:return null}}convertTimestamp(e){const t=$c(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);D(q2(r));const i=new Af(r.get(1),r.get(3)),a=new Ve(r.popFirst(5));return i.isEqual(t)||p(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k_ extends HP{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(VS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jS extends k_{data(e={}){return super.data(e)}}function GG(n){n=zt(n,sr);const e=zt(n.firestore,Mn);return oU(vr(e),n._key).then(t=>function WP(n,e,t){const r=t.docs.get(e._key),i=new Jc(n);return new k_(n,i,e._key,r,new Hf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Jc extends $G{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function zG(n,e,t){n=zt(n,sr);const r=zt(n.firestore,Mn),i=function zP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return $w(r,[BP(P_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,On.none())])}function WG(n,e,t,...r){n=zt(n,sr);const i=zt(n.firestore,Mn),a=P_(i);let l;return l="string"==typeof(e=(0,j.m9)(e))||e instanceof R_?function IU(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[Uw(e,r,t)],m=[i];if(a.length%2!=0)throw new P(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(Uw(e,a[x])),m.push(a[x+1]);const v=[],T=oi.empty();for(let x=f.length-1;x>=0;--x)if(!SU(v,f[x])){const O=f[x];let B=m[x];B=(0,j.m9)(B);const ee=l.da(O);if(B instanceof Vw)v.push(O);else{const ae=jf(B,ee);null!=ae&&(v.push(O),T.set(O,ae))}}const b=new os(v);return new vU(T,b,l.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function wU(n,e,t,r){const i=n.ya(1,e,t);jP("Data must be an object, but it was:",i,r);const a=[],l=oi.empty();Bc(r,(m,v)=>{const T=FS(e,m,t);v=(0,j.m9)(v);const b=i.da(T);if(v instanceof Vw)a.push(T);else{const x=jf(v,b);null!=x&&(a.push(T),l.set(T,x))}});const f=new os(a);return new vU(l,f,i.fieldTransforms)}(a,"updateDoc",n._key,e),$w(i,[l.toMutation(n._key,On.exists(!0))])}function $w(n,e){return function(t,r){const i=new ie;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function Y4(n,e,t){return aP.apply(this,arguments)}(yield function OP(n){return RS(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(vr(n),e)}!function(n,e=!0){s=st.SDK_VERSION,(0,st._registerComponent)(new As.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Mn(new pe(t.getProvider("auth-internal")),new Hr(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new P(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(Gb,"3.13.0",n),(0,st.registerVersion)(Gb,"3.13.0","esm2017")}();class GS{constructor(e){return e}}const FU="firestore",qP=new c.OlP("angularfire2.firestore-instances");function oz(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GS(r)}}const az={provide:class iz{constructor(){return _c(FU)}},deps:[[new c.FiY,qP]]},uz={provide:GS,useFactory:function sz(n,e){const t=mc(FU,n,e);return t&&new GS(t)},deps:[[new c.FiY,qP],$a]};let lz=(()=>{class n{constructor(){(0,st.registerVersion)("angularfire",Ba.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uz,az]}),n})();function cz(n,...e){return{ngModule:lz,providers:[{provide:qP,useFactory:oz(n),multi:!0,deps:[c.R0b,c.zs3,vc,jh,[new c.FiY,uE],[new c.FiY,Zu],...e]}]}}const jw=oo(SG,!0),Hw=oo(pU,!0),Gw=oo(GG,!0),dz=oo(xG,!0),LU=oo(zG,!0),VU=oo(WG,!0);let UU=(()=>{class n{constructor(t){this.firestore=t}addCarToDB(t,r,i){console.log(t);const a=jw(this.firestore,r),l=Hw(a,i);Gw(l).then(f=>{if(console.log(l),console.log(f),f.exists()){console.log("1");const m=f.data().data;console.log(m);const v=[...m,t];console.log(v),VU(l,{data:v,title:i}).then(()=>{console.log("Data Added")}).catch(T=>{console.log(T)})}else console.log("2"),LU(l,{data:[t],title:i}).then(()=>{console.log("Data Added")}).catch(v=>{console.log(v)})}).catch(f=>{console.log(f)})}getCars(t,r){const i=jw(this.firestore,t),a=Hw(i,r);return Gw(a).then(l=>l.exists()&&l.data().data||[]).catch(l=>(console.log(l),[]))}getCarByID(t,r,i){const a=jw(this.firestore,r),l=Hw(a,i);return Gw(l).then(f=>f.exists()&&(f.data().data||[]).find(T=>T.id==t)||null).catch(f=>(console.log(f),null))}updateCarData(t,r,i){const a=jw(this.firestore,r),l=Hw(a,i);Gw(l).then(f=>{if(f.exists()){const v=(f.data().data||[]).map(T=>T.id==t.id?t:T);LU(l,{data:v,title:i})}}).then(()=>{console.log("Car Replaced Successfully")}).catch(f=>{console.log(f)})}deleteCar(t,r,i){const a=jw(this.firestore,r),l=Hw(a,i);return Gw(l).then(f=>{if(f.exists()){const v=(f.data().data||[]).filter(T=>T.id!==t.id);console.log(v),VU(l,{data:v,title:i})}}).then(()=>{console.log("Car deleted successfully")}).catch(f=>{console.log(f)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(GS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Gf=(()=>{class n extends BU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ja=new c.OlP("NgValueAccessor"),pz={provide:Ja,useExisting:(0,c.Gpc)(()=>L_),multi:!0},mz=new c.OlP("CompositionEventMode");let L_=(()=>{class n extends BU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gz(){const n=re()?re().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(mz,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([pz]),c.qOj]}),n})();const bi=new c.OlP("NgValidators"),ed=new c.OlP("NgAsyncValidators");function zU(n){return function Xc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function zS(n){return null}function QU(n){return null!=n}function JU(n){return(0,c.QGY)(n)?(0,Rn.D)(n):n}function XU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function eB(n,e){return e.map(t=>t(n))}function tB(n){return n.map(e=>function yz(n){return!n.validate}(e)?e:t=>e.validate(t))}function ZP(n){return null!=n?function nB(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return XU(eB(t,e))}}(tB(n)):null}function KP(n){return null!=n?function rB(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return function hz(...n){const e=(0,Ks.jO)(n),{args:t,keys:r}=zd(n),i=new br.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let m=l,v=l;for(let T=0;T<l;T++){let b=!1;(0,ga.Xf)(t[T]).subscribe((0,yi.x)(a,x=>{b||(b=!0,v--),f[T]=x},()=>m--,void 0,()=>{(!m||!b)&&(v||a.next(r?pa(r,f):f),a.complete())}))}});return e?i.pipe(ky(e)):i}(eB(t,e).map(JU)).pipe((0,jt.U)(XU))}}(tB(n)):null}function iB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YP(n){return n?Array.isArray(n)?n:[n]:[]}function WS(n,e){return Array.isArray(n)?n.includes(e):n===e}function aB(n,e){const t=YP(e);return YP(n).forEach(i=>{WS(t,i)||t.push(i)}),t}function uB(n,e){return YP(e).filter(t=>!WS(n,t))}class lB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vi extends lB{get formDirective(){return null}get path(){return null}}class td extends lB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qS=(()=>{class n extends cB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(td,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),QP=(()=>{class n extends cB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const zw="VALID",KS="INVALID",V_="PENDING",Ww="DISABLED";function eO(n){return(YS(n)?n.validators:n)||null}function tO(n,e){return(YS(e)?e.asyncValidators:n)||null}function YS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zw}get invalid(){return this.status===KS}get pending(){return this.status==V_}get disabled(){return this.status===Ww}get enabled(){return this.status!==Ww}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(aB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uB(e,this._rawAsyncValidators))}hasValidator(e){return WS(this._rawValidators,e)}hasAsyncValidator(e){return WS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=V_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ww,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zw||this.status===V_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ww:zw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=V_,this._hasOwnPendingAsyncValidator=!0;const t=JU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ww:this.errors?KS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(V_)?V_:this._anyControlsHaveStatus(KS)?KS:zw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wz(n){return Array.isArray(n)?ZP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Iz(n){return Array.isArray(n)?KP(n):n||null}(this._rawAsyncValidators)}}class nO extends pB{constructor(e,t,r){super(eO(t),tO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function hB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const U_=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>QS}),QS="always";function qw(n,e,t=QS){rO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function bz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gB(n,e)})}(n,e),function Az(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dz(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function eA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rO(n,e){const t=function sB(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(iB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function oB(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(iB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eA(e._rawValidators,i),eA(e._rawAsyncValidators,i)}function gB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Pz={provide:Vi,useExisting:(0,c.Gpc)(()=>Kw)},Zw=(()=>Promise.resolve())();let Kw=(()=>{class n extends Vi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new nO({},ZP(t),KP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),qw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zw.then(()=>{const r=this._findContainer(t.path),i=new nO({});(function mB(n,e){rO(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function _B(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bi,10),c.Y36(ed,10),c.Y36(U_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Pz]),c.qOj]}),n})();function yB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function vB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CB=class extends pB{constructor(e=null,t,r){super(eO(t),tO(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=vB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Fz={provide:td,useExisting:(0,c.Gpc)(()=>Yw)},IB=(()=>Promise.resolve())();let Yw=(()=>{class n extends td{constructor(t,r,i,a,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new CB,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function oO(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===L_?t=a:function Nz(n){return Object.getPrototypeOf(n.constructor)===Gf}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function sO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){IB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.VuI)(r);IB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function JS(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vi,9),c.Y36(bi,10),c.Y36(ed,10),c.Y36(Ja,10),c.Y36(c.sBO,8),c.Y36(U_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Fz]),c.qOj,c.TTD]}),n})(),aO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Lz={provide:Ja,useExisting:(0,c.Gpc)(()=>nA),multi:!0};let nA=(()=>{class n extends Gf{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([Lz]),c.qOj]}),n})(),TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Wz={provide:Ja,useExisting:(0,c.Gpc)(()=>Qw),multi:!0};function NB(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qw=(()=>{class n extends Gf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=NB(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function qz(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Wz]),c.qOj]}),n})(),dO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(NB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Qw,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Zz={provide:Ja,useExisting:(0,c.Gpc)(()=>hO),multi:!0};function RB(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let hO=(()=>{class n extends Gf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(i.indexOf(l.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const l=a;for(let f=0;f<l.length;f++){const v=this._getOptionValue(l[f].value);i.push(v)}}else{const l=r.options;for(let f=0;f<l.length;f++){const m=l[f];if(m.selected){const v=this._getOptionValue(m.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Kz(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Zz]),c.qOj]}),n})(),fO=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(RB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(RB(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(hO,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),zf=(()=>{class n{constructor(){this._validator=zS}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Jz={provide:bi,useExisting:(0,c.Gpc)(()=>Jw),multi:!0};let Jw=(()=>{class n extends zf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=t=>zU}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Jz]),c.qOj]}),n})(),i6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[TB]}),n})(),o6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:U_,useValue:t.callSetDisabledState??QS}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[i6]}),n})();function a6(n,e){1&n&&(c.TgZ(0,"label",19),c._uU(1,"Id already exists"),c.qZA())}function u6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",7),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.addCar("cars","cars_for_sale"))}),c.TgZ(1,"h2"),c._uU(2,"Cars For Sale"),c.qZA(),c.TgZ(3,"div",8)(4,"label",9),c._uU(5,"Id"),c.qZA(),c.TgZ(6,"input",10),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.id=i)})("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.checkForIdAvailability(i,"cars","cars_for_sale"))}),c.qZA(),c.YNc(7,a6,2,0,"label",11),c.qZA(),c.TgZ(8,"div",8)(9,"label",9),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.name=i)}),c.qZA()(),c.TgZ(12,"div",8)(13,"label",9),c._uU(14,"Price"),c.qZA(),c.TgZ(15,"input",13),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.price=i)}),c.qZA()(),c.TgZ(16,"div",8)(17,"label",9),c._uU(18,"Kilometers"),c.qZA(),c.TgZ(19,"input",14),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.kilometersDone=i)}),c.qZA()(),c.TgZ(20,"div",8)(21,"label",9),c._uU(22,"Car Body"),c.qZA(),c.TgZ(23,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.carBody=i)}),c.qZA()(),c.TgZ(24,"div",8)(25,"label",9),c._uU(26,"Sale Location"),c.qZA(),c.TgZ(27,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.saleLocation=i)}),c.qZA()(),c.TgZ(28,"div",8)(29,"label",9),c._uU(30,"Manufacture Date"),c.qZA(),c.TgZ(31,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.manufactureDate=i)}),c.qZA()(),c.TgZ(32,"div",8)(33,"label",9),c._uU(34,"Image URL"),c.qZA(),c.TgZ(35,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.imgUrl=i)}),c.qZA()(),c.TgZ(36,"button",18),c._uU(37,"Add"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.carToAdd.id),c.xp6(1),c.Q6J("ngIf",!t.isIdAvailable),c.xp6(4),c.Q6J("ngModel",t.carToAdd.name),c.xp6(4),c.Q6J("ngModel",t.carToAdd.price),c.xp6(4),c.Q6J("ngModel",t.carToAdd.kilometersDone),c.xp6(4),c.Q6J("ngModel",t.carToAdd.carBody),c.xp6(4),c.Q6J("ngModel",t.carToAdd.saleLocation),c.xp6(4),c.Q6J("ngModel",t.carToAdd.manufactureDate),c.xp6(4),c.Q6J("ngModel",t.carToAdd.imgUrl)}}function l6(n,e){1&n&&(c.TgZ(0,"label",19),c._uU(1,"Id already exists"),c.qZA())}function c6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",7),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.addCar("cars","cars_for_rent"))}),c.TgZ(1,"h2"),c._uU(2,"Cars For Rent"),c.qZA(),c.TgZ(3,"div",8)(4,"label",9),c._uU(5,"Id"),c.qZA(),c.TgZ(6,"input",10),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.id=i)})("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.checkForIdAvailability(i,"cars","cars_for_rent"))}),c.qZA(),c.YNc(7,l6,2,0,"label",11),c.qZA(),c.TgZ(8,"div",8)(9,"label",9),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.name=i)}),c.qZA()(),c.TgZ(12,"div",8)(13,"label",9),c._uU(14,"Price"),c.qZA(),c.TgZ(15,"input",13),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.price=i)}),c.qZA()(),c.TgZ(16,"div",8)(17,"label",9),c._uU(18,"Kilometers"),c.qZA(),c.TgZ(19,"input",14),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.kilometersDone=i)}),c.qZA()(),c.TgZ(20,"div",8)(21,"label",9),c._uU(22,"Car Body"),c.qZA(),c.TgZ(23,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.carBody=i)}),c.qZA()(),c.TgZ(24,"div",8)(25,"label",9),c._uU(26,"Sale Location"),c.qZA(),c.TgZ(27,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.saleLocation=i)}),c.qZA()(),c.TgZ(28,"div",8)(29,"label",9),c._uU(30,"Manufacture Date"),c.qZA(),c.TgZ(31,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.manufactureDate=i)}),c.qZA()(),c.TgZ(32,"div",8)(33,"label",9),c._uU(34,"Image URL"),c.qZA(),c.TgZ(35,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToAdd.imgUrl=i)}),c.qZA()(),c.TgZ(36,"button",18),c._uU(37,"Add"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.carToAdd.id),c.xp6(1),c.Q6J("ngIf",!t.isIdAvailable),c.xp6(4),c.Q6J("ngModel",t.carToAdd.name),c.xp6(4),c.Q6J("ngModel",t.carToAdd.price),c.xp6(4),c.Q6J("ngModel",t.carToAdd.kilometersDone),c.xp6(4),c.Q6J("ngModel",t.carToAdd.carBody),c.xp6(4),c.Q6J("ngModel",t.carToAdd.saleLocation),c.xp6(4),c.Q6J("ngModel",t.carToAdd.manufactureDate),c.xp6(4),c.Q6J("ngModel",t.carToAdd.imgUrl)}}function d6(n,e){1&n&&(c.TgZ(0,"label",19),c._uU(1,"Id already exists"),c.qZA())}function h6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",7),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.addCar("cars","spare_parts"))}),c.TgZ(1,"h2"),c._uU(2,"Spare Parts"),c.qZA(),c.TgZ(3,"div",8)(4,"label",9),c._uU(5,"Id"),c.qZA(),c.TgZ(6,"input",10),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.id=i)})("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.checkForIdAvailability(i,"cars","spare_parts"))}),c.qZA(),c.YNc(7,d6,2,0,"label",11),c.qZA(),c.TgZ(8,"div",8)(9,"label",9),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.name=i)}),c.qZA()(),c.TgZ(12,"div",8)(13,"label",9),c._uU(14,"Description"),c.qZA(),c.TgZ(15,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.description=i)}),c.qZA()(),c.TgZ(16,"div",8)(17,"label",9),c._uU(18,"Product Status"),c.qZA(),c.TgZ(19,"input",20),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.productStatus=i)}),c.qZA()(),c.TgZ(20,"div",8)(21,"label",9),c._uU(22,"Product Type"),c.qZA(),c.TgZ(23,"input",20),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.productType=i)}),c.qZA()(),c.TgZ(24,"div",8)(25,"label",9),c._uU(26,"Sale Location"),c.qZA(),c.TgZ(27,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.saleLocation=i)}),c.qZA()(),c.TgZ(28,"div",8)(29,"label",9),c._uU(30,"Image URL"),c.qZA(),c.TgZ(31,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToAdd.imgUrl=i)}),c.qZA()(),c.TgZ(32,"button",18),c._uU(33,"Add"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.sparePartToAdd.id),c.xp6(1),c.Q6J("ngIf",!t.isIdAvailable),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.name),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.description),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.productStatus),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.productType),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.saleLocation),c.xp6(4),c.Q6J("ngModel",t.sparePartToAdd.imgUrl)}}function f6(n,e){1&n&&(c.TgZ(0,"label",19),c._uU(1,"Id already exists"),c.qZA())}function p6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",7),c.NdJ("ngSubmit",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.addCar("cars","maintenance_centers"))}),c.TgZ(1,"h2"),c._uU(2,"Maintenance Centers"),c.qZA(),c.TgZ(3,"div",8)(4,"label",9),c._uU(5,"Id"),c.qZA(),c.TgZ(6,"input",10),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.id=i)})("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.checkForIdAvailability(i,"cars","maintenance_centers"))}),c.qZA(),c.YNc(7,f6,2,0,"label",11),c.qZA(),c.TgZ(8,"div",8)(9,"label",9),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.name=i)}),c.qZA()(),c.TgZ(12,"div",8)(13,"label",9),c._uU(14,"Description"),c.qZA(),c.TgZ(15,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.description=i)}),c.qZA()(),c.TgZ(16,"div",8)(17,"label",9),c._uU(18,"Product Status"),c.qZA(),c.TgZ(19,"input",20),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.carMaker=i)}),c.qZA()(),c.TgZ(20,"div",8)(21,"label",9),c._uU(22,"Sale Location"),c.qZA(),c.TgZ(23,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.saleLocation=i)}),c.qZA()(),c.TgZ(24,"div",8)(25,"label",9),c._uU(26,"Image URL"),c.qZA(),c.TgZ(27,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToAdd.imgUrl=i)}),c.qZA()(),c.TgZ(28,"button",18),c._uU(29,"Add"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.maintenanceCenterToAdd.id),c.xp6(1),c.Q6J("ngIf",!t.isIdAvailable),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToAdd.name),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToAdd.description),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToAdd.carMaker),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToAdd.saleLocation),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToAdd.imgUrl)}}let g6=(()=>{class n{constructor(t,r){this.carService=t,this.router=r,this.carToAdd={},this.sparePartToAdd={},this.maintenanceCenterToAdd={},this.carsList=[],this.selectedOption="",this.isIdAvailable=!1}checkForIdAvailability(t,r,i){console.log(t),console.log(i),this.carService.getCars(r,i).then(l=>{this.carsList=l}).catch(l=>{console.log(l)});let a=this.carsList.filter(l=>l.id==t);return 0===Object.keys(a).length?(this.isIdAvailable=!0,!0):(this.isIdAvailable=!1,!1)}addCar(t,r){this.carService.addCarToDB(this.carToAdd,t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UU),c.Y36(Br))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-add-cars"]],decls:16,vars:5,consts:[[1,"select-container"],[3,"ngModel","ngModelChange"],["value","cars_for_sale"],["value","cars_for_rent"],["value","spare_parts"],["value","maintenance_centers"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"form-outline","mb-4"],[1,"form-label"],["type","number","name","id","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","price","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","quantity","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","image_url","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","material",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","product_details",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"text-danger"],["type","text","name","quantity","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h3"),c._uU(2,"Add Data"),c.qZA(),c.TgZ(3,"select",1),c.NdJ("ngModelChange",function(a){return r.selectedOption=a}),c.TgZ(4,"option",2),c._uU(5,"Cars For Sale"),c.qZA(),c.TgZ(6,"option",3),c._uU(7,"Cars For Rent"),c.qZA(),c.TgZ(8,"option",4),c._uU(9,"Spare Parts"),c.qZA(),c.TgZ(10,"option",5),c._uU(11,"Maintenance Centers"),c.qZA()()(),c.YNc(12,u6,38,9,"form",6),c.YNc(13,c6,38,9,"form",6),c.YNc(14,h6,34,8,"form",6),c.YNc(15,p6,30,7,"form",6)),2&t&&(c.xp6(3),c.Q6J("ngModel",r.selectedOption),c.xp6(9),c.Q6J("ngIf","cars_for_sale"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","cars_for_rent"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","spare_parts"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","maintenance_centers"===r.selectedOption))},dependencies:[hl,aO,dO,fO,L_,nA,Qw,qS,QP,Jw,Yw,Kw],styles:[".select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px;margin-top:30px}.select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px;text-align:center}.select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;height:30px;border:1px solid #ccc;border-radius:5px;padding:5px;font-size:14px}form[_ngcontent-%COMP%]{max-width:500px;margin:50px auto}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2em;font-weight:700;color:#333;margin:1em 0}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:16px;font-family:Arial,sans-serif;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;margin-bottom:10px}form[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:block;width:100%;background-color:#007bff;border-color:#007;padding:10px;border-radius:5px;font-size:16px;font-family:Arial,sans-serif;letter-spacing:1px;cursor:pointer;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})();function m6(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.AsE("",t.id," - ",t.name,"")}}function _6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form")(1,"h2"),c._uU(2,"Cars For Sale"),c.qZA(),c.TgZ(3,"div",7)(4,"label",8),c._uU(5,"Fetch by ID & Name"),c.qZA(),c.TgZ(6,"select",9),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.selectedItemID=i)})("ngModelChange",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.fetchSelectedCar())}),c.YNc(7,m6,2,3,"option",10),c.qZA()(),c.TgZ(8,"div",7)(9,"label",8),c._uU(10,"ID"),c.qZA(),c.TgZ(11,"input",11),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.id=i)}),c.qZA()(),c.TgZ(12,"div",7)(13,"label",8),c._uU(14,"Name"),c.qZA(),c.TgZ(15,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.name=i)}),c.qZA()(),c.TgZ(16,"div",7)(17,"label",8),c._uU(18,"Price"),c.qZA(),c.TgZ(19,"input",13),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.price=i)}),c.qZA()(),c.TgZ(20,"div",7)(21,"label",8),c._uU(22,"Kilometers"),c.qZA(),c.TgZ(23,"input",14),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.kilometersDone=i)}),c.qZA()(),c.TgZ(24,"div",7)(25,"label",8),c._uU(26,"Car Body"),c.qZA(),c.TgZ(27,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.carBody=i)}),c.qZA()(),c.TgZ(28,"div",7)(29,"label",8),c._uU(30,"Sale Location"),c.qZA(),c.TgZ(31,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.saleLocation=i)}),c.qZA()(),c.TgZ(32,"div",7)(33,"label",8),c._uU(34,"Manufacture Date"),c.qZA(),c.TgZ(35,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.manufactureDate=i)}),c.qZA()(),c.TgZ(36,"div",7)(37,"label",8),c._uU(38,"Image URL"),c.qZA(),c.TgZ(39,"input",18),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.carToEdit.imgUrl=i)}),c.qZA()(),c.TgZ(40,"button",19),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.editCar("cars","cars_for_sale"))}),c._uU(41,"Update"),c.qZA(),c.TgZ(42,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.deleteCar("cars","cars_for_sale"))}),c._uU(43,"Delete"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.selectedItemID),c.xp6(1),c.Q6J("ngForOf",t.carsForSaleList),c.xp6(4),c.Q6J("ngModel",t.carToEdit.id),c.xp6(4),c.Q6J("ngModel",t.carToEdit.name),c.xp6(4),c.Q6J("ngModel",t.carToEdit.price),c.xp6(4),c.Q6J("ngModel",t.carToEdit.kilometersDone),c.xp6(4),c.Q6J("ngModel",t.carToEdit.carBody),c.xp6(4),c.Q6J("ngModel",t.carToEdit.saleLocation),c.xp6(4),c.Q6J("ngModel",t.carToEdit.manufactureDate),c.xp6(4),c.Q6J("ngModel",t.carToEdit.imgUrl)}}function y6(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.AsE("",t.id," - ",t.name,"")}}function v6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",null,22)(2,"h2"),c._uU(3,"Cars For Rent"),c.qZA(),c.TgZ(4,"div",7)(5,"label",8),c._uU(6,"Fetch by ID & Name"),c.qZA(),c.TgZ(7,"select",9),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.selectedItemID=i)})("ngModelChange",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.fetchSelectedCar())}),c.YNc(8,y6,2,3,"option",10),c.qZA()(),c.TgZ(9,"div",7)(10,"label",8),c._uU(11,"ID"),c.qZA(),c.TgZ(12,"input",11),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.id=i)}),c.qZA()(),c.TgZ(13,"div",7)(14,"label",8),c._uU(15,"Name"),c.qZA(),c.TgZ(16,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.name=i)}),c.qZA()(),c.TgZ(17,"div",7)(18,"label",8),c._uU(19,"Price"),c.qZA(),c.TgZ(20,"input",13),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.price=i)}),c.qZA()(),c.TgZ(21,"div",7)(22,"label",8),c._uU(23,"Fuel"),c.qZA(),c.TgZ(24,"input",23),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.fuel=i)}),c.qZA()(),c.TgZ(25,"div",7)(26,"label",8),c._uU(27,"Car Body"),c.qZA(),c.TgZ(28,"input",15),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.carBody=i)}),c.qZA()(),c.TgZ(29,"div",7)(30,"label",8),c._uU(31,"Car Maker"),c.qZA(),c.TgZ(32,"input",24),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.carMaker=i)}),c.qZA()(),c.TgZ(33,"div",7)(34,"label",8),c._uU(35,"Driver Status"),c.qZA(),c.TgZ(36,"input",25),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.driverStatus=i)}),c.qZA()(),c.TgZ(37,"div",7)(38,"label",8),c._uU(39,"Rental Term"),c.qZA(),c.TgZ(40,"input",26),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.rentalTerm=i)}),c.qZA()(),c.TgZ(41,"div",7)(42,"label",8),c._uU(43,"Transmission"),c.qZA(),c.TgZ(44,"input",27),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.transmission=i)}),c.qZA()(),c.TgZ(45,"div",7)(46,"label",8),c._uU(47,"Sale Location"),c.qZA(),c.TgZ(48,"input",16),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.saleLocation=i)}),c.qZA()(),c.TgZ(49,"div",7)(50,"label",8),c._uU(51,"Manufacture Date"),c.qZA(),c.TgZ(52,"input",17),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.manufactureDate=i)}),c.qZA()(),c.TgZ(53,"div",7)(54,"label",8),c._uU(55,"Image URL"),c.qZA(),c.TgZ(56,"input",18),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.rentedCarToEdit.imgUrl=i)}),c.qZA()(),c.TgZ(57,"button",19),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.editCar("cars","cars_for_rent"))}),c._uU(58,"Update"),c.qZA(),c.TgZ(59,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.deleteCar("cars","cars_for_rent"))}),c._uU(60,"Delete"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(7),c.Q6J("ngModel",t.selectedItemID),c.xp6(1),c.Q6J("ngForOf",t.carsForRentList),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.id),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.name),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.price),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.fuel),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.carBody),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.carMaker),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.driverStatus),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.rentalTerm),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.transmission),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.saleLocation),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.manufactureDate),c.xp6(4),c.Q6J("ngModel",t.rentedCarToEdit.imgUrl)}}function C6(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.AsE("",t.id," - ",t.name,"")}}function E6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form")(1,"h2"),c._uU(2,"Spare Parts"),c.qZA(),c.TgZ(3,"div",7)(4,"label",8),c._uU(5,"Fetch by ID & Name"),c.qZA(),c.TgZ(6,"select",28),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.selectedItemID=i)})("ngModelChange",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.fetchSelectedCar())}),c.YNc(7,C6,2,3,"option",10),c.qZA()(),c.TgZ(8,"div",7)(9,"label",8),c._uU(10,"Name"),c.qZA(),c.TgZ(11,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.name=i)}),c.qZA()(),c.TgZ(12,"div",7)(13,"label",8),c._uU(14,"Description"),c.qZA(),c.TgZ(15,"input",29),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.description=i)}),c.qZA()(),c.TgZ(16,"div",7)(17,"label",8),c._uU(18,"Product Status"),c.qZA(),c.TgZ(19,"input",30),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.productStatus=i)}),c.qZA()(),c.TgZ(20,"div",7)(21,"label",8),c._uU(22,"Product Type"),c.qZA(),c.TgZ(23,"input",31),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.productType=i)}),c.qZA()(),c.TgZ(24,"div",7)(25,"label",8),c._uU(26,"Sale Location"),c.qZA(),c.TgZ(27,"input",32),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.saleLocation=i)}),c.qZA()(),c.TgZ(28,"div",7)(29,"label",8),c._uU(30,"Image URL"),c.qZA(),c.TgZ(31,"input",33),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.sparePartToEdit.imgUrl=i)}),c.qZA()(),c.TgZ(32,"button",19),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.editCar("cars","spare_parts"))}),c._uU(33,"Update"),c.qZA(),c.TgZ(34,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.deleteCar("cars","spare_parts"))}),c._uU(35,"Delete"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.selectedItemID),c.xp6(1),c.Q6J("ngForOf",t.sparePartsList),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.name),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.description),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.productStatus),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.productType),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.saleLocation),c.xp6(4),c.Q6J("ngModel",t.sparePartToEdit.imgUrl)}}function w6(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t.id),c.xp6(1),c.AsE("",t.id," - ",t.name,"")}}function I6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form")(1,"h2"),c._uU(2,"Maintenance Centers"),c.qZA(),c.TgZ(3,"div",7)(4,"label",8),c._uU(5,"Fetch by ID & Name"),c.qZA(),c.TgZ(6,"select",9),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.selectedItemID=i)})("ngModelChange",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.fetchSelectedCar())}),c.YNc(7,w6,2,3,"option",10),c.qZA()(),c.TgZ(8,"div",7)(9,"label",8),c._uU(10,"ID"),c.qZA(),c.TgZ(11,"input",11),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToEdit.id=i)}),c.qZA()(),c.TgZ(12,"div",7)(13,"label",8),c._uU(14,"Name"),c.qZA(),c.TgZ(15,"input",12),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToEdit.name=i)}),c.qZA()(),c.TgZ(16,"div",7)(17,"label",8),c._uU(18,"Description"),c.qZA(),c.TgZ(19,"input",18),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToEdit.description=i)}),c.qZA()(),c.TgZ(20,"div",7)(21,"label",8),c._uU(22,"Sale Location"),c.qZA(),c.TgZ(23,"input",34),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToEdit.saleLocation=i)}),c.qZA()(),c.TgZ(24,"div",7)(25,"label",8),c._uU(26,"Image URL"),c.qZA(),c.TgZ(27,"input",35),c.NdJ("ngModelChange",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.maintenanceCenterToEdit.imgUrl=i)}),c.qZA()(),c.TgZ(28,"button",19),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.editCar("cars","maintenance_centers"))}),c._uU(29,"Update"),c.qZA(),c.TgZ(30,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.deleteCar("cars","maintenance_centers"))}),c._uU(31,"Delete"),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.selectedItemID),c.xp6(1),c.Q6J("ngForOf",t.maintenanceCentersList),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToEdit.id),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToEdit.name),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToEdit.description),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToEdit.saleLocation),c.xp6(4),c.Q6J("ngModel",t.maintenanceCenterToEdit.imgUrl)}}let T6=(()=>{class n{constructor(t,r){this.dataService=t,this.router=r,this.carToEdit={},this.rentedCarToEdit={},this.sparePartToEdit={},this.maintenanceCenterToEdit={},this.carsForSaleList=[],this.carsForRentList=[],this.sparePartsList=[],this.maintenanceCentersList=[],this.selectedItemID=0,this.selectedOption="",this.isIdAvailable=!1}ngOnInit(){this.dataService.getCars("cars","cars_for_sale").then(t=>{this.carsForSaleList=t}).catch(t=>{console.log(t)}),this.dataService.getCars("cars","cars_for_rent").then(t=>{this.carsForRentList=t}).catch(t=>{console.log(t)}),this.dataService.getCars("cars","spare_parts").then(t=>{this.sparePartsList=t}).catch(t=>{console.log(t)}),this.dataService.getCars("cars","maintenance_centers").then(t=>{this.maintenanceCentersList=t}).catch(t=>{console.log(t)})}fetchSelectedCar(){console.log(this.selectedOption),console.log(this.selectedItemID),this.selectedItemID&&this.dataService.getCarByID(this.selectedItemID,"cars",this.selectedOption).then(t=>{"cars_for_sale"==this.selectedOption&&(this.carToEdit=t),"cars_for_rent"==this.selectedOption&&(this.rentedCarToEdit=t),"spare_parts"==this.selectedOption&&(this.sparePartToEdit=t),"maintenance_centers"==this.selectedOption&&(this.maintenanceCenterToEdit=t)}).catch(t=>{console.log(t)})}editCar(t,r){"cars_for_sale"==this.selectedOption&&(this.temp=this.carToEdit),"cars_for_rent"==this.selectedOption&&(this.temp=this.rentedCarToEdit),"spare_parts"==this.selectedOption&&(this.temp=this.sparePartToEdit),"maintenance_centers"==this.selectedOption&&(this.temp=this.maintenanceCenterToEdit),this.dataService.updateCarData(this.temp,t,r)}deleteCar(t,r){"cars_for_sale"==this.selectedOption&&(this.temp=this.carToEdit),"cars_for_rent"==this.selectedOption&&(this.temp=this.rentedCarToEdit),"spare_parts"==this.selectedOption&&(this.temp=this.sparePartToEdit),"maintenance_centers"==this.selectedOption&&(this.temp=this.maintenanceCenterToEdit),this.dataService.deleteCar(this.temp,t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UU),c.Y36(Br))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-and-delete-cars"]],decls:16,vars:5,consts:[[1,"select-container"],[3,"ngModel","ngModelChange"],["value","cars_for_sale"],["value","cars_for_rent"],["value","spare_parts"],["value","maintenance_centers"],[4,"ngIf"],[1,"form-outline","mb-4"],[1,"form-label"],["name","product_name",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","id","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","price","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","kilometers_done","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","car_body",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","sale_location",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","manufacture_date",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","image_url","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],["type","submit",1,"btn","btn-danger","btn-block",3,"click"],[3,"value"],["myForm","ngForm"],["type","text","name","fuel","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","car_maker",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","driver_status",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","rentalTerm",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","transmission",1,"form-control",3,"ngModel","ngModelChange"],["name","fetch_by_id_and_name",1,"form-select",3,"ngModel","ngModelChange"],["type","text","name","description","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","product_status","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","product_type","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","sale_loaction",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","image_url",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","material",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","product_details",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h3"),c._uU(2,"Edit Data"),c.qZA(),c.TgZ(3,"select",1),c.NdJ("ngModelChange",function(a){return r.selectedOption=a}),c.TgZ(4,"option",2),c._uU(5,"Cars For Sale"),c.qZA(),c.TgZ(6,"option",3),c._uU(7,"Cars For Rent"),c.qZA(),c.TgZ(8,"option",4),c._uU(9,"Spare Parts"),c.qZA(),c.TgZ(10,"option",5),c._uU(11,"Maintenance Centers"),c.qZA()()(),c.YNc(12,_6,44,10,"form",6),c.YNc(13,v6,61,14,"form",6),c.YNc(14,E6,36,8,"form",6),c.YNc(15,I6,32,7,"form",6)),2&t&&(c.xp6(3),c.Q6J("ngModel",r.selectedOption),c.xp6(9),c.Q6J("ngIf","cars_for_sale"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","cars_for_rent"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","spare_parts"===r.selectedOption),c.xp6(1),c.Q6J("ngIf","maintenance_centers"===r.selectedOption))},dependencies:[hi,hl,aO,dO,fO,L_,nA,Qw,qS,QP,Jw,Yw,Kw],styles:[".select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px;margin-top:30px}.select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px;text-align:center}.select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;height:30px;border:1px solid #ccc;border-radius:5px;padding:5px;font-size:14px}form[_ngcontent-%COMP%]{max-width:500px;margin:50px auto}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2em;font-weight:700;color:#333;margin:1em 0}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:16px;font-family:Arial,sans-serif;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;margin-bottom:10px}form[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:block;margin-bottom:10px;width:100%;background-color:#007bff;border-color:#007;padding:10px;border-radius:5px;font-size:16px;font-family:Arial,sans-serif;letter-spacing:1px;cursor:pointer;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}form[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;background-color:#dc3545;border-color:#dc3545;padding:10px;border-radius:5px;font-size:16px;font-family:Arial,sans-serif;letter-spacing:1px;cursor:pointer;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#a71d2a}"]}),n})();var D6=k(3019);class b6 extends Ys.x{constructor(e=1/0,t=1/0,r=OC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var S6=k(3020);function jB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,S6.B)({connector:()=>new b6(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function HB(n,e){return(0,vs.m)(e)?(0,tr.w)(()=>n,e):(0,tr.w)(()=>n)}var Wf=k(6304),A6=k(7142);const x6=new c.OlP("angularfire2.auth.use-emulator"),N6=new c.OlP("angularfire2.auth.settings"),R6=new c.OlP("angularfire2.auth.tenant-id"),P6=new c.OlP("angularfire2.auth.langugage-code"),O6=new c.OlP("angularfire2.auth.use-device-language"),k6=new c.OlP("angularfire.auth.persistence");let Xw=(()=>{class n{constructor(t,r,i,a,l,f,m,v,T,b,x,O){const B=new Ys.x,ee=(0,nt.of)(void 0).pipe((0,Hu.Q)(l.outsideAngular),(0,tr.w)(()=>a.runOutsideAngular(()=>k.e(365).then(k.bind(k,6365)))),(0,jt.U)(()=>(0,Wf.on)(t,a,r)),(0,jt.U)(ae=>((n,e,t,r,i,a,l,f)=>(0,Wf.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),l)for(const[v,T]of Object.entries(l))m.settings[v]=T;return f&&m.setPersistence(f),m},[t,r,i,a,l,f]))(ae,a,f,v,T,b,m,x)),jB({bufferSize:1,refCount:!1}));if(zs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nt.of)(null);else{ee.pipe(Is()).subscribe();const Pe=ee.pipe((0,tr.w)(We=>We.getRedirectResult().then(Tt=>Tt,()=>null)),dD,jB({bufferSize:1,refCount:!1})),je=ee.pipe((0,tr.w)(We=>new br.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>We.onAuthStateChanged(Mt=>Tt.next(Mt),Mt=>Tt.error(Mt),()=>Tt.complete()))})))),Be=ee.pipe((0,tr.w)(We=>new br.y(Tt=>({unsubscribe:a.runOutsideAngular(()=>We.onIdTokenChanged(Mt=>Tt.next(Mt),Mt=>Tt.error(Mt),()=>Tt.complete()))}))));this.authState=Pe.pipe(HB(je),(0,pc.R)(l.outsideAngular),(0,Hu.Q)(l.insideAngular)),this.user=Pe.pipe(HB(Be),(0,pc.R)(l.outsideAngular),(0,Hu.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,tr.w)(We=>We?(0,Rn.D)(We.getIdToken()):(0,nt.of)(null))),this.idTokenResult=this.user.pipe((0,tr.w)(We=>We?(0,Rn.D)(We.getIdTokenResult()):(0,nt.of)(null))),this.credential=(0,D6.T)(Pe,B,this.authState.pipe(ws(We=>!We))).pipe((0,jt.U)(We=>We?.user?We:null),(0,pc.R)(l.outsideAngular),(0,Hu.Q)(l.insideAngular))}return(0,Wf.pX)(this,ee,a,{spy:{apply:(ae,Pe,je)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&je.then(Be=>B.next(Be))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wf.Dh),c.LFG(Wf.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(vc),c.LFG(x6,8),c.LFG(N6,8),c.LFG(R6,8),c.LFG(P6,8),c.LFG(O6,8),c.LFG(k6,8),c.LFG(Zu,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),L6=(()=>{class n{constructor(){A6.Z.registerVersion("angularfire",Ba.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xw]}),n})(),GB=(()=>{class n{constructor(t){this.afAuth=t,this.user$=this.afAuth.authState}signIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}signOut(){return this.afAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.authService=i,this.email="",this.password=""}ngOnInit(){}signIn(){this.authService.signIn(this.email,this.password).then(()=>{console.log("User signed in successfully"),this.router.navigate(["/add-cars"])}).catch(t=>{console.log("Error signing in:",t)})}signOut(){this.authService.signOut().then(()=>{console.log("User signed out successfully")}).catch(t=>{console.log("Error signing out:",t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xw),c.Y36(Br),c.Y36(GB))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:7,vars:2,consts:[["type","email","placeholder","Email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"h1"),c._uU(2,"Sign In"),c.qZA(),c.TgZ(3,"input",0),c.NdJ("ngModelChange",function(a){return r.email=a}),c.qZA(),c.TgZ(4,"input",1),c.NdJ("ngModelChange",function(a){return r.password=a}),c.qZA(),c.TgZ(5,"button",2),c.NdJ("click",function(){return r.signIn()}),c._uU(6,"Sign In"),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngModel",r.email),c.xp6(1),c.Q6J("ngModel",r.password))},dependencies:[L_,qS,Yw],styles:["div[_ngcontent-%COMP%]{margin-top:150px}h1[_ngcontent-%COMP%]{font-size:50px;font-weight:700;margin-bottom:20px;text-align:center}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;width:100%;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;align-items:center}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})(),zB=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r}canActivate(t,r){return this.afAuth.authState.pipe((0,jt.U)(i=>i?(console.log("User Signed In"),!0):(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xw),c.LFG(Br))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U6=[{path:"login",redirectTo:"/login",pathMatch:"full"},{path:"login",component:V6,title:"Login"},{path:"add-cars",component:g6,title:"Add Cars",canActivate:[zB]},{path:"edit-and-delete-cars",component:T6,title:"Edit & Delete Cars",canActivate:[zB]}];let B6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FI.forRoot(U6),FI]}),n})();function $6(n,e){1&n&&(c.TgZ(0,"div")(1,"li")(2,"a",5),c._uU(3,"Sign In"),c.qZA()()())}function j6(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"li")(2,"span"),c._uU(3),c.qZA(),c.TgZ(4,"button",6),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.authService.signOut())}),c._uU(5,"Sign Out"),c.qZA()()()}if(2&n){const t=e.ngIf,r=c.oxw();c.xp6(3),c.hij("Hello, ",r.getUserEmail(t),"!")}}let H6=(()=>{class n{constructor(t){this.authService=t}getUserEmail(t){return t?.providerData?.length>0&&t.providerData[0].email||"Unknown"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(GB))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navigation-bar"]],decls:14,vars:6,consts:[[1,"side-navbar"],[1,"title"],["routerLink","/add-cars"],["routerLink","/edit-and-delete-cars"],[4,"ngIf"],["routerLink","/login"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1),c._uU(2,"Dashboard"),c.qZA(),c.TgZ(3,"ul")(4,"li")(5,"a",2),c._uU(6,"Add Data"),c.qZA()(),c.TgZ(7,"li")(8,"a",3),c._uU(9,"Edit & Delete Data"),c.qZA()(),c.YNc(10,$6,4,0,"div",4),c.ALo(11,"async"),c.YNc(12,j6,6,1,"div",4),c.ALo(13,"async"),c.qZA()()),2&t&&(c.xp6(10),c.Q6J("ngIf",!c.lcZ(11,2,r.authService.user$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(13,4,r.authService.user$)))},dependencies:[hl,ug,Xn],styles:['@import"https://use.fontawesome.com/releases/v5.15.3/css/all.css";.side-navbar[_ngcontent-%COMP%]{background-image:url(sidebar2.bebcaad73e8ce0e5.png);background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#383838;color:#fff;height:100%;width:240px;position:fixed;top:0;left:0;box-shadow:0 4px 8px #0000001a}.side-navbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:20px 10px;font-size:24px;font-weight:700;text-align:center}.side-navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #fff}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:block;font-size:18px;transition:.3s;display:flex;align-items:center}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"\\f061";font-family:"Font Awesome 5 Free";font-weight:900;margin-right:10px}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff6030;padding-left:20px}.side-navbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700}']}),n})(),G6=(()=>{class n{constructor(){this.title="souq-car-dashboard"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"col-5"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"app-navigation-bar"),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"router-outlet"),c.qZA()())},dependencies:[Xp,H6]}),n})();const WB={firebase:{projectId:"souq-car-8d715",appId:"1:917307360315:web:60ca90bf11b3816ea4c81e",storageBucket:"souq-car-8d715.appspot.com",apiKey:"AIzaSyBvBOXqwCwnHPiMWycQQ_9awRmXvl40d1E",authDomain:"souq-car-8d715.firebaseapp.com",messagingSenderId:"917307360315"}},qB="@firebase/database";let pO="";class W6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,j.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,j.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class q6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,j.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const KB=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W6(e)}}catch{}return new q6},qf=KB("localStorage"),gO=KB("sessionStorage"),B_=new ts.Yd("@firebase/database"),YB=function(){let n=1;return function(){return n++}}(),QB=function(n){const e=(0,j.dS)(n),t=new j.gQ;t.update(e);const r=t.digest();return j.US.encodeByteArray(r)},e0=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=e0.apply(null,r):e+="object"==typeof r?(0,j.Wl)(r):r,e+=" "}return e};let Zf=null,JB=!0;const Wr=function(...n){if(!0===JB&&(JB=!1,null===Zf&&!0===gO.get("logging_enabled")&&function(n,e){(0,j.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(B_.logLevel=ts.in.VERBOSE,Zf=B_.log.bind(B_),e&&gO.set("logging_enabled",!0)):"function"==typeof n?Zf=n:(Zf=null,gO.remove("logging_enabled"))}(!0)),Zf){const e=e0.apply(null,n);Zf(e)}},t0=function(n){return function(...e){Wr(n,...e)}},mO=function(...n){const e="FIREBASE INTERNAL ERROR: "+e0(...n);B_.error(e)},Xa=function(...n){const e=`FIREBASE FATAL ERROR: ${e0(...n)}`;throw B_.error(e),new Error(e)},Si=function(...n){const e="FIREBASE WARNING: "+e0(...n);B_.warn(e)},rA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},nd="[MIN_NAME]",ol="[MAX_NAME]",Kf=function(n,e){if(n===e)return 0;if(n===nd||e===ol)return-1;if(e===nd||n===ol)return 1;{const t=n$(n),r=n$(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Y6=function(n,e){return n===e?0:n<e?-1:1},n0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.Wl)(e))},_O=function(n){if("object"!=typeof n||null===n)return(0,j.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,j.Wl)(e[r]),t+=":",t+=_O(n[e[r]]);return t+="}",t},e$=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const t$=function(n){(0,j.hu)(!rA(n),"Invalid JSON number");const r=1023;let i,a,l,f,m;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=f+r,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)v.push(a%2?1:0),a=Math.floor(a/2);v.push(i?1:0),v.reverse();const T=v.join("");let b="";for(m=0;m<64;m+=8){let x=parseInt(T.substr(m,8),2).toString(16);1===x.length&&(x="0"+x),b+=x}return b.toLowerCase()},eW=new RegExp("^-?(0*)\\d{1,10}$"),n$=function(n){if(eW.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},$_=function(n){try{n()}catch(e){setTimeout(()=>{throw Si("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},r0=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class iW{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Si(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sW{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Si(e)}}let s0=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const a$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c$="websocket",d$="long_polling";class vO{constructor(e,t,r,i,a=!1,l="",f=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function h$(n,e,t){let r;if((0,j.hu)("string"==typeof e,"typeof type must == string"),(0,j.hu)("object"==typeof t,"typeof params must == object"),e===c$)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==d$)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function oW(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return qr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class aW{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,j.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,j.p$)(this.counters_)}}const CO={},EO={};function wO(n){const e=n.toString();return CO[e]||(CO[e]=new aW),CO[e]}class lW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$_(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rd{constructor(e,t,r,i,a,l,f){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=t0(e),this.stats_=wO(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),h$(t,d$,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new lW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new IO((...a)=>{const[l,f,m,v,T]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&a$.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rd.forceAllow_=!0}static forceDisallow(){rd.forceDisallow_=!0}static isAvailable(){return!((0,j.Yr)()||!rd.forceAllow_&&(rd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,j.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,j.h$)(t),i=e$(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,j.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,j.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class IO{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=YB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=IO.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){Wr("frame writing exception"),f.stack&&Wr(f.stack),Wr(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,j.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let sA=null;typeof MozWebSocket<"u"?sA=MozWebSocket:typeof WebSocket<"u"&&(sA=WebSocket);let j_=(()=>{class n{constructor(t,r,i,a,l,f,m){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=t0(this.connId),this.stats_=wO(r),this.connURL=n.connectionURL_(r,f,m,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const f={v:"5"};return!(0,j.Yr)()&&typeof location<"u"&&location.hostname&&a$.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),a&&(f.ac=a),l&&(f.p=l),h$(t,c$,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qf.set("previous_websocket_failure",!0);try{let i;if((0,j.Yr)()){i={headers:{"User-Agent":`Firebase/5/${pO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(i.proxy={origin:f})}this.mySock=new sA(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==sA&&!n.forceDisallow_}static previouslyFailed(){return qf.isInMemoryStorage||!0===qf.get("previous_websocket_failure")}markConnectionHealthy(){qf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,j.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,j.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,j.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=e$(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),v$=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[rd,j_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=j_&&j_.isAvailable();let i=r&&!j_.previouslyFailed();if(t.webSocketOnly&&(r||Si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[j_];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class b${constructor(e,t,r,i,a,l,f,m,v,T){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=t0("c:"+this.id+":"),this.transportManager_=new v$(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=r0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=n0("t",e),r=n0("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=n0("t",e),r=n0("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=n0("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?mO("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),r0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class S${put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class A${constructor(e){this.allowedEvents_=e,this.listeners_={},(0,j.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,j.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class oA extends A${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oA}getInitialEvent(e){return(0,j.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class sn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Jt(){return new sn("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function id(n){return n.pieces_.length-n.pieceNum_}function dn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new sn(n.pieces_,e)}function DO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function o0(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function N$(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new sn(e,0)}function kn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof sn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new sn(t,0)}function Pt(n){return n.pieceNum_>=n.pieces_.length}function Ui(n,e){const t=Rt(n),r=Rt(e);if(null===t)return e;if(t===r)return Ui(dn(n),dn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function bO(n,e){if(id(n)!==id(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ho(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(id(n)>id(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class RW{constructor(e,t){this.errorPrefix_=t,this.parts_=o0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,j.ug)(this.parts_[r]);R$(this)}}function R$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yf(n))}function Yf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class SO extends A${constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new SO}getInitialEvent(e){return(0,j.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const a0=1e3;let uA,Qf=(()=>{class n extends S${constructor(t,r,i,a,l,f,m,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=t0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=a0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,j.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");SO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&oA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,j.Wl)(l)),(0,j.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new j.BH,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const m=f.d;"ok"===f.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(f).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const v=m.d,T=m.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",m),"ok"!==T&&this.removeListen_(i,a),t.onComplete&&t.onComplete(T,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,j.r3)(t,"w")){const i=(0,j.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,j.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,j.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,f=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,j.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const f={p:r,d:i};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,j.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):mO("Unrecognized action received from server: "+(0,j.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,j.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=a0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=a0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=a0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ue.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let m=!1,v=null;const T=function(){v?v.close():(m=!0,a())};t.realtime_={close:T,sendRequest:function(O){(0,j.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(O)}};const x=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[O,B]=yield Promise.all([t.authTokenProvider_.getToken(x),t.appCheckTokenProvider_.getToken(x)]);m?Wr("getToken() completed but was canceled"):(Wr("getToken() completed. Creating connection."),t.authToken_=O&&O.accessToken,t.appCheckToken_=B&&B.token,v=new b$(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,ee=>{Si(ee+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(O){t.log_("Failed to get token: "+O),m||(t.repoInfo_.nodeAdmin&&Si(O),T())}}})()}interrupt(t){Wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,j.xb)(this.interruptReasons_)&&(this.reconnectDelay_=a0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>_O(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new sn(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Wr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Wr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,j.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+pO.replace(/\./g,"-")]=1,(0,j.uI)()?t["framework.cordova"]=1:(0,j.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=oA.getInstance().currentlyOnline();return(0,j.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Lt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Lt(e,t)}}class aA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Lt(nd,e),i=new Lt(nd,t);return 0!==this.compare(r,i)}minPost(){return Lt.MIN}}class k$ extends aA{static get __EMPTY_NODE(){return uA}static set __EMPTY_NODE(e){uA=e}compare(e,t){return Kf(e.name,t.name)}isDefinedOn(e){throw(0,j.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Lt.MIN}maxPost(){return new Lt(ol,uA)}makePost(e,t){return(0,j.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Lt(e,uA)}toString(){return".key"}}const eu=new k$;class lA{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let MO,Xo=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??us.EMPTY_NODE,this.right=l??us.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return us.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return us.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class us{constructor(e,t=us.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new us(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Xo.BLACK,null,null))}remove(e){return new us(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lA(this.root_,null,this.comparator_,!0,e)}}function BW(n,e){return Kf(n.name,e.name)}function AO(n,e){return Kf(n,e)}us.EMPTY_NODE=new class UW{copy(e,t,r,i,a){return this}insert(e,t,r){return new Xo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const F$=function(n){return"number"==typeof n?"number:"+t$(n):"string:"+n},L$=function(n){if(n.isLeafNode()){const e=n.val();(0,j.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,j.r3)(e,".sv"),"Priority must be a string or number.")}else(0,j.hu)(n===MO||n.isEmpty(),"priority of unexpected type.");(0,j.hu)(n===MO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V$,U$,B$,H_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,j.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),L$(this.priorityNode_)}static set __childrenNodeConstructor(t){V$=t}static get __childrenNodeConstructor(){return V$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Pt(t)?this:".priority"===Rt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Rt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,j.hu)(".priority"!==i||1===id(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+F$(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?t$(this.value_):this.value_,this.lazyHash_=QB(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,j.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,j.hu)(a>=0,"Unknown leaf type: "+r),(0,j.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const vn=new class GW extends aA{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?Kf(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Lt.MIN}maxPost(){return new Lt(ol,new H_("[PRIORITY-POST]",B$))}makePost(e,t){const r=U$(e);return new Lt(t,new H_("[PRIORITY-POST]",r))}toString(){return".priority"}},zW=Math.log(2);class WW{constructor(e){this.count=parseInt(Math.log(e+1)/zW,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cA=function(n,e,t,r){n.sort(e);const i=function(m,v){const T=v-m;let b,x;if(0===T)return null;if(1===T)return b=n[m],x=t?t(b):b,new Xo(x,b.node,Xo.BLACK,null,null);{const O=parseInt(T/2,10)+m,B=i(m,O),ee=i(O+1,v);return b=n[O],x=t?t(b):b,new Xo(x,b.node,Xo.BLACK,B,ee)}},f=function(m){let v=null,T=null,b=n.length;const x=function(B,ee){const ae=b-B,Pe=b;b-=B;const je=i(ae+1,Pe),Be=n[ae],We=t?t(Be):Be;O(new Xo(We,Be.node,ee,null,je))},O=function(B){v?(v.left=B,v=B):(T=B,v=B)};for(let B=0;B<m.count;++B){const ee=m.nextBitIsOne(),ae=Math.pow(2,m.count-(B+1));ee?x(ae,Xo.BLACK):(x(ae,Xo.BLACK),x(ae,Xo.RED))}return T}(new WW(n.length));return new us(r||e,f)};let xO;const G_={};class al{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,j.hu)(G_&&vn,"ChildrenNode.ts has not been loaded"),xO=xO||new al({".priority":G_},{".priority":vn}),xO}get(e){const t=(0,j.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof us?t:null}hasIndex(e){return(0,j.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,j.hu)(e!==eu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Lt.Wrap);let f,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();f=i?cA(r,e.getCompare()):G_;const m=e.toString(),v=Object.assign({},this.indexSet_);v[m]=e;const T=Object.assign({},this.indexes_);return T[m]=f,new al(T,v)}addToIndexes(e,t){const r=(0,j.UI)(this.indexes_,(i,a)=>{const l=(0,j.DV)(this.indexSet_,a);if((0,j.hu)(l,"Missing index implementation for "+a),i===G_){if(l.isDefinedOn(e.node)){const f=[],m=t.getIterator(Lt.Wrap);let v=m.getNext();for(;v;)v.name!==e.name&&f.push(v),v=m.getNext();return f.push(e),cA(f,l.getCompare())}return G_}{const f=t.get(e.name);let m=i;return f&&(m=m.remove(new Lt(e.name,f))),m.insert(e,e.node)}});return new al(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,j.UI)(this.indexes_,i=>{if(i===G_)return i;{const a=t.get(e.name);return a?i.remove(new Lt(e.name,a)):i}});return new al(r,this.indexSet_)}}let u0,Dt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&L$(this.priorityNode_),this.children_.isEmpty()&&(0,j.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return u0||(u0=new n(new us(AO),null,al.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||u0}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?u0:r}}getChild(t){const r=Rt(t);return null===r?this:this.getImmediateChild(r).getChild(dn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,j.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Lt(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const f=a.isEmpty()?u0:this.priorityNode_;return new n(a,f,l)}}updateChild(t,r){const i=Rt(t);if(null===i)return r;{(0,j.hu)(".priority"!==Rt(t)||1===id(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(dn(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(vn,(f,m)=>{r[f]=m.val(t),i++,l&&n.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):l=!1}),!t&&l&&a<2*i){const f=[];for(const m in r)f[m]=r[m];return f}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+F$(this.getPriority().val())+":"),this.forEachChild(vn,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":QB(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Lt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Lt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Lt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Lt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Lt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===l0?-1:0}withIndex(t){if(t===eu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===eu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(vn),a=r.getIterator(vn);let l=i.getNext(),f=a.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=i.getNext(),f=a.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===eu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const l0=new class qW extends Dt{constructor(){super(new us(AO),Dt.EMPTY_NODE,al.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Lt,{MIN:{value:new Lt(nd,Dt.EMPTY_NODE)},MAX:{value:new Lt(ol,l0)}}),k$.__EMPTY_NODE=Dt.EMPTY_NODE,H_.__childrenNodeConstructor=Dt,function $W(n){MO=n}(l0),function HW(n){B$=n}(l0);const ZW=!0;function jn(n,e=null){if(null===n)return Dt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,j.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new H_(n,jn(e));if(n instanceof Array||!ZW){let t=Dt.EMPTY_NODE;return qr(n,(r,i)=>{if((0,j.r3)(n,r)&&"."!==r.substring(0,1)){const a=jn(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(jn(e))}{const t=[];let r=!1;if(qr(n,(l,f)=>{if("."!==l.substring(0,1)){const m=jn(f);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new Lt(l,m)))}}),0===t.length)return Dt.EMPTY_NODE;const a=cA(t,BW,l=>l.name,AO);if(r){const l=cA(t,vn.getCompare());return new Dt(a,jn(e),new al({".priority":l},{".priority":vn}))}return new Dt(a,jn(e),al.Default)}}!function jW(n){U$=n}(jn);class NO extends aA{constructor(e){super(),this.indexPath_=e,(0,j.hu)(!Pt(e)&&".priority"!==Rt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?Kf(e.name,t.name):a}makePost(e,t){const r=jn(e),i=Dt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Lt(t,i)}maxPost(){const e=Dt.EMPTY_NODE.updateChild(this.indexPath_,l0);return new Lt(ol,e)}toString(){return o0(this.indexPath_,0).join("/")}}const RO=new class KW extends aA{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Kf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Lt.MIN}maxPost(){return Lt.MAX}makePost(e,t){const r=jn(e);return new Lt(t,r)}toString(){return".value"}};function d0(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class OO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ol}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vn}copy(){const e=new OO;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function j$(n){const e={};if(n.isDefault())return e;let t;if(n.index_===vn?t="$priority":n.index_===RO?t="$value":n.index_===eu?t="$key":((0,j.hu)(n.index_ instanceof NO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,j.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,j.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,j.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,j.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,j.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function H$(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==vn&&(e.i=n.index_.toString()),e}class hA extends S${constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=t0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,j.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=hA.getListenId_(e,r),f={};this.listens_[l]=f;const m=j$(e._queryParams);this.restRequest_(a+".json",m,(v,T)=>{let b=T;if(404===v&&(b=null,v=null),null===v&&this.onDataUpdate_(a,b,!1,r),(0,j.DV)(this.listens_,l)===f){let x;x=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(x,null)}})}unlisten(e,t){const r=hA.getListenId_(e,t);delete this.listens_[r]}get(e){const t=j$(e._queryParams),r=e._path.toString(),i=new j.BH;return this.restRequest_(r+".json",t,(a,l)=>{let f=l;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,j.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,j.cI)(f.responseText)}catch{Si("Failed to parse JSON response for "+l+": "+f.responseText)}r(null,m)}else 401!==f.status&&404!==f.status&&Si("Got unsuccessful REST response for "+l+" Status: "+f.status),r(f.status);r=null}},f.open("GET",l,!0),f.send()})}}class rq{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function fA(){return{value:null,children:new Map}}function W_(n,e,t){if(Pt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Rt(e);n.children.has(r)||n.children.set(r,fA()),W_(n.children.get(r),e=dn(e),t)}}function VO(n,e,t){null!==n.value?t(e,n.value):function iq(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{VO(i,new sn(e.toString()+"/"+r),t)})}class sq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class uq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new sq(e);const r=1e4+2e4*Math.random();r0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;qr(e,(i,a)=>{a>0&&(0,j.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),r0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Cr=(()=>((Cr=Cr||{})[Cr.OVERWRITE=0]="OVERWRITE",Cr[Cr.MERGE=1]="MERGE",Cr[Cr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Cr[Cr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Cr))();function $O(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class pA{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Cr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,j.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new sn(e));return new pA(Jt(),t,this.revert)}}return(0,j.hu)(Rt(this.path)===e,"operationForChild called for unrelated child."),new pA(dn(this.path),this.affectedTree,this.revert)}}class Jf{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Cr.OVERWRITE}operationForChild(e){return Pt(this.path)?new Jf(this.source,Jt(),this.snap.getImmediateChild(e)):new Jf(this.source,dn(this.path),this.snap)}}class q_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Cr.MERGE}operationForChild(e){if(Pt(this.path)){const t=this.children.subtree(new sn(e));return t.isEmpty()?null:t.value?new Jf(this.source,Jt(),t.value):new q_(this.source,Jt(),t)}return(0,j.hu)(Rt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new q_(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sd{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Rt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function p0(n,e,t,r,i,a){const l=r.filter(f=>f.type===t);l.sort((f,m)=>function hq(n,e,t){if(null==e.childName||null==t.childName)throw(0,j.g5)("Should only compare child_ events.");const r=new Lt(e.childName,e.snapshotNode),i=new Lt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,f,m)),l.forEach(f=>{const m=function dq(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,a);i.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(m,n.query_))})})}function gA(n,e){return{eventCache:n,serverCache:e}}function g0(n,e,t,r){return gA(new sd(e,t,r),n.serverCache)}function z$(n,e,t,r){return gA(n.eventCache,new sd(e,t,r))}function mA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let jO;class Cn{constructor(e,t=(()=>(jO||(jO=new us(Y6)),jO))()){this.value=e,this.children=t}static fromObject(e){let t=new Cn(null);return qr(e,(r,i)=>{t=t.set(new sn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Jt(),value:this.value};if(Pt(e))return null;{const r=Rt(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(dn(e),t);return null!=a?{path:kn(new sn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pt(e))return this;{const t=Rt(e),r=this.children.get(t);return null!==r?r.subtree(dn(e)):new Cn(null)}}set(e,t){if(Pt(e))return new Cn(t,this.children);{const r=Rt(e),a=(this.children.get(r)||new Cn(null)).set(dn(e),t),l=this.children.insert(r,a);return new Cn(this.value,l)}}remove(e){if(Pt(e))return this.children.isEmpty()?new Cn(null):new Cn(null,this.children);{const t=Rt(e),r=this.children.get(t);if(r){const i=r.remove(dn(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new Cn(null):new Cn(this.value,a)}return this}}get(e){if(Pt(e))return this.value;{const t=Rt(e),r=this.children.get(t);return r?r.get(dn(e)):null}}setTree(e,t){if(Pt(e))return t;{const r=Rt(e),a=(this.children.get(r)||new Cn(null)).setTree(dn(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Cn(this.value,l)}}fold(e){return this.fold_(Jt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(kn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Jt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Pt(e))return null;{const a=Rt(e),l=this.children.get(a);return l?l.findOnPath_(dn(e),kn(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Jt(),t)}foreachOnPath_(e,t,r){if(Pt(e))return this;{this.value&&r(t,this.value);const i=Rt(e),a=this.children.get(i);return a?a.foreachOnPath_(dn(e),kn(t,i),r):new Cn(null)}}foreach(e){this.foreach_(Jt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(kn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class ea{constructor(e){this.writeTree_=e}static empty(){return new ea(new Cn(null))}}function m0(n,e,t){if(Pt(e))return new ea(new Cn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=Ui(i,e);return a=a.updateChild(l,t),new ea(n.writeTree_.set(i,a))}{const i=new Cn(t),a=n.writeTree_.setTree(e,i);return new ea(a)}}}function HO(n,e,t){let r=n;return qr(t,(i,a)=>{r=m0(r,kn(e,i),a)}),r}function W$(n,e){if(Pt(e))return ea.empty();{const t=n.writeTree_.setTree(e,new Cn(null));return new ea(t)}}function GO(n,e){return null!=ep(n,e)}function ep(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ui(t.path,e)):null}function q$(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(vn,(r,i)=>{e.push(new Lt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Lt(r,i.value))}),e}function od(n,e){if(Pt(e))return n;{const t=ep(n,e);return new ea(null!=t?new Cn(t):n.writeTree_.subtree(e))}}function zO(n){return n.writeTree_.isEmpty()}function Z_(n,e){return Z$(Jt(),n.writeTree_,e)}function Z$(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,j.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=Z$(kn(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(kn(n,".priority"),r)),t}}function _A(n,e){return X$(e,n)}function yq(n,e){if(n.snap)return ho(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ho(kn(n.path,t),e))return!0;return!1}function Cq(n){return n.visible}function K$(n,e,t){let r=ea.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let f;if(a.snap)ho(t,l)?(f=Ui(t,l),r=m0(r,f,a.snap)):ho(l,t)&&(f=Ui(l,t),r=m0(r,Jt(),a.snap.getChild(f)));else{if(!a.children)throw(0,j.g5)("WriteRecord should have .snap or .children");if(ho(t,l))f=Ui(t,l),r=HO(r,f,a.children);else if(ho(l,t))if(f=Ui(l,t),Pt(f))r=HO(r,Jt(),a.children);else{const m=(0,j.DV)(a.children,Rt(f));if(m){const v=m.getChild(dn(f));r=m0(r,Jt(),v)}}}}}return r}function Y$(n,e,t,r,i){if(r||i){const a=od(n.visibleWrites,e);return!i&&zO(a)?t:i||null!=t||GO(a,Jt())?Z_(K$(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(ho(v.path,e)||ho(e,v.path))},e),t||Dt.EMPTY_NODE):null}{const a=ep(n.visibleWrites,e);if(null!=a)return a;{const l=od(n.visibleWrites,e);return zO(l)?t:null!=t||GO(l,Jt())?Z_(l,t||Dt.EMPTY_NODE):null}}}function yA(n,e,t,r){return Y$(n.writeTree,n.treePath,e,t,r)}function WO(n,e){return function Eq(n,e,t){let r=Dt.EMPTY_NODE;const i=ep(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vn,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=od(n.visibleWrites,e);return t.forEachChild(vn,(l,f)=>{const m=Z_(od(a,new sn(l)),f);r=r.updateImmediateChild(l,m)}),q$(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return q$(od(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function Q$(n,e,t,r){return function wq(n,e,t,r,i){(0,j.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=kn(e,t);if(GO(n.visibleWrites,a))return null;{const l=od(n.visibleWrites,a);return zO(l)?i.getChild(t):Z_(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function vA(n,e){return function Tq(n,e){return ep(n.visibleWrites,e)}(n.writeTree,kn(n.treePath,e))}function qO(n,e,t){return function Iq(n,e,t,r){const i=kn(e,t),a=ep(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?Z_(od(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function J$(n,e){return X$(kn(n.treePath,e),n.writeTree)}function X$(n,e){return{treePath:n,writeTree:e}}class Aq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,j.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,j.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,d0(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function c0(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function z_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,j.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,d0(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const ej=new class Mq{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class ZO{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new sd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qO(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xf(this.viewCache_),a=function Sq(n,e,t,r,i,a){return function Dq(n,e,t,r,i,a,l){let f;const m=od(n.visibleWrites,e),v=ep(m,Jt());if(null!=v)f=v;else{if(null==t)return[];f=Z_(m,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const T=[],b=l.getCompare(),x=a?f.getReverseIteratorFrom(r,l):f.getIteratorFrom(r,l);let O=x.getNext();for(;O&&T.length<i;)0!==b(O,r)&&T.push(O),O=x.getNext();return T}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function tj(n,e,t,r,i,a){const l=e.eventCache;if(null!=vA(r,t))return e;{let f,m;if(Pt(t))if((0,j.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Xf(e),b=WO(r,v instanceof Dt?v:Dt.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),b,a)}else{const v=yA(r,Xf(e));f=n.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const v=Rt(t);if(".priority"===v){(0,j.hu)(1===id(t),"Can't have a priority with additional path components");const T=l.getNode();m=e.serverCache.getNode();const b=Q$(r,t,T,m);f=null!=b?n.filter.updatePriority(T,b):l.getNode()}else{const T=dn(t);let b;if(l.isCompleteForChild(v)){m=e.serverCache.getNode();const x=Q$(r,t,l.getNode(),m);b=null!=x?l.getNode().getImmediateChild(v).updateChild(T,x):l.getNode().getImmediateChild(v)}else b=qO(r,v,e.serverCache);f=null!=b?n.filter.updateChild(l.getNode(),v,b,T,i,a):l.getNode()}}return g0(e,f,l.isFullyInitialized()||Pt(t),n.filter.filtersNodes())}}function CA(n,e,t,r,i,a,l,f){const m=e.serverCache;let v;const T=l?n.filter:n.filter.getIndexedFilter();if(Pt(t))v=T.updateFullNode(m.getNode(),r,null);else if(T.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(t,r);v=T.updateFullNode(m.getNode(),O,null)}else{const O=Rt(t);if(!m.isCompleteForPath(t)&&id(t)>1)return e;const B=dn(t),ae=m.getNode().getImmediateChild(O).updateChild(B,r);v=".priority"===O?T.updatePriority(m.getNode(),ae):T.updateChild(m.getNode(),O,ae,B,ej,null)}const b=z$(e,v,m.isFullyInitialized()||Pt(t),T.filtersNodes());return tj(n,b,t,i,new ZO(i,b,a),f)}function KO(n,e,t,r,i,a,l){const f=e.eventCache;let m,v;const T=new ZO(i,e,a);if(Pt(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,l),m=g0(e,v,!0,n.filter.filtersNodes());else{const b=Rt(t);if(".priority"===b)v=n.filter.updatePriority(e.eventCache.getNode(),r),m=g0(e,v,f.isFullyInitialized(),f.isFiltered());else{const x=dn(t),O=f.getNode().getImmediateChild(b);let B;if(Pt(x))B=r;else{const ee=T.getCompleteChild(b);B=null!=ee?".priority"===DO(x)&&ee.getChild(N$(x)).isEmpty()?ee:ee.updateChild(x,r):Dt.EMPTY_NODE}m=O.equals(B)?e:g0(e,n.filter.updateChild(f.getNode(),b,B,x,T,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return m}function nj(n,e){return n.eventCache.isCompleteForChild(e)}function rj(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function YO(n,e,t,r,i,a,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,m=e;v=Pt(t)?r:new Cn(null).setTree(t,r);const T=e.serverCache.getNode();return v.children.inorderTraversal((b,x)=>{if(T.hasChild(b)){const B=rj(0,e.serverCache.getNode().getImmediateChild(b),x);m=CA(n,m,new sn(b),B,i,a,l,f)}}),v.children.inorderTraversal((b,x)=>{const O=!e.serverCache.isCompleteForChild(b)&&null===x.value;if(!T.hasChild(b)&&!O){const ee=rj(0,e.serverCache.getNode().getImmediateChild(b),x);m=CA(n,m,new sn(b),ee,i,a,l,f)}}),m}function $q(n,e){const t=Xf(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Pt(e)&&!t.getImmediateChild(Rt(e)).isEmpty())?t.getChild(e):null}function oj(n,e,t,r){e.type===Cr.MERGE&&null!==e.source.queryId&&((0,j.hu)(Xf(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.hu)(mA(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function Rq(n,e,t,r,i){const a=new Aq;let l,f;if(t.type===Cr.OVERWRITE){const v=t;v.source.fromUser?l=KO(n,e,v.path,v.snap,r,i,a):((0,j.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!Pt(v.path),l=CA(n,e,v.path,v.snap,r,i,f,a))}else if(t.type===Cr.MERGE){const v=t;v.source.fromUser?l=function Oq(n,e,t,r,i,a,l){let f=e;return r.foreach((m,v)=>{const T=kn(t,m);nj(e,Rt(T))&&(f=KO(n,f,T,v,i,a,l))}),r.foreach((m,v)=>{const T=kn(t,m);nj(e,Rt(T))||(f=KO(n,f,T,v,i,a,l))}),f}(n,e,v.path,v.children,r,i,a):((0,j.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),l=YO(n,e,v.path,v.children,r,i,f,a))}else if(t.type===Cr.ACK_USER_WRITE){const v=t;l=v.revert?function Lq(n,e,t,r,i,a){let l;if(null!=vA(r,t))return e;{const f=new ZO(r,e,i),m=e.eventCache.getNode();let v;if(Pt(t)||".priority"===Rt(t)){let T;if(e.serverCache.isFullyInitialized())T=yA(r,Xf(e));else{const b=e.serverCache.getNode();(0,j.hu)(b instanceof Dt,"serverChildren would be complete if leaf node"),T=WO(r,b)}v=n.filter.updateFullNode(m,T,a)}else{const T=Rt(t);let b=qO(r,T,e.serverCache);null==b&&e.serverCache.isCompleteForChild(T)&&(b=m.getImmediateChild(T)),v=null!=b?n.filter.updateChild(m,T,b,dn(t),f,a):e.eventCache.getNode().hasChild(T)?n.filter.updateChild(m,T,Dt.EMPTY_NODE,dn(t),f,a):m,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=yA(r,Xf(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=vA(r,Jt()),g0(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,r,i,a):function kq(n,e,t,r,i,a,l){if(null!=vA(i,t))return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(null!=r.value){if(Pt(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return CA(n,e,t,m.getNode().getChild(t),i,a,f,l);if(Pt(t)){let v=new Cn(null);return m.getNode().forEachChild(eu,(T,b)=>{v=v.set(new sn(T),b)}),YO(n,e,t,v,i,a,f,l)}return e}{let v=new Cn(null);return r.foreach((T,b)=>{const x=kn(t,T);m.isCompleteForPath(x)&&(v=v.set(T,m.getNode().getChild(x)))}),YO(n,e,t,v,i,a,f,l)}}(n,e,v.path,v.affectedTree,r,i,a)}else{if(t.type!==Cr.LISTEN_COMPLETE)throw(0,j.g5)("Unknown operation type: "+t.type);l=function Fq(n,e,t,r,i){const a=e.serverCache;return tj(n,z$(e,a.getNode(),a.isFullyInitialized()||Pt(t),a.isFiltered()),t,r,ej,i)}(n,e,t.path,r,a)}const m=a.getChanges();return function Pq(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=mA(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function $$(n){return{type:"value",snapshotNode:n}}(mA(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,i,e,t,r);return function Nq(n,e){(0,j.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,j.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function aj(n,e,t,r){return function cq(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function YW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),p0(n,i,"child_removed",e,r,t),p0(n,i,"child_added",e,r,t),p0(n,i,"child_moved",a,r,t),p0(n,i,"child_changed",e,r,t),p0(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let EA,IA;function QO(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,j.hu)(null!=a,"SyncTree gave us an op for an invalid query."),oj(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(oj(l,e,t,r));return a}}function ad(n,e){let t=null;for(const r of n.views.values())t=t||$q(r,e);return t}class fj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Cn(null),this.pendingWriteTree_=function bq(){return{visibleWrites:ea.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JO(n,e,t,r,i){return function pq(n,e,t,r,i){(0,j.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=m0(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?K_(n,new Jf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function ld(n,e,t=!1){const r=function mq(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function _q(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,j.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&yq(f,r.path)?i=!1:ho(r.path,f.path)&&(a=!0)),l--}return!!i&&(a?(function vq(n){n.visibleWrites=K$(n.allWrites,Cq,Jt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=W$(n.visibleWrites,r.path):qr(r.children,m=>{n.visibleWrites=W$(n.visibleWrites,kn(r.path,m))}),!0))}(n.pendingWriteTree_,e)){let a=new Cn(null);return null!=r.snap?a=a.set(Jt(),!0):qr(r.children,l=>{a=a.set(new sn(l),!0)}),K_(n,new pA(r.path,a,t))}return[]}function _0(n,e,t){return K_(n,new Jf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function DA(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,f)=>{const v=ad(f,Ui(l,e));if(v)return v});return Y$(i,e,a,t,!0)}function K_(n,e){return gj(e,n.syncPointTree_,null,_A(n.pendingWriteTree_,Jt()))}function gj(n,e,t,r){if(Pt(n.path))return mj(n,e,t,r);{const i=e.get(Jt());null==t&&null!=i&&(t=ad(i,Jt()));let a=[];const l=Rt(n.path),f=n.operationForChild(l),m=e.children.get(l);if(m&&f){const v=t?t.getImmediateChild(l):null,T=J$(r,l);a=a.concat(gj(f,m,v,T))}return i&&(a=a.concat(QO(i,n,r,t))),a}}function mj(n,e,t,r){const i=e.get(Jt());null==t&&null!=i&&(t=ad(i,Jt()));let a=[];return e.children.inorderTraversal((l,f)=>{const m=t?t.getImmediateChild(l):null,v=J$(r,l),T=n.operationForChild(l);T&&(a=a.concat(mj(T,f,m,v)))}),i&&(a=a.concat(QO(i,n,r,t))),a}function ek(n,e){return n.tagToQueryMap.get(e)}function tk(n){const e=n.indexOf("$");return(0,j.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new sn(n.substr(0,e))}}function nk(n,e,t){const r=n.syncPointTree_.get(e);return(0,j.hu)(r,"Missing sync point for query tag that we're tracking"),QO(r,t,_A(n.pendingWriteTree_,e),null)}class rk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new rk(t)}node(){return this.node_}}class ik{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=kn(this.path_,e);return new ik(this.syncTree_,t)}node(){return DA(this.syncTree_,this.path_)}}const u9=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},yj=function(n,e,t){return n&&"object"==typeof n?((0,j.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?l9(n[".sv"],e,t):"object"==typeof n[".sv"]?c9(n[".sv"],e):void(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},l9=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,j.hu)(!1,"Unexpected server value: "+n)},c9=function(n,e,t){n.hasOwnProperty("increment")||(0,j.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,j.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,j.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},vj=function(n,e,t,r){return ok(e,new ik(t,n),r)},sk=function(n,e,t){return ok(n,new rk(e),t)};function ok(n,e,t){const r=n.getPriority().val(),i=yj(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,f=yj(l.getValue(),e,t);return f!==l.getValue()||i!==l.getPriority().val()?new H_(f,jn(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new H_(i))),l.forEachChild(vn,(f,m)=>{const v=ok(m,e.getImmediateChild(f),t);v!==m&&(a=a.updateImmediateChild(f,v))}),a}}class ak{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function SA(n,e){let t=e instanceof sn?e:new sn(e),r=n,i=Rt(t);for(;null!==i;){const a=(0,j.DV)(r.node.children,i)||{children:{},childCount:0};r=new ak(i,r,a),t=dn(t),i=Rt(t)}return r}function tp(n){return n.node.value}function uk(n,e){n.node.value=e,lk(n)}function Cj(n){return n.node.childCount>0}function AA(n,e){qr(n.node.children,(t,r)=>{e(new ak(t,n,r))})}function Ej(n,e,t,r){t&&!r&&e(n),AA(n,i=>{Ej(i,e,!0,r)}),t&&r&&e(n)}function C0(n){return new sn(null===n.parent?n.name:C0(n.parent)+"/"+n.name)}function lk(n){null!==n.parent&&function f9(n,e,t){const r=function d9(n){return void 0===tp(n)&&!Cj(n)}(t),i=(0,j.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,lk(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,lk(n))}(n.parent,n.name,n)}const p9=/[\[\].#$\/\u0000-\u001F\u007F]/,g9=/[\[\].#$\u0000-\u001F\u007F]/,ck=10485760,MA=function(n){return"string"==typeof n&&0!==n.length&&!p9.test(n)},w0=function(n,e,t){const r=t instanceof sn?new RW(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Yf(r));if("function"==typeof e)throw new Error(n+"contains a function "+Yf(r)+" with contents = "+e.toString());if(rA(e))throw new Error(n+"contains "+e.toString()+" "+Yf(r));if("string"==typeof e&&e.length>ck/3&&(0,j.ug)(e)>ck)throw new Error(n+"contains a string greater than "+ck+" utf8 bytes "+Yf(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(qr(e,(l,f)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!MA(l)))throw new Error(n+" contains an invalid key ("+l+") "+Yf(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function PW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,j.ug)(e),R$(n)})(r,l),w0(n,f,r),function OW(n){const e=n.parts_.pop();n.byteLength_-=(0,j.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+Yf(r)+" in addition to actual children.")}},Tj=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!MA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!g9.test(n)}(n)}(t))throw new Error((0,j.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class v9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fs(n,e,t){(function xA(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!bO(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function bj(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(C9(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ho(r,e)||ho(e,r))}function C9(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Zf&&Wr("event: "+t.toString()),$_(r)}}}const E9=25;class w9{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fA(),this.transactionQueueTree_=new ak,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Aj(n){const t=n.infoData_.getNode(new sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function T0(n){return u9({timestamp:Aj(n)})}function Mj(n,e,t,r,i){n.dataUpdateCount++;const a=new sn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const m=(0,j.UI)(t,v=>jn(v));l=function n9(n,e,t,r){const i=ek(n,r);if(i){const a=tk(i),l=a.path,f=a.queryId,m=Ui(l,e),v=Cn.fromObject(t);return nk(n,l,new q_($O(f),m,v))}return[]}(n.serverSyncTree_,a,m,i)}else{const m=jn(t);l=function pj(n,e,t,r){const i=ek(n,r);if(null!=i){const a=tk(i),l=a.path,f=a.queryId,m=Ui(l,e);return nk(n,l,new Jf($O(f),m,t))}return[]}(n.serverSyncTree_,a,m,i)}else if(r){const m=(0,j.UI)(t,v=>jn(v));l=function Xq(n,e,t){const r=Cn.fromObject(t);return K_(n,new q_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,m)}else{const m=jn(t);l=_0(n.serverSyncTree_,a,m)}let f=a;l.length>0&&(f=Q_(n,a)),Fs(n.eventQueue_,f,l)}function xj(n,e){fk(n,"connected",e),!1===e&&function S9(n){Y_(n,"onDisconnectEvents");const e=T0(n),t=fA();VO(n.onDisconnect_,Jt(),(i,a)=>{const l=vj(i,a,n.serverSyncTree_,e);W_(t,i,l)});let r=[];VO(t,Jt(),(i,a)=>{r=r.concat(_0(n.serverSyncTree_,i,a));const l=function _k(n,e){const t=C0(Pj(n,e)),r=SA(n.transactionQueueTree_,e);return function h9(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{yk(n,i)}),yk(n,r),Ej(r,i=>{yk(n,i)}),t}(n,i);Q_(n,l)}),n.onDisconnect_=fA(),Fs(n.eventQueue_,Jt(),r)}(n)}function fk(n,e,t){const r=new sn("/.info/"+e),i=jn(t);n.infoData_.updateSnapshot(r,i);const a=_0(n.infoSyncTree_,r,i);Fs(n.eventQueue_,r,a)}function NA(n){return n.nextWriteId_++}function Y_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Wr(t,...e)}function mk(n,e,t){return DA(n.serverSyncTree_,e,t)||Dt.EMPTY_NODE}function RA(n,e=n.transactionQueueTree_){if(e||PA(n,e),tp(e)){const t=Oj(n,e);(0,j.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function O9(n,e,t){const r=t.map(v=>v.currentWriteId),i=mk(n,e,r);let a=i;const l=i.hash();for(let v=0;v<t.length;v++){const T=t[v];(0,j.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const b=Ui(e,T.path);a=a.updateChild(b,T.currentOutputSnapshotRaw)}const f=a.val(!0),m=e;n.server_.put(m.toString(),f,v=>{Y_(n,"transaction put response",{path:m.toString(),status:v});let T=[];if("ok"===v){const b=[];for(let x=0;x<t.length;x++)t[x].status=2,T=T.concat(ld(n.serverSyncTree_,t[x].currentWriteId)),t[x].onComplete&&b.push(()=>t[x].onComplete(null,!0,t[x].currentOutputSnapshotResolved)),t[x].unwatcher();PA(n,SA(n.transactionQueueTree_,e)),RA(n,n.transactionQueueTree_),Fs(n.eventQueue_,e,T);for(let x=0;x<b.length;x++)$_(b[x])}else{if("datastale"===v)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{Si("transaction at "+m.toString()+" failed: "+v);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=v}Q_(n,e)}},l)}(n,C0(e),t)}else Cj(e)&&AA(e,t=>{RA(n,t)})}function Q_(n,e){const t=Pj(n,e),r=C0(t);return function k9(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],v=Ui(t,m.path);let b,T=!1;if((0,j.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)T=!0,b=m.abortReason,i=i.concat(ld(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=E9)T=!0,b="maxretry",i=i.concat(ld(n.serverSyncTree_,m.currentWriteId,!0));else{const x=mk(n,m.path,l);m.currentInputSnapshot=x;const O=e[f].update(x.val());if(void 0!==O){w0("transaction failed: Data returned ",O,m.path);let B=jn(O);"object"==typeof O&&null!=O&&(0,j.r3)(O,".priority")||(B=B.updatePriority(x.getPriority()));const ae=m.currentWriteId,Pe=T0(n),je=sk(B,x,Pe);m.currentOutputSnapshotRaw=B,m.currentOutputSnapshotResolved=je,m.currentWriteId=NA(n),l.splice(l.indexOf(ae),1),i=i.concat(JO(n.serverSyncTree_,m.path,je,m.currentWriteId,m.applyLocally)),i=i.concat(ld(n.serverSyncTree_,ae,!0))}else T=!0,b="nodata",i=i.concat(ld(n.serverSyncTree_,m.currentWriteId,!0))}Fs(n.eventQueue_,t,i),i=[],T&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===b?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(b),!1,null)))}PA(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)$_(r[f]);RA(n,n.transactionQueueTree_)}(n,Oj(n,t),r),r}function Pj(n,e){let t,r=n.transactionQueueTree_;for(t=Rt(e);null!==t&&void 0===tp(r);)r=SA(r,t),t=Rt(e=dn(e));return r}function Oj(n,e){const t=[];return kj(n,e,t),t.sort((r,i)=>r.order-i.order),t}function kj(n,e,t){const r=tp(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);AA(e,i=>{kj(n,i,t)})}function PA(n,e){const t=tp(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,uk(e,t.length>0?t:void 0)}AA(e,r=>{PA(n,r)})}function yk(n,e){const t=tp(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,j.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,j.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(ld(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?uk(e,void 0):t.length=a+1,Fs(n.eventQueue_,C0(e),i);for(let l=0;l<r.length;l++)$_(r[l])}}const vk=function(n,e){const t=V9(n),r=t.namespace;return"firebase.com"===t.domain&&Xa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Xa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vO(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new sn(t.pathString)}},V9=function(n){let e="",t="",r="",i="",a="",l=!0,f="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(f=n.substring(0,v-1),n=n.substring(v+2));let T=n.indexOf("/");-1===T&&(T=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),e=n.substring(0,Math.min(T,b)),T<b&&(i=function F9(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(T,b)));const x=function L9(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Si(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,b)));v=e.indexOf(":"),v>=0?(l="https"===f||"wss"===f,m=parseInt(e.substring(v+1),10)):v=e.length;const O=e.slice(0,v);if("localhost"===O.toLowerCase())t="localhost";else if(O.split(".").length<=2)t=O;else{const B=e.indexOf(".");r=e.substring(0,B).toLowerCase(),t=e.substring(B+1),a=r}"ns"in x&&(a=x.ns)}return{host:e,port:m,domain:t,subdomain:r,secure:l,scheme:f,pathString:i,namespace:a}};class Ls{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Pt(this._path)?null:DO(this._path)}get ref(){return new ta(this._repo,this._path)}get _queryIdentifier(){const e=H$(this._queryParams),t=_O(e);return"{}"===t?"default":t}get _queryObject(){return H$(this._queryParams)}isEqual(e){if(!((e=(0,j.m9)(e))instanceof Ls))return!1;const t=this._repo===e._repo,r=bO(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ta extends Ls{constructor(e,t){super(e,t,new OO,!1)}get parent(){const e=N$(this._path);return null===e?null:new ta(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Gq(n){(0,j.hu)(!EA,"__referenceConstructor has already been defined"),EA=n})(ta),function Kq(n){(0,j.hu)(!IA,"__referenceConstructor has already been defined"),IA=n}(ta);const Ek={};class i5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function I9(n,e,t){if(n.stats_=wO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hA(n.repoInfo_,(r,i,a,l)=>{Mj(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>xj(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Qf(n.repoInfo_,e,(r,i,a,l)=>{Mj(n,r,i,a,l)},r=>{xj(n,r)},r=>{!function T9(n,e){qr(e,(t,r)=>{fk(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function uW(n,e){const t=n.toString();return EO[t]||(EO[t]=e()),EO[t]}(n.repoInfo_,()=>new uq(n.stats_,n.server_)),n.infoData_=new rq,n.infoSyncTree_=new fj({startListening:(r,i,a,l)=>{let f=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(f=_0(n.infoSyncTree_,r._path,m),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),fk(n,"connected",!1),n.serverSyncTree_=new fj({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(f,m)=>{const v=l(f,m);Fs(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ta(this._repo,Jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function t5(n,e){const t=Ek[e];(!t||t[n.key]!==n)&&Xa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function Rj(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xa("Cannot call "+e+" on a deleted database.")}}function s5(n=(0,st.getApp)(),e){const t=(0,st._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,j.P0)("database");r&&function o5(n,e,t,r={}){(n=(0,j.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xa("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new s0(s0.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,j.Sg)(r.mockUserToken,n.app.options.projectId);a=new s0(l)}!function X9(n,e,t,r){n.repoInfo_=new vO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(t,...r)}return t}Qf.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Qf.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function a5(n){(function z6(n){pO=n})(st.SDK_VERSION),(0,st._registerComponent)(new As.wA("database",(e,{instanceIdentifier:t})=>function e5(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Xa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,l=vk(a,i),f=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,a=`http://${v}?ns=${f.namespace}`,l=vk(a,i),f=l.repoInfo):m=!l.repoInfo.secure;const T=i&&m?new s0(s0.OWNER):new sW(n.name,n.options,e);Tj("Invalid Firebase Database URL",l),Pt(l.path)||Xa("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function n5(n,e,t,r){let i=Ek[e.name];i||(i={},Ek[e.name]=i);let a=i[n.toURLString()];return a&&Xa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new w9(n,!1,t,r),i[n.toURLString()]=a,a}(f,n,T,new iW(n.name,t));return new i5(b,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(qB,"0.14.4",n),(0,st.registerVersion)(qB,"0.14.4","esm2017")}();class wk{constructor(e){return e}}const Gj="database",Ik=new c.OlP("angularfire2.database-instances");function h5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wk(r)}}const f5={provide:class c5{constructor(){return _c(Gj)}},deps:[[new c.FiY,Ik]]},p5={provide:wk,useFactory:function d5(n,e){const t=mc(Gj,n,e);return t&&new wk(t)},deps:[[new c.FiY,Ik],$a]};let g5=(()=>{class n{constructor(){(0,st.registerVersion)("angularfire",Ba.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[p5,f5]}),n})();function m5(n,...e){return{ngModule:g5,providers:[{provide:Ik,useFactory:h5(n),multi:!0,deps:[c.R0b,c.zs3,vc,jh,[new c.FiY,uE],[new c.FiY,Zu],...e]}]}}const _5=oo(s5,!0),zj="firebasestorage.googleapis.com";class Hn extends j.ZR{constructor(e,t,r=0){super(Tk(e),`Firebase Storage: ${t} (${Tk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ht=(()=>((ht=ht||{}).UNKNOWN="unknown",ht.OBJECT_NOT_FOUND="object-not-found",ht.BUCKET_NOT_FOUND="bucket-not-found",ht.PROJECT_NOT_FOUND="project-not-found",ht.QUOTA_EXCEEDED="quota-exceeded",ht.UNAUTHENTICATED="unauthenticated",ht.UNAUTHORIZED="unauthorized",ht.UNAUTHORIZED_APP="unauthorized-app",ht.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ht.INVALID_CHECKSUM="invalid-checksum",ht.CANCELED="canceled",ht.INVALID_EVENT_NAME="invalid-event-name",ht.INVALID_URL="invalid-url",ht.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ht.NO_DEFAULT_BUCKET="no-default-bucket",ht.CANNOT_SLICE_BLOB="cannot-slice-blob",ht.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ht.NO_DOWNLOAD_URL="no-download-url",ht.INVALID_ARGUMENT="invalid-argument",ht.INVALID_ARGUMENT_COUNT="invalid-argument-count",ht.APP_DELETED="app-deleted",ht.INVALID_ROOT_OPERATION="invalid-root-operation",ht.INVALID_FORMAT="invalid-format",ht.INTERNAL_ERROR="internal-error",ht.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ht))();function Tk(n){return"storage/"+n}function bk(n){return new Hn(ht.INVALID_ARGUMENT,n)}function Yj(){return new Hn(ht.APP_DELETED,"The Firebase app was deleted.")}class Bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Bi.makeFromUrl(e,t)}catch{return new Bi(e,"")}if(""===r.path)return r;throw function S5(n){return new Hn(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const b=t.replace(/[.]/g,"\\."),Be=[{regex:f,indices:{bucket:1,path:3},postModify:function a(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${b}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===zj?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<Be.length;We++){const Tt=Be[We],Mt=Tt.regex.exec(e);if(Mt){let Vs=Mt[Tt.indices.path];Vs||(Vs=""),r=new Bi(Mt[Tt.indices.bucket],Vs),Tt.postModify(r);break}}if(null==r)throw function b5(n){return new Hn(ht.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class P5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ak(n,e,t,r){if(r<e)throw bk(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw bk(`Invalid value for '${n}'. Expected ${t} or less.`)}var ls=(()=>((ls=ls||{})[ls.NO_ERROR=0]="NO_ERROR",ls[ls.NETWORK_ERROR=1]="NETWORK_ERROR",ls[ls.ABORT=2]="ABORT",ls))();class U5{constructor(e,t,r,i,a,l,f,m,v,T,b,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=b,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,B)=>{this.resolve_=O,this.reject_=B,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function F5(n){return void 0!==n}(m)?a():a(m)}catch(m){l(m)}else if(null!==f){const m=function Dk(){return new Hn(ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(i.canceled?this.appDelete_?Yj():function Zj(){return new Hn(ht.CANCELED,"User canceled the upload/download.")}():function qj(){return new Hn(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new VA(!1,null,!0)):this.backoffId_=function O5(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function m(){return 2===f}let v=!1;function T(...ae){v||(v=!0,e.apply(null,ae))}function b(ae){i=setTimeout(()=>{i=null,n(O,m())},ae)}function x(){a&&clearTimeout(a)}function O(ae,...Pe){if(v)return void x();if(ae)return x(),void T.call(null,ae,...Pe);if(m()||l)return x(),void T.call(null,ae,...Pe);let Be;r<64&&(r*=2),1===f?(f=2,Be=0):Be=1e3*(r+Math.random()),b(Be)}let B=!1;function ee(ae){B||(B=!0,x(),!v&&(null!==i?(ae||(f=2),clearTimeout(i),b(0)):ae||(f=1)))}return b(0),a=setTimeout(()=>{l=!0,ee(!0)},t),ee}((r,i)=>{if(i)return void r(!1,new VA(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===ls.NO_ERROR,m=a.getStatus();if(!f||function Xj(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}(m,this.additionalRetryCodes_)&&this.retry){const T=a.getErrorCode()===ls.ABORT;return void r(!1,new VA(!1,null,T))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new VA(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function k5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class VA{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class rp{constructor(e,t){this._service=e,this._location=t instanceof Bi?t:Bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rp(e,t)}get root(){const e=new Bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function iH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function X5(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Bi(this._location.bucket,e);return new rp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function R5(n){return new Hn(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vH(n,e){const t=e?.storageBucket;return null==t?null:Bi.makeFromBucketSpec(t,n)}class kk{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=zj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Bi.makeFromBucketSpec(i,this._host):vH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Bi.makeFromBucketSpec(this._url,e):vH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ak("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ak("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ue.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ue.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rp(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new P5(Yj());{const l=function G5(n,e,t,r,i,a,l=!0){const f=function Jj(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function j5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function B5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function $5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function H5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new U5(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,ue.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const CH="@firebase/storage",wH="storage";function V7(n=(0,st.getApp)(),e){n=(0,j.m9)(n);const r=(0,st._getProvider)(n,wH).getImmediate({identifier:e}),i=(0,j.P0)("storage");return i&&function U7(n,e,t,r={}){!function L7(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,j.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function B7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new kk(t,r,i,e,st.SDK_VERSION)}!function $7(){(0,st._registerComponent)(new As.wA(wH,B7,"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(CH,"0.11.2",""),(0,st.registerVersion)(CH,"0.11.2","esm2017")}();class Fk{constructor(e){return e}}const IH="storage",Lk=new c.OlP("angularfire2.storage-instances");function G7(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Fk(r)}}const z7={provide:class j7{constructor(){return _c(IH)}},deps:[[new c.FiY,Lk]]},W7={provide:Fk,useFactory:function H7(n,e){const t=mc(IH,n,e);return t&&new Fk(t)},deps:[[new c.FiY,Lk],$a]};let q7=(()=>{class n{constructor(){(0,st.registerVersion)("angularfire",Ba.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[W7,z7]}),n})();function Z7(n,...e){return{ngModule:q7,providers:[{provide:Lk,useFactory:G7(n),multi:!0,deps:[c.R0b,c.zs3,vc,jh,[new c.FiY,uE],[new c.FiY,Zu],...e]}]}}const K7=oo(V7,!0);let Y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[G6]}),n.\u0275inj=c.cJS({providers:[{provide:Wf.Dh,useValue:WB.firebase}],imports:[Vd,B6,L6,o6,mD(()=>_D(WB.firebase)),lE(()=>ZN()),m5(()=>_5()),cz(()=>dz()),Z7(()=>K7())]}),n})();U0().bootstrapModule(Y7).catch(n=>console.error(n))},5619:(Xe,Ee,k)=>{k.d(Ee,{X:()=>L});var c=k(8645);class L extends c.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const fe=super._subscribe(se);return!fe.closed&&se.next(this._value),fe}getValue(){const{hasError:se,thrownError:fe,_value:Ie}=this;if(se)throw fe;return this._throwIfClosed(),Ie}next(se){super.next(this._value=se)}}},5592:(Xe,Ee,k)=>{k.d(Ee,{y:()=>Le});var c=k(1887),L=k(7394),re=k(4850),se=k(8407),fe=k(2653),Ie=k(4674),Ne=k(1441);let Le=(()=>{class ne{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const ze=new ne;return ze.source=this,ze.operator=ce,ze}subscribe(ce,ze,Oe){const be=function U(ne){return ne&&ne instanceof c.Lv||function H(ne){return ne&&(0,Ie.m)(ne.next)&&(0,Ie.m)(ne.error)&&(0,Ie.m)(ne.complete)}(ne)&&(0,L.Nn)(ne)}(ce)?ce:new c.Hp(ce,ze,Oe);return(0,Ne.x)(()=>{const{operator:Me,source:qe}=this;be.add(Me?Me.call(be,qe):qe?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(ce){try{return this._subscribe(ce)}catch(ze){ce.error(ze)}}forEach(ce,ze){return new(ze=Ae(ze))((Oe,be)=>{const Me=new c.Hp({next:qe=>{try{ce(qe)}catch(De){be(De),Me.unsubscribe()}},error:be,complete:Oe});this.subscribe(Me)})}_subscribe(ce){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(ce)}[re.L](){return this}pipe(...ce){return(0,se.U)(ce)(this)}toPromise(ce){return new(ce=Ae(ce))((ze,Oe)=>{let be;this.subscribe(Me=>be=Me,Me=>Oe(Me),()=>ze(be))})}}return ne.create=Re=>new ne(Re),ne})();function Ae(ne){var Re;return null!==(Re=ne??fe.config.Promise)&&void 0!==Re?Re:Promise}},8645:(Xe,Ee,k)=>{k.d(Ee,{x:()=>Ne});var c=k(5592),L=k(7394);const se=(0,k(2306).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=k(9039),Ie=k(1441);let Ne=(()=>{class Ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ne=new Le(this,this);return ne.operator=U,ne}_throwIfClosed(){if(this.closed)throw new se}next(U){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(U)}})}error(U){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ne}=this;for(;ne.length;)ne.shift().error(U)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ne,isStopped:Re,observers:ce}=this;return ne||Re?L.Lc:(this.currentObservers=null,ce.push(U),new L.w0(()=>{this.currentObservers=null,(0,fe.P)(ce,U)}))}_checkFinalizedStatuses(U){const{hasError:ne,thrownError:Re,isStopped:ce}=this;ne?U.error(Re):ce&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return Ae.create=(H,U)=>new Le(H,U),Ae})();class Le extends Ne{constructor(H,U){super(),this.destination=H,this.source=U}next(H){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ne||ne.call(U,H)}error(H){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ne||ne.call(U,H)}complete(){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===U||U.call(H)}_subscribe(H){var U,ne;return null!==(ne=null===(U=this.source)||void 0===U?void 0:U.subscribe(H))&&void 0!==ne?ne:L.Lc}}},1887:(Xe,Ee,k)=>{k.d(Ee,{Hp:()=>Oe,Lv:()=>ne});var c=k(4674),L=k(7394),re=k(2653),se=k(3894);function fe(){}const Ie=Ae("C",void 0,void 0);function Ae(ve,de,ge){return{kind:ve,value:de,error:ge}}var H=k(7599),U=k(1441);class ne extends L.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,L.Nn)(de)&&de.add(this)):this.destination=De}static create(de,ge,Ce){return new Oe(de,ge,Ce)}next(de){this.isStopped?qe(function Le(ve){return Ae("N",ve,void 0)}(de),this):this._next(de)}error(de){this.isStopped?qe(function Ne(ve){return Ae("E",void 0,ve)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?qe(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function ce(ve,de){return Re.call(ve,de)}class ze{constructor(de){this.partialObserver=de}next(de){const{partialObserver:ge}=this;if(ge.next)try{ge.next(de)}catch(Ce){be(Ce)}}error(de){const{partialObserver:ge}=this;if(ge.error)try{ge.error(de)}catch(Ce){be(Ce)}else be(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(ge){be(ge)}}}class Oe extends ne{constructor(de,ge,Ce){let K;if(super(),(0,c.m)(de)||!de)K={next:de??void 0,error:ge??void 0,complete:Ce??void 0};else{let z;this&&re.config.useDeprecatedNextContext?(z=Object.create(de),z.unsubscribe=()=>this.unsubscribe(),K={next:de.next&&ce(de.next,z),error:de.error&&ce(de.error,z),complete:de.complete&&ce(de.complete,z)}):K=de}this.destination=new ze(K)}}function be(ve){re.config.useDeprecatedSynchronousErrorHandling?(0,U.O)(ve):(0,se.h)(ve)}function qe(ve,de){const{onStoppedNotification:ge}=re.config;ge&&H.z.setTimeout(()=>ge(ve,de))}const De={closed:!0,next:fe,error:function Me(ve){throw ve},complete:fe}},7394:(Xe,Ee,k)=>{k.d(Ee,{Lc:()=>Ie,w0:()=>fe,Nn:()=>Ne});var c=k(4674);const re=(0,k(2306).d)(Ae=>function(U){Ae(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ne,Re)=>`${Re+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var se=k(9039);class fe{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const ce of U)ce.remove(this);else U.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(ce){H=ce instanceof re?ce.errors:[ce]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const ce of Re)try{Le(ce)}catch(ze){H=H??[],ze instanceof re?H=[...H,...ze.errors]:H.push(ze)}}if(H)throw new re(H)}}add(H){var U;if(H&&H!==this)if(this.closed)Le(H);else{if(H instanceof fe){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(H)}}_hasParent(H){const{_parentage:U}=this;return U===H||Array.isArray(U)&&U.includes(H)}_addParent(H){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(H),U):U?[U,H]:H}_removeParent(H){const{_parentage:U}=this;U===H?this._parentage=null:Array.isArray(U)&&(0,se.P)(U,H)}remove(H){const{_finalizers:U}=this;U&&(0,se.P)(U,H),H instanceof fe&&H._removeParent(this)}}fe.EMPTY=(()=>{const Ae=new fe;return Ae.closed=!0,Ae})();const Ie=fe.EMPTY;function Ne(Ae){return Ae instanceof fe||Ae&&"closed"in Ae&&(0,c.m)(Ae.remove)&&(0,c.m)(Ae.add)&&(0,c.m)(Ae.unsubscribe)}function Le(Ae){(0,c.m)(Ae)?Ae():Ae.unsubscribe()}},2653:(Xe,Ee,k)=>{k.d(Ee,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Xe,Ee,k)=>{k.d(Ee,{E:()=>L});const L=new(k(5592).y)(fe=>fe.complete())},2459:(Xe,Ee,k)=>{k.d(Ee,{D:()=>de});var c=k(4829),L=k(3093),re=k(5137),Ie=k(5592),Le=k(4971),Ae=k(4674),H=k(7103);function ne(ge,Ce){if(!ge)throw new Error("Iterable cannot be null");return new Ie.y(K=>{(0,H.f)(K,Ce,()=>{const z=ge[Symbol.asyncIterator]();(0,H.f)(K,Ce,()=>{z.next().then(me=>{me.done?K.complete():K.next(me.value)})},0,!0)})})}var Re=k(8382),ce=k(4026),ze=k(4266),Oe=k(3664),be=k(5726),Me=k(9853),qe=k(541);function de(ge,Ce){return Ce?function ve(ge,Ce){if(null!=ge){if((0,Re.c)(ge))return function se(ge,Ce){return(0,c.Xf)(ge).pipe((0,re.R)(Ce),(0,L.Q)(Ce))}(ge,Ce);if((0,ze.z)(ge))return function Ne(ge,Ce){return new Ie.y(K=>{let z=0;return Ce.schedule(function(){z===ge.length?K.complete():(K.next(ge[z++]),K.closed||this.schedule())})})}(ge,Ce);if((0,ce.t)(ge))return function fe(ge,Ce){return(0,c.Xf)(ge).pipe((0,re.R)(Ce),(0,L.Q)(Ce))}(ge,Ce);if((0,be.D)(ge))return ne(ge,Ce);if((0,Oe.T)(ge))return function U(ge,Ce){return new Ie.y(K=>{let z;return(0,H.f)(K,Ce,()=>{z=ge[Le.h](),(0,H.f)(K,Ce,()=>{let me,ye;try{({value:me,done:ye}=z.next())}catch(En){return void K.error(En)}ye?K.complete():K.next(me)},0,!0)}),()=>(0,Ae.m)(z?.return)&&z.return()})}(ge,Ce);if((0,qe.L)(ge))return function De(ge,Ce){return ne((0,qe.Q)(ge),Ce)}(ge,Ce)}throw(0,Me.z)(ge)}(ge,Ce):(0,c.Xf)(ge)}},4829:(Xe,Ee,k)=>{k.d(Ee,{Xf:()=>Re});var c=k(7582),L=k(4266),re=k(4026),se=k(5592),fe=k(8382),Ie=k(5726),Ne=k(9853),Le=k(3664),Ae=k(541),H=k(4674),U=k(3894),ne=k(4850);function Re(ve){if(ve instanceof se.y)return ve;if(null!=ve){if((0,fe.c)(ve))return function ce(ve){return new se.y(de=>{const ge=ve[ne.L]();if((0,H.m)(ge.subscribe))return ge.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,L.z)(ve))return function ze(ve){return new se.y(de=>{for(let ge=0;ge<ve.length&&!de.closed;ge++)de.next(ve[ge]);de.complete()})}(ve);if((0,re.t)(ve))return function Oe(ve){return new se.y(de=>{ve.then(ge=>{de.closed||(de.next(ge),de.complete())},ge=>de.error(ge)).then(null,U.h)})}(ve);if((0,Ie.D)(ve))return Me(ve);if((0,Le.T)(ve))return function be(ve){return new se.y(de=>{for(const ge of ve)if(de.next(ge),de.closed)return;de.complete()})}(ve);if((0,Ae.L)(ve))return function qe(ve){return Me((0,Ae.Q)(ve))}(ve)}throw(0,Ne.z)(ve)}function Me(ve){return new se.y(de=>{(function De(ve,de){var ge,Ce,K,z;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ge=(0,c.KL)(ve);!(Ce=yield ge.next()).done;)if(de.next(Ce.value),de.closed)return}catch(me){K={error:me}}finally{try{Ce&&!Ce.done&&(z=ge.return)&&(yield z.call(ge))}finally{if(K)throw K.error}}de.complete()})})(ve,de).catch(ge=>de.error(ge))})}},3019:(Xe,Ee,k)=>{k.d(Ee,{T:()=>Ie});var c=k(7537),L=k(4829),re=k(6232),se=k(4564),fe=k(2459);function Ie(...Ne){const Le=(0,se.yG)(Ne),Ae=(0,se._6)(Ne,1/0),H=Ne;return H.length?1===H.length?(0,L.Xf)(H[0]):(0,c.J)(Ae)((0,fe.D)(H,Le)):re.E}},2096:(Xe,Ee,k)=>{k.d(Ee,{of:()=>re});var c=k(4564),L=k(2459);function re(...se){const fe=(0,c.yG)(se);return(0,L.D)(se,fe)}},8251:(Xe,Ee,k)=>{k.d(Ee,{x:()=>L});var c=k(1887);function L(se,fe,Ie,Ne,Le){return new re(se,fe,Ie,Ne,Le)}class re extends c.Lv{constructor(fe,Ie,Ne,Le,Ae,H){super(fe),this.onFinalize=Ae,this.shouldUnsubscribe=H,this._next=Ie?function(U){try{Ie(U)}catch(ne){fe.error(ne)}}:super._next,this._error=Le?function(U){try{Le(U)}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(U){fe.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},7398:(Xe,Ee,k)=>{k.d(Ee,{U:()=>re});var c=k(9360),L=k(8251);function re(se,fe){return(0,c.e)((Ie,Ne)=>{let Le=0;Ie.subscribe((0,L.x)(Ne,Ae=>{Ne.next(se.call(fe,Ae,Le++))}))})}},7537:(Xe,Ee,k)=>{k.d(Ee,{J:()=>re});var c=k(1631),L=k(2737);function re(se=1/0){return(0,c.z)(L.y,se)}},1631:(Xe,Ee,k)=>{k.d(Ee,{z:()=>Le});var c=k(7398),L=k(4829),re=k(9360),se=k(7103),fe=k(8251),Ne=k(4674);function Le(Ae,H,U=1/0){return(0,Ne.m)(H)?Le((ne,Re)=>(0,c.U)((ce,ze)=>H(ne,ce,Re,ze))((0,L.Xf)(Ae(ne,Re))),U):("number"==typeof H&&(U=H),(0,re.e)((ne,Re)=>function Ie(Ae,H,U,ne,Re,ce,ze,Oe){const be=[];let Me=0,qe=0,De=!1;const ve=()=>{De&&!be.length&&!Me&&H.complete()},de=Ce=>Me<ne?ge(Ce):be.push(Ce),ge=Ce=>{ce&&H.next(Ce),Me++;let K=!1;(0,L.Xf)(U(Ce,qe++)).subscribe((0,fe.x)(H,z=>{Re?.(z),ce?de(z):H.next(z)},()=>{K=!0},void 0,()=>{if(K)try{for(Me--;be.length&&Me<ne;){const z=be.shift();ze?(0,se.f)(H,ze,()=>ge(z)):ge(z)}ve()}catch(z){H.error(z)}}))};return Ae.subscribe((0,fe.x)(H,de,()=>{De=!0,ve()})),()=>{Oe?.()}}(ne,Re,Ae,U)))}},3093:(Xe,Ee,k)=>{k.d(Ee,{Q:()=>se});var c=k(7103),L=k(9360),re=k(8251);function se(fe,Ie=0){return(0,L.e)((Ne,Le)=>{Ne.subscribe((0,re.x)(Le,Ae=>(0,c.f)(Le,fe,()=>Le.next(Ae),Ie),()=>(0,c.f)(Le,fe,()=>Le.complete(),Ie),Ae=>(0,c.f)(Le,fe,()=>Le.error(Ae),Ie)))})}},3020:(Xe,Ee,k)=>{k.d(Ee,{B:()=>fe});var c=k(4829),L=k(8645),re=k(1887),se=k(9360);function fe(Ne={}){const{connector:Le=(()=>new L.x),resetOnError:Ae=!0,resetOnComplete:H=!0,resetOnRefCountZero:U=!0}=Ne;return ne=>{let Re,ce,ze,Oe=0,be=!1,Me=!1;const qe=()=>{ce?.unsubscribe(),ce=void 0},De=()=>{qe(),Re=ze=void 0,be=Me=!1},ve=()=>{const de=Re;De(),de?.unsubscribe()};return(0,se.e)((de,ge)=>{Oe++,!Me&&!be&&qe();const Ce=ze=ze??Le();ge.add(()=>{Oe--,0===Oe&&!Me&&!be&&(ce=Ie(ve,U))}),Ce.subscribe(ge),!Re&&Oe>0&&(Re=new re.Hp({next:K=>Ce.next(K),error:K=>{Me=!0,qe(),ce=Ie(De,Ae,K),Ce.error(K)},complete:()=>{be=!0,qe(),ce=Ie(De,H),Ce.complete()}}),(0,c.Xf)(de).subscribe(Re))})(ne)}}function Ie(Ne,Le,...Ae){if(!0===Le)return void Ne();if(!1===Le)return;const H=new re.Hp({next:()=>{H.unsubscribe(),Ne()}});return(0,c.Xf)(Le(...Ae)).subscribe(H)}},5137:(Xe,Ee,k)=>{k.d(Ee,{R:()=>L});var c=k(9360);function L(re,se=0){return(0,c.e)((fe,Ie)=>{Ie.add(re.schedule(()=>fe.subscribe(Ie),se))})}},4664:(Xe,Ee,k)=>{k.d(Ee,{w:()=>se});var c=k(4829),L=k(9360),re=k(8251);function se(fe,Ie){return(0,L.e)((Ne,Le)=>{let Ae=null,H=0,U=!1;const ne=()=>U&&!Ae&&Le.complete();Ne.subscribe((0,re.x)(Le,Re=>{Ae?.unsubscribe();let ce=0;const ze=H++;(0,c.Xf)(fe(Re,ze)).subscribe(Ae=(0,re.x)(Le,Oe=>Le.next(Ie?Ie(Re,Oe,ze,ce++):Oe),()=>{Ae=null,ne()}))},()=>{U=!0,ne()}))})}},7599:(Xe,Ee,k)=>{k.d(Ee,{z:()=>c});const c={setTimeout(L,re,...se){const{delegate:fe}=c;return fe?.setTimeout?fe.setTimeout(L,re,...se):setTimeout(L,re,...se)},clearTimeout(L){const{delegate:re}=c;return(re?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(Xe,Ee,k)=>{k.d(Ee,{h:()=>L});const L=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Xe,Ee,k)=>{k.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Xe,Ee,k)=>{k.d(Ee,{_6:()=>Ie,jO:()=>se,yG:()=>fe});var c=k(4674);function re(Ne){return Ne[Ne.length-1]}function se(Ne){return(0,c.m)(re(Ne))?Ne.pop():void 0}function fe(Ne){return function L(Ne){return Ne&&(0,c.m)(Ne.schedule)}(re(Ne))?Ne.pop():void 0}function Ie(Ne,Le){return"number"==typeof re(Ne)?Ne.pop():Le}},9039:(Xe,Ee,k)=>{function c(L,re){if(L){const se=L.indexOf(re);0<=se&&L.splice(se,1)}}k.d(Ee,{P:()=>c})},2306:(Xe,Ee,k)=>{function c(L){const se=L(fe=>{Error.call(fe),fe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ee,{d:()=>c})},1441:(Xe,Ee,k)=>{k.d(Ee,{O:()=>se,x:()=>re});var c=k(2653);let L=null;function re(fe){if(c.config.useDeprecatedSynchronousErrorHandling){const Ie=!L;if(Ie&&(L={errorThrown:!1,error:null}),fe(),Ie){const{errorThrown:Ne,error:Le}=L;if(L=null,Ne)throw Le}}else fe()}function se(fe){c.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=fe)}},7103:(Xe,Ee,k)=>{function c(L,re,se,fe=0,Ie=!1){const Ne=re.schedule(function(){se(),Ie?L.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(L.add(Ne),!Ie)return Ne}k.d(Ee,{f:()=>c})},2737:(Xe,Ee,k)=>{function c(L){return L}k.d(Ee,{y:()=>c})},4266:(Xe,Ee,k)=>{k.d(Ee,{z:()=>c});const c=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(Xe,Ee,k)=>{k.d(Ee,{D:()=>L});var c=k(4674);function L(re){return Symbol.asyncIterator&&(0,c.m)(re?.[Symbol.asyncIterator])}},4674:(Xe,Ee,k)=>{function c(L){return"function"==typeof L}k.d(Ee,{m:()=>c})},8382:(Xe,Ee,k)=>{k.d(Ee,{c:()=>re});var c=k(4850),L=k(4674);function re(se){return(0,L.m)(se[c.L])}},3664:(Xe,Ee,k)=>{k.d(Ee,{T:()=>re});var c=k(4971),L=k(4674);function re(se){return(0,L.m)(se?.[c.h])}},4026:(Xe,Ee,k)=>{k.d(Ee,{t:()=>L});var c=k(4674);function L(re){return(0,c.m)(re?.then)}},541:(Xe,Ee,k)=>{k.d(Ee,{L:()=>se,Q:()=>re});var c=k(7582),L=k(4674);function re(fe){return(0,c.FC)(this,arguments,function*(){const Ne=fe.getReader();try{for(;;){const{value:Le,done:Ae}=yield(0,c.qq)(Ne.read());if(Ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Le)}}finally{Ne.releaseLock()}})}function se(fe){return(0,L.m)(fe?.getReader)}},9360:(Xe,Ee,k)=>{k.d(Ee,{A:()=>L,e:()=>re});var c=k(4674);function L(se){return(0,c.m)(se?.lift)}function re(se){return fe=>{if(L(fe))return fe.lift(function(Ie){try{return se(Ie,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(Xe,Ee,k)=>{k.d(Ee,{U:()=>re,z:()=>L});var c=k(2737);function L(...se){return re(se)}function re(se){return 0===se.length?c.y:1===se.length?se[0]:function(Ie){return se.reduce((Ne,Le)=>Le(Ne),Ie)}}},3894:(Xe,Ee,k)=>{k.d(Ee,{h:()=>re});var c=k(2653),L=k(7599);function re(se){L.z.setTimeout(()=>{const{onUnhandledError:fe}=c.config;if(!fe)throw se;fe(se)})}},9853:(Xe,Ee,k)=>{function c(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>c})},8926:(Xe,Ee,k)=>{k.d(Ee,{tb:()=>Zm,AFp:()=>st,ip1:()=>lf,hGG:()=>Lb,z2F:()=>Oc,Ojb:()=>ts,sBO:()=>$E,Sil:()=>gb,EJc:()=>fb,Xts:()=>lg,SBq:()=>ku,lqb:()=>Ru,qLn:()=>Fu,vpe:()=>Zo,XFs:()=>Qe,OlP:()=>Kt,zs3:()=>Ra,ZZ4:()=>i_,aQg:()=>s_,soG:()=>_r,YKP:()=>oE,h0i:()=>bc,PXZ:()=>CR,R0b:()=>Ar,FiY:()=>wa,Lbi:()=>ue,g9A:()=>UI,Qsj:()=>WM,FYo:()=>WI,JOm:()=>Xs,tp0:()=>th,Rgc:()=>Im,dDg:()=>wb,eoX:()=>OE,q4F:()=>KI,GfV:()=>ZI,s_b:()=>bm,ifc:()=>fn,VuI:()=>Lc,MMx:()=>WD,Lck:()=>aE,eFA:()=>Db,Gpc:()=>qe,f3M:()=>X,X6Q:()=>bR,$WT:()=>Hs,_c5:()=>Fi,qFp:()=>Gb,rg0:()=>O0,c2e:()=>Nc,zSh:()=>vv,HDt:()=>Hm,wAp:()=>ot,vHH:()=>K,lri:()=>Cb,rWj:()=>Eb,cg1:()=>UC,kL8:()=>hm,dqk:()=>un,Z0I:()=>Gi,eJc:()=>Xh,QGY:()=>wC,F4k:()=>zT,RDi:()=>uM,AaK:()=>Oe,qOj:()=>kg,Xq5:()=>OT,TTD:()=>Tp,_Bn:()=>UN,jDz:()=>qD,xp6:()=>Fv,uIk:()=>sC,ekj:()=>Uh,Suo:()=>nb,Xpm:()=>gl,lG2:()=>_l,Yz7:()=>mt,cJS:()=>Pr,oAB:()=>lp,Yjl:()=>ou,Y36:()=>rc,_UZ:()=>Sr,qZA:()=>Zg,TgZ:()=>Vn,EpF:()=>GT,n5z:()=>Is,LFG:()=>F,$8M:()=>Bl,$Z:()=>lT,NdJ:()=>IC,CRH:()=>gE,oxw:()=>YT,ALo:()=>eR,lcZ:()=>tR,Q6J:()=>mC,iGM:()=>Mm,KtG:()=>au,CHM:()=>kp,P3R:()=>pv,YNc:()=>Ux,_uU:()=>Hu,hij:()=>gc,AsE:()=>$h});var c=k(8645),L=k(7394),re=k(5619),se=k(5592),fe=k(3019),Ie=k(2096),Ne=k(3020),Le=k(4664),Ae=k(2737),H=k(9360),U=k(8251);function Re(s,o){return s===o}function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function ze(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Oe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Oe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Me=ce({__forward_ref__:ce});function qe(s){return s.__forward_ref__=qe,s.toString=function(){return Oe(this())},s}function De(s){return ve(s)?s():s}function ve(s){return"function"==typeof s&&s.hasOwnProperty(Me)&&s.__forward_ref__===qe}function de(s){return s&&!!s.\u0275providers}const Ce="https://g.co/ng/security#xss";class K extends Error{constructor(o,u){super(function z(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ai(s,o){throw new K(-201,!1)}function vt(s,o){null==s&&function rt(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function mt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Pr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Hi(s){return sa(s,Ut)||sa(s,et)}function Gi(s){return null!==Hi(s)}function sa(s,o){return s.hasOwnProperty(o)?s[o]:null}function Bs(s){return s&&(s.hasOwnProperty(Ye)||s.hasOwnProperty(Qn))?s[Ye]:null}const Ut=ce({\u0275prov:ce}),Ye=ce({\u0275inj:ce}),et=ce({ngInjectableDef:ce}),Qn=ce({ngInjectorDef:ce});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let Or;function Bt(s){const o=Or;return Or=s,o}function hs(s,o,u){const d=Hi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Qe.Optional?null:void 0!==o?o:void Ai(Oe(s))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},Mi="__NG_DI_FLAG__",ci="ngTempTokenPath",wr=/\n/gm,Jn="__source";let $s;function ar(s){const o=$s;return $s=s,o}function V(s,o=Qe.Default){if(void 0===$s)throw new K(-203,!1);return null===$s?hs(s,void 0,o):$s.get(s,o&Qe.Optional?null:void 0,o)}function F(s,o=Qe.Default){return(function li(){return Or}()||V)(De(s),o)}function X(s,o=Qe.Default){return F(s,q(o))}function q(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function He(s){const o=[];for(let u=0;u<s.length;u++){const d=De(s[u]);if(Array.isArray(d)){if(0===d.length)throw new K(900,!1);let h,p=Qe.Default;for(let y=0;y<d.length;y++){const E=d[y],I=Gt(E);"number"==typeof I?-1===I?h=E.token:p|=I:h=E}o.push(F(h,p))}else o.push(F(d))}return o}function tt(s,o){return s[Mi]=o,s.prototype[Mi]=o,s}function Gt(s){return s[Mi]}function hn(s){return{toString:s}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),fn=(()=>{return(s=fn||(fn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",fn;var s})();const xn={},At=[],po=ce({\u0275cmp:ce}),oe=ce({\u0275dir:ce}),W=ce({\u0275pipe:ce}),Te=ce({\u0275mod:ce}),Ge=ce({\u0275fac:ce}),ut=ce({__NG_ELEMENT_ID__:ce}),Et=ce({__NG_ENV_ID__:ce});function $t(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}function Fn(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],y=u[d++],E=u[d++];s.setAttribute(o,y,E,p)}else{const p=h,y=u[++d];fs(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function pn(s){return 3===s||4===s||6===s}function fs(s){return 64===s.charCodeAt(0)}function ps(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||cl(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function cl(s,o,u,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const fd="ng-template";function ip(s,o,u){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const y=s[d++];if(u&&"class"===p&&-1!==$t(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function gs(s){return 4===s.type&&s.value!==fd}function dl(s,o,u){return o===(4!==s.type||u?s.value:fd)}function ny(s,o,u){let d=4;const h=s.attrs||[],p=function ry(s){for(let o=0;o<s.length;o++)if(pn(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!dl(s,I,u)||""===I&&1===o.length){if(hi(d))return!1;y=!0}}else{const D=8&d?I:o[++E];if(8&d&&null!==s.attrs){if(!ip(s.attrs,D,u)){if(hi(d))return!1;y=!0}continue}const M=In(8&d?"class":I,h,gs(s),u);if(-1===M){if(hi(d))return!1;y=!0;continue}if(""!==D){let R;R=M>p?"":h[M+1].toLowerCase();const P=8&d?R:null;if(P&&-1!==$t(P,D,0)||2&d&&D!==R){if(hi(d))return!1;y=!0}}}}else{if(!y&&!hi(d)&&!hi(I))return!1;if(y&&hi(I))continue;y=!1,d=I|1&d}}return hi(d)||y}function hi(s){return 0==(1&s)}function In(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function pd(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function sp(s,o,u=!1){for(let d=0;d<o.length;d++)if(ny(s,o[d],u))return!0;return!1}function pl(s,o){return s?":not("+o.trim()+")":o}function op(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const E=s[++u];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!hi(y)&&(o+=pl(p,h),h=""),d=y,p=p||!hi(d);u++}return""!==h&&(o+=pl(p,h)),o}function gl(s){return hn(()=>{const o=yl(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||fn.Emulated,styles:s.styles||At,_:null,schemas:s.schemas||null,tView:null,id:""};vl(u);const d=s.dependencies;return u.directiveDefs=Cl(d,!1),u.pipeDefs=Cl(d,!0),u.id=function oy(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of u)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function sy(s){return Vt(s)||Xn(s)}function up(s){return null!==s}function lp(s){return hn(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ml(s,o){if(null==s)return xn;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}function _l(s){return hn(()=>{const o=yl(s);return vl(o),o})}function ou(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vt(s){return s[po]||null}function Xn(s){return s[oe]||null}function lr(s){return s[W]||null}function Hs(s){const o=Vt(s)||Xn(s)||lr(s);return null!==o&&o.standalone}function Ir(s,o){const u=s[Te]||null;if(!u&&!0===o)throw new Error(`Type ${Oe(s)} does not have '\u0275mod' property.`);return u}function yl(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||xn,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ml(s.inputs,o),outputs:ml(s.outputs)}}function vl(s){s.features?.forEach(o=>o(s))}function Cl(s,o){if(!s)return null;const u=o?lr:sy;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(up)}const Tn=0,$e=1,ft=2,tn=3,Ln=4,go=5,er=6,Tr=7,Nn=8,Gs=9,ms=10,lt=11,El=12,md=13,oa=14,Dn=15,mo=16,fi=17,Wi=18,wl=19,zs=20,aa=21,qi=22,xi=23,_s=24,It=25,_d=1,uy=2,Zi=7,qs=9,cr=11;function Dr(s){return Array.isArray(s)&&"object"==typeof s[_d]}function Qt(s){return Array.isArray(s)&&!0===s[_d]}function Il(s){return 0!=(4&s.flags)}function ua(s){return s.componentOffset>-1}function la(s){return 1==(1&s.flags)}function kr(s){return!!s.template}function vd(s){return 0!=(512&s[ft])}function Zs(s,o){return s.hasOwnProperty(Ge)?s[Ge]:null}let Dd=un.WeakRef??class _p{constructor(o){this.ref=o}deref(){return this.ref}},ca=0,Ni=null,bd=!1;function bn(s){const o=Ni;return Ni=s,o}class Sd{constructor(){this.id=ca++,this.ref=function _y(s){return new Dd(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const d=u.producerNode.deref();if(void 0!==d&&u.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=bd;bd=!0;try{for(const[u,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),h?.producers.delete(this.id))}}finally{bd=o}}producerAccessed(){if(bd)throw new Error("");if(null===Ni)return;let o=Ni.producers.get(this.id);void 0===o?(o={consumerNode:Ni.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ni.trackingVersion},Ni.producers.set(this.id,o),this.consumers.set(Ni.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Ni.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ni?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Md=null;function O0(s){const o=bn(null);try{return s()}finally{bn(o)}}const Sl=()=>{};class vy extends Sd{constructor(o,u,d){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=Sl,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=bn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Sl,this.watch(this.registerOnCleanup)}finally{bn(o)}}cleanup(){this.cleanupFn()}}class Ip{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Tp(){return Nd}function Nd(s){return s.type.prototype.ngOnChanges&&(s.setInput=F0),k0}function k0(){const s=Rd(this),o=s?.current;if(o){const u=s.previous;if(u===xn)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function F0(s,o,u,d){const h=this.declaredInputs[u],p=Rd(s)||function L0(s,o){return s[Dp]=o}(s,{previous:xn,current:null}),y=p.current||(p.current={}),E=p.previous,I=E[h];y[h]=new Ip(I&&I.currentValue,o,E===xn),s[d]=o}Tp.ngInherit=!0;const Dp="__ngSimpleChanges__";function Rd(s){return s[Dp]||null}const Qr=function(s,o,u){};function Zt(s){for(;Array.isArray(s);)s=s[Tn];return s}function da(s,o){return Zt(o[s])}function Jr(s,o){return Zt(o[s.index])}function Sp(s,o){return s.data[o]}function Xr(s,o){const u=o[s];return Dr(u)?u:u[Tn]}function pi(s,o){return null==o?null:s[o]}function Ki(s){s[fi]=0}function Ml(s){1024&s[ft]||(s[ft]|=1024,xp(s,1))}function Mp(s){1024&s[ft]&&(s[ft]&=-1025,xp(s,-1))}function xp(s,o){let u=s[tn];if(null===u)return;u[go]+=o;let d=u;for(u=u[tn];null!==u&&(1===o&&1===d[go]||-1===o&&0===d[go]);)u[go]+=o,d=u,u=u[tn]}const ct={lFrame:Vp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pp(){return ct.bindingsEnabled}function _e(){return ct.lFrame.lView}function kt(){return ct.lFrame.tView}function kp(s){return ct.lFrame.contextLView=s,s[Nn]}function au(s){return ct.lFrame.contextLView=null,s}function dr(){let s=mn();for(;null!==s&&64===s.type;)s=s.parent;return s}function mn(){return ct.lFrame.currentTNode}function gi(s,o){const u=ct.lFrame;u.currentTNode=s,u.isParent=o}function Fd(){return ct.lFrame.isParent}function ys(){return ct.lFrame.bindingIndex++}function mi(s){const o=ct.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Ud(s,o){const u=ct.lFrame;u.bindingIndex=u.bindingRootIndex=s,Yi(o)}function Yi(s){ct.lFrame.currentDirectiveIndex=s}function Bd(){return ct.lFrame.currentQueryIndex}function cu(s){ct.lFrame.currentQueryIndex=s}function Lp(s){const o=s[$e];return 2===o.type?o.declTNode:1===o.type?s[er]:null}function $0(s,o,u){if(u&Qe.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&Qe.Host||(h=Lp(p),null===h||(p=p[oa],10&h.type))););if(null===h)return!1;o=h,s=p}const d=ct.lFrame=Ay();return d.currentTNode=o,d.lView=s,!0}function $d(s){const o=Ay(),u=s[$e];ct.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Ay(){const s=ct.lFrame,o=null===s?null:s.child;return null===o?Vp(s):o}function Vp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function My(){const s=ct.lFrame;return ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xy=My;function Up(){const s=My();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fr(){return ct.lFrame.selectedIndex}function ha(s){ct.lFrame.selectedIndex=s}function ln(){const s=ct.lFrame;return Sp(s.tView,s.selectedIndex)}let $p=!0;function Hd(){return $p}function wo(s){$p=s}function br(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:A}=p;y&&(s.contentHooks??=[]).push(-u,y),E&&((s.contentHooks??=[]).push(u,E),(s.contentCheckHooks??=[]).push(u,E)),I&&(s.viewHooks??=[]).push(-u,I),D&&((s.viewHooks??=[]).push(u,D),(s.viewCheckHooks??=[]).push(u,D)),null!=A&&(s.destroyHooks??=[]).push(u,A)}}function vs(s,o,u){nt(s,o,3,u)}function fa(s,o,u,d){(3&s[ft])===u&&nt(s,o,u,d)}function Rn(s,o){let u=s[ft];(3&u)===o&&(u&=8191,u+=1,s[ft]=u)}function nt(s,o,u,d){const p=d??-1,y=o.length-1;let E=0;for(let I=void 0!==d?65535&s[fi]:0;I<y;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=d&&E>=d)break}else o[I]<0&&(s[fi]+=65536),(E<p||-1==p)&&(Gd(s,u,o,I),s[fi]=(4294901760&s[fi])+I+2),I++}function _i(s,o){Qr(4,s,o);const u=bn(null);try{o.call(s)}finally{bn(u),Qr(5,s,o)}}function Gd(s,o,u,d){const h=u[d]<0,p=u[d+1],E=s[h?-u[d]:u[d]];h?s[ft]>>13<s[fi]>>16&&(3&s[ft])===o&&(s[ft]+=8192,_i(E,p)):_i(E,p)}const Cs=-1;class Io{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ks(s){return s!==Cs}function pa(s){return 32767&s}function kl(s,o){let u=function yi(s){return s>>16}(s),d=o;for(;u>0;)d=d[oa],u--;return d}let To=!0;function Fl(s){const o=To;return To=s,o}const jp=255,Do=5;let bo=0;const Ji={};function ga(s,o){const u=Vl(s,o);if(-1!==u)return u;const d=o[$e];d.firstCreatePass&&(s.injectorIndex=o.length,Ll(d.data,s),Ll(o,null),Ll(d.blueprint,null));const h=Es(s,o),p=s.injectorIndex;if(Ks(h)){const y=pa(h),E=kl(h,o),I=E[$e].data;for(let D=0;D<8;D++)o[p+D]=E[y+D]|I[y+D]}return o[p+8]=h,p}function Ll(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Vl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Es(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=Xi(h),null===d)return Cs;if(u++,h=h[oa],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Cs}function vi(s,o,u){!function So(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ut)&&(d=u[ut]),null==d&&(d=u[ut]=bo++);const h=d&jp;o.data[s+(h>>Do)]|=1<<h}(s,o,u)}function Lr(s,o,u){if(u&Qe.Optional||void 0!==s)return s;Ai()}function du(s,o,u,d){if(u&Qe.Optional&&void 0===d&&(d=null),!(u&(Qe.Self|Qe.Host))){const h=s[Gs],p=Bt(void 0);try{return h?h.get(o,d,u&Qe.Optional):hs(o,d,u&Qe.Optional)}finally{Bt(p)}}return Lr(d,0,u)}function Ul(s,o,u,d=Qe.Default,h){if(null!==s){if(2048&o[ft]&&!(d&Qe.Self)){const y=function zn(s,o,u,d,h){let p=s,y=o;for(;null!==p&&null!==y&&2048&y[ft]&&!(512&y[ft]);){const E=Ys(p,y,u,d|Qe.Self,Ji);if(E!==Ji)return E;let I=p.parent;if(!I){const D=y[zs];if(D){const A=D.get(u,Ji,d);if(A!==Ji)return A}I=Xi(y),y=y[oa]}p=I}return h}(s,o,u,d,Ji);if(y!==Ji)return y}const p=Ys(s,o,u,d,Ji);if(p!==Ji)return p}return du(o,u,d,h)}function Ys(s,o,u,d,h){const p=function ws(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ut)?s[ut]:void 0;return"number"==typeof o?o>=0?o&jp:Kd:o}(u);if("function"==typeof p){if(!$0(o,s,d))return d&Qe.Host?Lr(h,0,d):du(o,u,d,h);try{const y=p(d);if(null!=y||d&Qe.Optional)return y;Ai()}finally{xy()}}else if("number"==typeof p){let y=null,E=Vl(s,o),I=Cs,D=d&Qe.Host?o[Dn][er]:null;for((-1===E||d&Qe.SkipSelf)&&(I=-1===E?Es(s,o):o[E+8],I!==Cs&&hu(d,!1)?(y=o[$e],E=pa(I),o=kl(I,o)):E=-1);-1!==E;){const A=o[$e];if(Gn(p,E,A.data)){const M=tr(E,o,u,y,d,D);if(M!==Ji)return M}I=o[E+8],I!==Cs&&hu(d,o[$e].data[E+8]===D)&&Gn(p,E,o)?(y=A,E=pa(I),o=kl(I,o)):E=-1}}return h}function tr(s,o,u,d,h,p){const y=o[$e],E=y.data[s+8],A=Ri(E,y,u,null==d?ua(E)&&To:d!=y&&0!=(3&E.type),h&Qe.Host&&p===E);return null!==A?Ao(o,y,A,E):Ji}function Ri(s,o,u,d,h){const p=s.providerIndexes,y=o.data,E=1048575&p,I=s.directiveStart,A=p>>20,R=h?E+A:s.directiveEnd;for(let P=d?E:E+A;P<R;P++){const ie=y[P];if(P<I&&u===ie||P>=I&&ie.type===u)return P}if(h){const P=y[I];if(P&&kr(P)&&P.type===u)return I}return null}function Ao(s,o,u,d){let h=s[u];const p=o.data;if(function Py(s){return s instanceof Io}(h)){const y=h;y.resolving&&function En(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new K(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(p[u]));const E=Fl(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Bt(y.injectImpl):null;$0(s,d,Qe.Default);try{h=s[u]=y.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function z0(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Nd(o);(u.preOrderHooks??=[]).push(s,y),(u.preOrderCheckHooks??=[]).push(s,y)}h&&(u.preOrderHooks??=[]).push(0-s,h),p&&((u.preOrderHooks??=[]).push(s,p),(u.preOrderCheckHooks??=[]).push(s,p))}(u,p[u],o)}finally{null!==I&&Bt(I),Fl(E),y.resolving=!1,xy()}}return h}function Gn(s,o,u){return!!(u[o+(s>>Do)]&1<<s)}function hu(s,o){return!(s&Qe.Self||s&Qe.Host&&o)}class Mo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Ul(this._tNode,this._lView,o,q(d),u)}}function Kd(){return new Mo(dr(),_e())}function Is(s){return hn(()=>{const o=s.prototype.constructor,u=o[Ge]||Ts(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Ge]||Ts(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ts(s){return ve(s)?()=>{const o=Ts(De(s));return o&&o()}:Zs(s)}function Xi(s){const o=s[$e],u=o.type;return 2===u?o.declTNode:1===u?s[er]:null}function Bl(s){return function Zd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(pn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(dr(),s)}const Js="__parameters__";function dt(s,o,u){return hn(()=>{const d=function ma(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(I,D,A){const M=I.hasOwnProperty(Js)?I[Js]:Object.defineProperty(I,Js,{value:[]})[Js];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(y),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function ya(s,o){s.forEach(u=>Array.isArray(u)?ya(u,o):o(u))}function gu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Ds(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function nr(s,o,u){let d=Ca(s,o);return d>=0?s[1|d]=u:(d=~d,function No(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function va(s,o){const u=Ca(s,o);if(u>=0)return s[1|u]}function Ca(s,o){return function Ea(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<u];if(o===y)return p<<u;y>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const wa=tt(dt("Optional"),8),th=tt(dt("SkipSelf"),4);function Zp(s){return 128==(128&s.flags)}var Xs=(()=>((Xs=Xs||{})[Xs.Important=1]="Important",Xs[Xs.DashCase=2]="DashCase",Xs))();const wu=new Map;let rI=0;const Yp="__ngContext__";function Ur(s,o){Dr(o)?(s[Yp]=o[wl],function Gy(s){wu.set(s[wl],s)}(o)):s[Yp]=o}let Tu;function Zy(s,o){return Tu(s,o)}function Du(s){const o=s[tn];return Qt(o)?o[tn]:o}function Ky(s){return Qy(s[El])}function Yy(s){return Qy(s[Ln])}function Qy(s){for(;null!==s&&!Qt(s);)s=s[Ln];return s}function Ql(s,o,u,d,h){if(null!=d){let p,y=!1;Qt(d)?p=d:Dr(d)&&(y=!0,d=d[Tn]);const E=Zt(d);0===s&&null!==u?null==h?Au(o,u,E):Su(o,u,E,h||null,!0):1===s&&null!==u?Su(o,u,E,h||null,!0):2===s?function Mu(s,o,u){const d=ba(s,o);d&&function tM(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function rM(s,o,u,d,h){const p=u[Zi];p!==Zt(u)&&Ql(o,s,d,p,h);for(let E=cr;E<u.length;E++){const I=u[E];ch(I[$e],I,s,o,d,p)}}(o,s,p,u,h)}}function Xy(s,o,u){return s.createElement(o,u)}function cI(s,o){const u=s[qs],d=u.indexOf(o);Mp(o),u.splice(d,1)}function bu(s,o){if(s.length<=cr)return;const u=cr+o,d=s[u];if(d){const h=d[mo];null!==h&&h!==s&&cI(h,d),o>0&&(s[u-1][Ln]=d[Ln]);const p=Ds(s,cr+o);!function YA(s,o){ch(s,o,o[lt],2,null,null),o[Tn]=null,o[er]=null}(d[$e],d);const y=p[Wi];null!==y&&y.detachView(p[$e]),d[tn]=null,d[Ln]=null,d[ft]&=-129}return d}function XA(s,o){if(!(256&o[ft])){const u=o[lt];o[xi]?.destroy(),o[_s]?.destroy(),u.destroyNode&&ch(s,o,u,3,null,null),function JA(s){let o=s[El];if(!o)return tv(s[$e],s);for(;o;){let u=null;if(Dr(o))u=o[El];else{const d=o[cr];d&&(u=d)}if(!u){for(;o&&!o[Ln]&&o!==s;)Dr(o)&&tv(o[$e],o),o=o[tn];null===o&&(o=s),Dr(o)&&tv(o[$e],o),u=o&&o[Ln]}o=u}}(o)}}function tv(s,o){if(!(256&o[ft])){o[ft]&=-129,o[ft]|=256,function dI(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof Io)){const p=u[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],I=p[y+1];Qr(4,E,I);try{I.call(E)}finally{Qr(5,E,I)}}else{Qr(4,h,p);try{p.call(h)}finally{Qr(5,h,p)}}}}}(s,o),function eM(s,o){const u=s.cleanup,d=o[Tr];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const y=u[p+3];y>=0?d[y]():d[-y].unsubscribe(),p+=2}else u[p].call(d[u[p+1]]);null!==d&&(o[Tr]=null);const h=o[aa];if(null!==h){o[aa]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,o),1===o[$e].type&&o[lt].destroy();const u=o[mo];if(null!==u&&Qt(o[tn])){u!==o[tn]&&cI(u,o);const d=o[Wi];null!==d&&d.detachView(s)}!function Yl(s){wu.delete(s[wl])}(o)}}function Jl(s,o,u){return function hI(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[Tn];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===fn.None||p===fn.Emulated)return null}return Jr(d,u)}}(s,o.parent,u)}function Su(s,o,u,d,h){s.insertBefore(o,u,d,h)}function Au(s,o,u){s.appendChild(o,u)}function Xl(s,o,u,d,h){null!==d?Su(s,o,u,d,h):Au(s,o,u)}function ba(s,o){return s.parentNode(o)}let nv,sv,rg,gI=function pI(s,o,u){return 40&s.type?Jr(s,u):null};function eg(s,o,u,d){const h=Jl(s,d,o),p=o[lt],E=function fI(s,o,u){return gI(s,o,u)}(d.parent||o[er],d,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Xl(p,h,u[I],E,!1);else Xl(p,h,u,E,!1);void 0!==nv&&nv(p,d,o,u,h)}function tg(s,o){if(null!==o){const u=o.type;if(3&u)return Jr(o,s);if(4&u)return ng(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return tg(s,d);{const h=s[o.index];return Qt(h)?ng(-1,h):Zt(h)}}if(32&u)return Zy(o,s)()||Zt(s[o.index]);{const d=_I(s,o);return null!==d?Array.isArray(d)?d[0]:tg(Du(s[Dn]),d):tg(s,o.next)}}return null}function _I(s,o){return null!==o?s[Dn][er].projection[o.projection]:null}function ng(s,o){const u=cr+s+1;if(u<o.length){const d=o[u],h=d[$e].firstChild;if(null!==h)return tg(d,h)}return o[Zi]}function rv(s,o,u,d,h,p,y){for(;null!=u;){const E=d[u.index],I=u.type;if(y&&0===o&&(E&&Ur(Zt(E),d),u.flags|=2),32!=(32&u.flags))if(8&I)rv(s,o,u.child,d,h,p,!1),Ql(o,s,h,E,p);else if(32&I){const D=Zy(u,d);let A;for(;A=D();)Ql(o,s,h,A,p);Ql(o,s,h,E,p)}else 16&I?yI(s,o,d,u,h,p):Ql(o,s,h,E,p);u=y?u.projectionNext:u.next}}function ch(s,o,u,d,h,p){rv(u,d,s.firstChild,o,h,p,!1)}function yI(s,o,u,d,h,p){const y=u[Dn],I=y[er].projection[d.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Ql(o,s,h,I[D],p);else{let D=I;const A=y[tn];Zp(d)&&(D.flags|=128),rv(s,o,D,A,h,p,!0)}}function vI(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function CI(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&Fn(s,o,d),null!==h&&vI(s,o,h),null!==p&&function sM(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function uM(s){sv=s}function II(s){return function hh(){if(void 0===rg&&(rg=null,un.trustedTypes))try{rg=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rg}()?.createScriptURL(s)||s}class TI{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ce})`}}function Sa(s){return s instanceof TI?s.changingThisBreaksApplicationSecurity:s}function fh(s,o){const u=function fM(s){return s instanceof TI&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${Ce})`)}return u===o}const CM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function MI(s){const o=ki();return o?o.sanitize(Wn.URL,s)||"":fh(s,"URL")?Sa(s):function sg(s){return(s=String(s)).match(CM)?s:"unsafe:"+s}(me(s))}function hv(s){const o=ki();if(o)return II(o.sanitize(Wn.RESOURCE_URL,s)||"");if(fh(s,"ResourceURL"))return II(Sa(s));throw new K(904,!1)}function pv(s,o,u){return function fv(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?hv:MI}(o,u)(s)}function ki(){const s=_e();return s&&s[ms].sanitizer}class Kt{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=mt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lg=new Kt("ENVIRONMENT_INITIALIZER"),MM=new Kt("INJECTOR",-1),xM=new Kt("INJECTOR_DEF_TYPES");class gv{get(o,u=zi){if(u===zi){const d=new Error(`NullInjectorError: No provider for ${Oe(o)}!`);throw d.name="NullInjectorError",d}return u}}function _v(...s){return{\u0275providers:xI(0,s),\u0275fromNgModule:!0}}function xI(s,...o){const u=[],d=new Set;let h;return ya(o,p=>{const y=p;RI(y,u,[],d)&&(h||=[],h.push(y))}),void 0!==h&&NI(h,u),u}function NI(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];yv(h,p=>{o.push(p)})}}function RI(s,o,u,d){if(!(s=De(s)))return!1;let h=null,p=Bs(s);const y=!p&&Vt(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=Bs(I),!p)return!1;h=I}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const D of I)RI(D,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let D;d.add(h);try{ya(p.imports,A=>{RI(A,o,u,d)&&(D||=[],D.push(A))})}finally{}void 0!==D&&NI(D,o)}if(!E){const D=Zs(h)||(()=>new h);o.push({provide:h,useFactory:D,deps:At},{provide:xM,useValue:h,multi:!0},{provide:lg,useValue:()=>F(h),multi:!0})}const I=p.providers;null==I||E||yv(I,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}function yv(s,o){for(let u of s)de(u)&&(u=u.\u0275providers),Array.isArray(u)?yv(u,o):o(u)}const Wk=ce({provide:String,useValue:ce});function PI(s){return null!==s&&"object"==typeof s&&Wk in s}function tc(s){return"function"==typeof s}const vv=new Kt("Set Injector scope."),cg={},FI={};let Cv;function dg(){return void 0===Cv&&(Cv=new gv),Cv}class Ru{}class Ev extends Ru{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VI(o,y=>this.processProvider(y)),this.records.set(MM,gh(void 0,this)),h.has("environment")&&this.records.set(Ru,gh(void 0,this));const p=this.records.get(vv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(xM.multi,At,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=ar(this),d=Bt(void 0);try{return o()}finally{ar(u),Bt(d)}}get(o,u=zi,d=Qe.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Et))return o[Et](this);d=q(d);const h=ar(this),p=Bt(void 0);try{if(!(d&Qe.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function Kk(s){return"function"==typeof s||"object"==typeof s&&s instanceof Kt}(o)&&Hi(o);E=I&&this.injectableDefInScope(I)?gh(wv(o),cg):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&Qe.Self?dg():this.parent).get(o,u=d&Qe.Optional&&u===zi?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[ci]=y[ci]||[]).unshift(Oe(o)),h)throw y;return function ur(s,o,u,d){const h=s[ci];throw o[Jn]&&h.unshift(o[Jn]),s.message=function wn(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Oe(o);if(Array.isArray(o))h=o.map(Oe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Oe(E)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(wr,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[ci]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Bt(p),ar(h)}}resolveInjectorInitializers(){const o=ar(this),u=Bt(void 0);try{const d=this.get(lg.multi,At,Qe.Self);for(const h of d)h()}finally{ar(o),Bt(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(Oe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(o){let u=tc(o=De(o))?o:De(o&&o.provide);const d=function PM(s){return PI(s)?gh(void 0,s.useValue):gh(OM(s),cg)}(o);if(tc(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=gh(void 0,cg,!0),h.factory=()=>He(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===cg&&(u.value=FI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Zk(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=De(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function wv(s){const o=Hi(s),u=null!==o?o.factory:Zs(s);if(null!==u)return u;if(s instanceof Kt)throw new K(204,!1);if(s instanceof Function)return function LI(s){const o=s.length;if(o>0)throw function xt(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}(o,"?"),new K(204,!1);const u=function Us(s){return s&&(s[Ut]||s[et])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new K(204,!1)}function OM(s,o,u){let d;if(tc(s)){const h=De(s);return Zs(h)||wv(h)}if(PI(s))d=()=>De(s.useValue);else if(function OI(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...He(s.deps||[]));else if(function RM(s){return!(!s||!s.useExisting)}(s))d=()=>F(De(s.useExisting));else{const h=De(s&&(s.useClass||s.provide));if(!function qk(s){return!!s.deps}(s))return Zs(h)||wv(h);d=()=>new h(...He(s.deps))}return d}function gh(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function VI(s,o){for(const u of s)Array.isArray(u)?VI(u,o):u&&de(u)?VI(u.\u0275providers,o):o(u)}const st=new Kt("AppId",{providedIn:"root",factory:()=>kM}),kM="ng",UI=new Kt("Platform Initializer"),ue=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ts=new Kt("CSP nonce",{providedIn:"root",factory:()=>function Nu(){if(void 0!==sv)return sv;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let BM=(s,o)=>null;function mg(s,o){return BM(s,o)}class Vo{}class Mv{}class Rv{resolveComponentFactory(o){throw function xv(s){const o=Error(`No component factory found for ${Oe(s)}.`);return o.ngComponent=s,o}(o)}}let Eh=(()=>{class s{}return s.NULL=new Rv,s})();function zI(){return Aa(dr(),_e())}function Aa(s,o){return new ku(Jr(s,o))}let ku=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=zI,s})();function zM(s){return s instanceof ku?s.nativeElement:s}class WI{}let WM=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function Pv(){const s=_e(),u=Xr(dr().index,s);return(Dr(u)?u:s)[lt]}(),s})(),qI=(()=>{class s{}return s.\u0275prov=mt({token:s,providedIn:"root",factory:()=>null}),s})();class ZI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const KI=new ZI("16.1.4"),wh={};function Ih(s){for(;s;){s[ft]|=64;const o=Du(s);if(vd(s)&&!o)return s;s=o}return null}function Ma(s){return s.ngOriginalError}class Fu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Ma(o);for(;u&&Ma(u);)u=Ma(u);return u||null}}const Ov=new Kt("",{providedIn:"root",factory:()=>!1});function Ms(s){return s instanceof Function?s():s}class rT extends Sd{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Ih(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,d){const h=bn(this);this.trackingVersion++;try{o(u,d)}finally{bn(h)}}destroy(){this.trackingVersion++}}let Ig=null;function iT(){return Ig??=new rT,Ig}function Tg(s,o){return s[o]??iT()}function sT(s,o){const u=iT();u.hasReadASignal&&(s[o]=Ig,u.lView=s,Ig=new rT)}const pt={};function Fv(s){Lv(kt(),_e(),Fr()+s,!1)}function Lv(s,o,u,d){if(!d)if(3==(3&o[ft])){const p=s.preOrderCheckHooks;null!==p&&vs(o,p,u)}else{const p=s.preOrderHooks;null!==p&&fa(o,p,0,u)}ha(u)}function Uv(s,o=null,u=null,d){const h=uT(s,o,u,d);return h.resolveInjectorInitializers(),h}function uT(s,o=null,u=null,d,h=new Set){const p=[u||At,_v(s)];return d=d||("object"==typeof s?void 0:Oe(s)),new Ev(p,o||dg(),d||null,h)}let Ra=(()=>{class s{static create(u,d){if(Array.isArray(u))return Uv({name:""},d,u,"");{const h=u.name??"";return Uv({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=zi,s.NULL=new gv,s.\u0275prov=mt({token:s,providedIn:"any",factory:()=>F(MM)}),s.__NG_ELEMENT_ID__=-1,s})();function rc(s,o=Qe.Default){const u=_e();return null===u?F(s,o):Ul(dr(),u,De(s),o)}function lT(){throw new Error("invalid")}function ic(s,o,u,d,h,p,y,E,I,D,A){const M=o.blueprint.slice();return M[Tn]=h,M[ft]=140|d,(null!==D||s&&2048&s[ft])&&(M[ft]|=2048),Ki(M),M[tn]=M[oa]=s,M[Nn]=u,M[ms]=y||s&&s[ms],M[lt]=E||s&&s[lt],M[Gs]=I||s&&s[Gs]||null,M[er]=p,M[wl]=function Hy(){return rI++}(),M[qi]=A,M[zs]=D,M[Dn]=2==o.type?s[Dn]:M,M}function sc(s,o,u,d,h){let p=s.data[o];if(null===p)p=function bh(s,o,u,d,h){const p=mn(),y=Fd(),I=s.data[o]=function sx(s,o,u,d,h,p){let y=o?o.injectorIndex:-1,E=0;return function Eo(){return null!==ct.skipHydrationRootTNode}()&&(E|=128),{type:u,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(s,o,u,d,h),function B0(){return ct.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const y=function Rl(){const s=ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return gi(p,!0),p}function Sh(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ag(s,o,u,d,h){const p=Tg(o,xi),y=Fr(),E=2&d;try{if(ha(-1),E&&o.length>It&&Lv(s,o,It,!1),Qr(E?2:0,h),E)p.runInContext(u,d,h);else{const D=bn(null);try{u(d,h)}finally{bn(D)}}}finally{E&&null===o[xi]&&sT(o,xi),ha(y),Qr(E?3:1,h)}}function Bv(s,o,u){if(Il(o)){const d=bn(null);try{const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}finally{bn(d)}}}function Ah(s,o,u){Pp()&&(function Hv(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;ua(u)&&function nF(s,o,u){const d=Jr(o,s),h=tx(u);let y=16;u.signals?y=4096:u.onPush&&(y=64);const E=Ng(s,ic(s,h,null,y,d,o,null,s[ms].rendererFactory.createRenderer(d,u),null,null,null));s[o.index]=E}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||ga(u,o),Ur(d,o);const y=u.initialInputs;for(let E=h;E<p;E++){const I=s.data[E],D=Ao(o,s,E,u);Ur(D,o),null!==y&&rF(0,E-h,D,I,0,y),kr(I)&&(Xr(u.index,o)[Nn]=Ao(o,s,E,u))}}(s,o,u,Jr(u,o)),64==(64&u.flags)&&lx(s,o,u))}function $v(s,o,u=Jr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],E=-1===y?u(o,s):s[y];s[h++]=E}}}function tx(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Mh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function Mh(s,o,u,d,h,p,y,E,I,D,A){const M=It+d,R=M+h,P=function Qk(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:pt);return u}(M,R),ie="function"==typeof D?D():D;return P[$e]={type:s,blueprint:P,template:u,queries:null,viewQuery:E,declTNode:o,data:P.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ie,incompleteFirstPass:!1,ssrId:A}}let Mg=s=>null;function dT(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?xg(u,o,h,p):d.hasOwnProperty(h)&&xg(u,o,d[h],p)}return u}function xg(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function jv(s,o,u,d){if(Pp()){const h=null===d?null:{"":-1},p=function Gv(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];if(sp(o,y.selectors,!1))if(d||(d=[]),kr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),zv(s,o,E.length)}else d.unshift(y),zv(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&fT(s,o,u,y,h,E),h&&function dx(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new K(-301,!1);d.push(o[h],p)}}}(u,d,h)}u.mergedAttrs=ps(u.mergedAttrs,u.attrs)}function fT(s,o,u,d,h,p){for(let D=0;D<d.length;D++)vi(ga(u,o),s,d[D].type);!function eF(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let D=0;D<d.length;D++){const A=d[D];A.providersResolver&&A.providersResolver(A)}let y=!1,E=!1,I=Sh(s,o,d.length,null);for(let D=0;D<d.length;D++){const A=d[D];u.mergedAttrs=ps(u.mergedAttrs,A.hostAttrs),tF(s,u,o,I,A),Wv(I,A,h),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const M=A.type.prototype;!y&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),y=!0),!E&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),E=!0),I++}!function hT(s,o,u){const h=o.directiveEnd,p=s.data,y=o.attrs,E=[];let I=null,D=null;for(let A=o.directiveStart;A<h;A++){const M=p[A],R=u?u.get(M):null,ie=R?R.outputs:null;I=dT(M.inputs,A,I,R?R.inputs:null),D=dT(M.outputs,A,D,ie);const we=null===I||null===y||gs(o)?null:hx(I,A,y);E.push(we)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=I,o.outputs=D}(s,u,p)}function lx(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,y=function Ol(){return ct.lFrame.currentDirectiveIndex}();try{ha(p);for(let E=d;E<h;E++){const I=s.data[E],D=o[E];Yi(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&cx(I,D)}}finally{ha(-1),Yi(y)}}function cx(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function zv(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function Wv(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;kr(o)&&(u[""]=s)}}function tF(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=Zs(h.type)),y=new Io(p,kr(h),rc);s.blueprint[d]=y,u[d]=y,function pT(s,o,u,d,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function ux(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(y)!=E&&y.push(E),y.push(u,d,p)}}(s,o,d,Sh(s,u,h.hostVars,pt),h)}function Uo(s,o,u,d,h,p){const y=Jr(s,o);!function oc(s,o,u,d,h,p,y){if(null==p)s.removeAttribute(o,h,u);else{const E=null==y?me(p):y(p,d||"",h);s.setAttribute(o,h,E,u)}}(o[lt],y,p,s.value,u,d,h)}function rF(s,o,u,d,h,p){const y=p[o];if(null!==y)for(let E=0;E<y.length;)gT(d,u,y[E++],y[E++],y[E++])}function gT(s,o,u,d,h){const p=bn(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(o,h)),null!==s.setInput?s.setInput(o,h,u,d):o[d]=h}finally{bn(p)}}function hx(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){d.push(p,y[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function mT(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null,null]}function _T(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const y=s.data[p];cu(u[d]),y.contentQueries(2,o[p],p)}}}function Ng(s,o){return s[El]?s[md][Ln]=o:s[El]=o,s[md]=o,o}function qv(s,o,u){cu(0);const d=bn(null);try{o(s,u)}finally{bn(d)}}function yT(s){return s[Tr]||(s[Tr]=[])}function vT(s){return s.cleanup||(s.cleanup=[])}function xh(s,o){const u=s[Gs],d=u?u.get(Fu,null):null;d&&d.handleError(o)}function Bo(s,o,u,d,h){for(let p=0;p<u.length;){const y=u[p++],E=u[p++];gT(s.data[y],o[y],d,E,h)}}function $o(s,o,u){const d=da(o,s);!function KA(s,o,u){s.setValue(o,u)}(s[lt],d,u)}function fx(s,o){const u=Xr(o,s),d=u[$e];!function px(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(d,u);const h=u[Tn];null!==h&&null===u[qi]&&(u[qi]=mg(h,u[Gs])),Zv(d,u,u[Nn])}function Zv(s,o,u){$d(o);try{const d=s.viewQuery;null!==d&&qv(1,d,u);const h=s.template;null!==h&&Ag(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&_T(s,o),s.staticViewQueries&&qv(2,s.viewQuery,u);const p=s.components;null!==p&&function gx(s,o){for(let u=0;u<o.length;u++)fx(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[ft]&=-5,Up()}}let wT=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(u,d,h){const p=typeof Zone>"u"?null:Zone.current,y=new vy(u,D=>{this.all.has(D)&&this.queue.set(D,p)},h);let E;this.all.add(y),y.notify();const I=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[u,d]of this.queue)this.queue.delete(u),d?d.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=mt({token:s,providedIn:"root",factory:()=>new s}),s})();function Rg(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?h=be(h,E):2==p&&(d=be(d,E+": "+o[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function ac(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(Zt(p)),Qt(p)){for(let E=cr;E<p.length;E++){const I=p[E],D=I[$e].firstChild;null!==D&&ac(I[$e],I,D,d)}p[Zi]!==p[Tn]&&d.push(p[Zi])}const y=u.type;if(8&y)ac(s,o,u.child,d);else if(32&y){const E=Zy(u,o);let I;for(;I=E();)d.push(I)}else if(16&y){const E=_I(o,u);if(Array.isArray(E))d.push(...E);else{const I=Du(o[Dn]);ac(I[$e],I,E,d,!0)}}u=h?u.projectionNext:u.next}return d}function Nh(s,o,u,d=!0){const h=o[ms].rendererFactory;h.begin&&h.begin();try{Yv(s,o,s.template,u)}catch(y){throw d&&xh(o,y),y}finally{h.end&&h.end(),o[ms].effectManager?.flush()}}function Yv(s,o,u,d){const h=o[ft];if(256!=(256&h)){o[ms].effectManager?.flush(),$d(o);try{Ki(o),function Vd(s){return ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Ag(s,o,u,2,d);const y=3==(3&h);if(y){const D=s.preOrderCheckHooks;null!==D&&vs(o,D,null)}else{const D=s.preOrderHooks;null!==D&&fa(o,D,0,null),Rn(o,0)}if(function IT(s){for(let o=Ky(s);null!==o;o=Yy(o)){if(!o[uy])continue;const u=o[qs];for(let d=0;d<u.length;d++){Ml(u[d])}}}(o),Pg(o,2),null!==s.contentQueries&&_T(s,o),y){const D=s.contentCheckHooks;null!==D&&vs(o,D)}else{const D=s.contentHooks;null!==D&&fa(o,D,1),Rn(o,1)}!function ex(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const d=Tg(o,_s);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)ha(~p);else{const y=p,E=u[++h],I=u[++h];Ud(E,y),d.runInContext(I,2,o[y])}}}finally{null===o[_s]&&sT(o,_s),ha(-1)}}(s,o);const E=s.components;null!==E&&TT(o,E,0);const I=s.viewQuery;if(null!==I&&qv(2,I,d),y){const D=s.viewCheckHooks;null!==D&&vs(o,D)}else{const D=s.viewHooks;null!==D&&fa(o,D,2),Rn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[ft]&=-73,Mp(o)}finally{Up()}}}function Pg(s,o){for(let u=Ky(s);null!==u;u=Yy(u))for(let d=cr;d<u.length;d++)Og(u[d],o)}function Qv(s,o,u){Og(Xr(o,s),u)}function Og(s,o){if(!function Ap(s){return 128==(128&s[ft])}(s))return;const u=s[$e];if(80&s[ft]&&0===o||1024&s[ft]||2===o)Yv(u,s,u.template,s[Nn]);else if(s[go]>0){Pg(s,1);const h=s[$e].components;null!==h&&TT(s,h,1)}}function TT(s,o,u){for(let d=0;d<o.length;d++)Qv(s,o[d],u)}class Rh{get rootNodes(){const o=this._lView,u=o[$e];return ac(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(o){this._lView[Nn]=o}get destroyed(){return 256==(256&this._lView[ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[tn];if(Qt(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(bu(o,d),Ds(u,d))}this._attachedToViewContainer=!1}XA(this._lView[$e],this._lView)}onDestroy(o){!function Np(s,o){if(256==(256&s[ft]))throw new K(911,!1);null===s[aa]&&(s[aa]=[]),s[aa].push(o)}(this._lView,o)}markForCheck(){Ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[ft]&=-129}reattach(){this._lView[ft]|=128}detectChanges(){Nh(this._lView[$e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QA(s,o){ch(s,o,o[lt],2,null,null)}(this._lView[$e],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=o}}class Jv extends Rh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Nh(o[$e],o,o[Nn],!1)}checkNoChanges(){}get context(){return null}}class DT extends Eh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Vt(o);return new Vu(u,this.ngModule)}}function bT(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class jo{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=q(d);const h=this.injector.get(o,wh,d);return h!==wh||u===wh?h:this.parentInjector.get(o,u,d)}}class Vu extends Mv{get inputs(){const o=this.componentDef,u=o.inputTransforms,d=bT(o.inputs);if(null!==u)for(const h of d)u.hasOwnProperty(h.propName)&&(h.transform=u[h.propName]);return d}get outputs(){return bT(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function iy(s){return s.map(op).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof Ru?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new jo(o,p):o,E=y.get(WI,null);if(null===E)throw new K(407,!1);const A={rendererFactory:E,sanitizer:y.get(qI,null),effectManager:y.get(wT,null)},M=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",P=d?function Jk(s,o,u,d){const p=d.get(Ov,!1)||u===fn.ShadowDom,y=s.selectRootElement(o,p);return function nx(s){Mg(s)}(y),y}(M,d,this.componentDef.encapsulation,y):Xy(M,R,function yx(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),Fe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ke=Mh(0,null,null,1,0,null,null,null,null,null,null),pe=ic(null,Ke,null,Fe,null,null,A,M,y,null,null);let gt,Nt;$d(pe);try{const Ft=this.componentDef;let Hr,nw=null;Ft.findHostDirectiveDefs?(Hr=[],nw=new Map,Ft.findHostDirectiveDefs(Ft,Hr,nw),Hr.push(Ft)):Hr=[Ft];const kR=function vx(s,o){const u=s[$e],d=It;return s[d]=o,sc(u,d,2,"#host",null)}(pe,P),zb=function Cx(s,o,u,d,h,p,y){const E=h[$e];!function Xv(s,o,u,d){for(const h of s)o.mergedAttrs=ps(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Rg(o,o.mergedAttrs,!0),null!==u&&CI(d,u,o))}(d,s,o,y);let I=null;null!==o&&(I=mg(o,h[Gs]));const D=p.rendererFactory.createRenderer(o,u);let A=16;u.signals?A=4096:u.onPush&&(A=64);const M=ic(h,tx(u),null,A,h[s.index],s,p,D,null,null,I);return E.firstCreatePass&&zv(E,s,d.length-1),Ng(h,M),h[s.index]=M}(kR,P,Ft,Hr,pe,A,M);Nt=Sp(Ke,It),P&&function Ex(s,o,u,d){if(d)Fn(s,u,["ng-version",KI.full]);else{const{attrs:h,classes:p}=function su(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!hi(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&Fn(s,u,h),p&&p.length>0&&vI(s,u,p.join(" "))}}(M,Ft,P,d),void 0!==u&&function wx(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(Nt,this.ngContentSelectors,u),gt=function MT(s,o,u,d,h,p){const y=dr(),E=h[$e],I=Jr(y,h);fT(E,h,y,u,null,d);for(let A=0;A<u.length;A++)Ur(Ao(h,E,y.directiveStart+A,y),h);lx(E,h,y),I&&Ur(I,h);const D=Ao(h,E,y.directiveStart+y.componentOffset,y);if(s[Nn]=h[Nn]=D,null!==p)for(const A of p)A(D,o);return Bv(E,y,s),D}(zb,Ft,Hr,nw,pe,[xT]),Zv(Ke,pe,null)}finally{Up()}return new ST(this.componentType,gt,Aa(Nt,pe),pe,Nt)}}class ST extends Vo{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new Jv(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const p=this._rootLView;Bo(p[$e],p,h,o,u),this.previousInputValues.set(o,u),Ih(Xr(this._tNode.index,p))}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xT(){const s=dr();br(_e()[$e],s)}function kg(s){let o=function NT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(kr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new K(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Fg(s.inputs),y.inputTransforms=Fg(s.inputTransforms),y.declaredInputs=Fg(s.declaredInputs),y.outputs=Fg(s.outputs);const E=h.hostBindings;E&&Pa(s,E);const I=h.viewQuery,D=h.contentQueries;if(I&&Tx(s,I),D&&aF(s,D),ze(s.inputs,h.inputs),ze(s.declaredInputs,h.declaredInputs),ze(s.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),ze(y.inputTransforms,h.inputTransforms)),kr(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===kg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Ix(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ps(h.hostAttrs,u=ps(u,h.hostAttrs))}}(d)}function Fg(s){return s===xn?{}:s===At?[]:s}function Tx(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function aF(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function Pa(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}function OT(s){const o=s.inputConfig,u={};for(const d in o)if(o.hasOwnProperty(d)){const h=o[d];Array.isArray(h)&&h[2]&&(u[d]=h[2])}s.inputTransforms=u}function lc(s){return!!Ph(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ph(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function sC(s,o,u,d){const h=_e();return fr(h,ys(),o)&&(kt(),Uo(ln(),h,s,o,u,d)),sC}function ka(s,o,u,d,h,p){const E=function Go(s,o,u,d){const h=fr(s,o,u);return fr(s,o+1,d)||h}(s,function ei(){return ct.lFrame.bindingIndex}(),u,h);return mi(2),E?o+me(u)+d+me(h)+p:pt}function Ux(s,o,u,d,h,p,y,E){const I=_e(),D=kt(),A=s+It,M=D.firstCreatePass?function hF(s,o,u,d,h,p,y,E,I){const D=o.consts,A=sc(o,s,4,y||null,pi(D,E));jv(o,u,A,pi(D,I)),br(o,A);const M=A.tView=Mh(2,A,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D,null);return null!==o.queries&&(o.queries.template(o,A),M.queries=o.queries.embeddedTView(A)),A}(A,D,I,o,u,d,h,p,y):D.data[A];gi(M,!1);const R=Wg(D,I,M,s);Hd()&&eg(D,I,R,M),Ur(R,I),Ng(I,I[A]=mT(R,I,R,M)),la(M)&&Ah(D,I,M),null!=y&&$v(I,M,E)}let Wg=function Bx(s,o,u,d){return wo(!0),o[lt].createComment("")};function mC(s,o,u){const d=_e();return fr(d,ys(),o)&&function Ei(s,o,u,d,h,p,y,E){const I=Jr(o,u);let A,D=o.inputs;!E&&null!=D&&(A=D[d])?(Bo(s,u,A,d,h),ua(o)&&function ax(s,o){const u=Xr(o,s);16&u[ft]||(u[ft]|=64)}(u,o.index)):3&o.type&&(d=function ox(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(I,d,h))}(kt(),ln(),d,s,o,d[lt],u,!1),mC}function _C(s,o,u,d,h){const y=h?"class":"style";Bo(s,u,o.inputs[y],y,d)}function Vn(s,o,u,d){const h=_e(),p=kt(),y=It+s,E=h[lt],I=p.firstCreatePass?function yC(s,o,u,d,h,p){const y=o.consts,I=sc(o,s,2,d,pi(y,h));return jv(o,u,I,pi(y,p)),null!==I.attrs&&Rg(I,I.attrs,!1),null!==I.mergedAttrs&&Rg(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,o,u,d):p.data[y],D=$T(p,h,I,E,o,s);h[y]=D;const A=la(I);return gi(I,!0),CI(E,D,I),32!=(32&I.flags)&&Hd()&&eg(p,h,D,I),0===function xl(){return ct.lFrame.elementDepthCount}()&&Ur(D,h),function Od(){ct.lFrame.elementDepthCount++}(),A&&(Ah(p,h,I),Bv(p,I,h)),null!==d&&$v(h,I),Vn}function Zg(){let s=dr();Fd()?function uu(){ct.lFrame.isParent=!1}():(s=s.parent,gi(s,!1));const o=s;(function Dy(s){return ct.skipHydrationRootTNode===s})(o)&&function Sy(){ct.skipHydrationRootTNode=null}(),function Nl(){ct.lFrame.elementDepthCount--}();const u=kt();return u.firstCreatePass&&(br(u,s),Il(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function jt(s){return 0!=(8&s.flags)}(o)&&_C(u,o,_e(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Oy(s){return 0!=(16&s.flags)}(o)&&_C(u,o,_e(),o.stylesWithoutHost,!1),Zg}function Sr(s,o,u,d){return Vn(s,o,u,d),Zg(),Sr}let $T=(s,o,u,d,h,p)=>(wo(!0),Xy(d,h,function Ry(){return ct.lFrame.currentNamespace}()));function GT(){return _e()}function wC(s){return!!s&&"function"==typeof s.then}function zT(s){return!!s&&"function"==typeof s.subscribe}function IC(s,o,u,d){const h=_e(),p=kt(),y=dr();return function ZT(s,o,u,d,h,p,y){const E=la(d),D=s.firstCreatePass&&vT(s),A=o[Nn],M=yT(o);let R=!0;if(3&d.type||y){const we=Jr(d,o),Fe=y?y(we):we,Ke=M.length,pe=y?Nt=>y(Zt(Nt[d.index])):d.index;let gt=null;if(!y&&E&&(gt=function qT(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===u&&h[p+1]===d){const E=o[Tr],I=h[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=p,gt.__ngLastListenerFn__=p,R=!1;else{p=Yg(d,o,A,p,!1);const Nt=u.listen(Fe,h,p);M.push(p,Nt),D&&D.push(h,pe,Ke,Ke+1)}}else p=Yg(d,o,A,p,!1);const P=d.outputs;let ie;if(R&&null!==P&&(ie=P[h])){const we=ie.length;if(we)for(let Fe=0;Fe<we;Fe+=2){const Ft=o[ie[Fe]][ie[Fe+1]].subscribe(p),Hr=M.length;M.push(p,Ft),D&&D.push(h,d.index,Hr,-(Hr+1))}}}(p,h,h[lt],y,s,o,d),IC}function KT(s,o,u,d){try{return Qr(6,o,u),!1!==u(d)}catch(h){return xh(s,h),!1}finally{Qr(7,o,u)}}function Yg(s,o,u,d,h){return function p(y){if(y===Function)return d;Ih(s.componentOffset>-1?Xr(s.index,o):o);let I=KT(o,u,d,y),D=p.__ngNextListenerFn__;for(;D;)I=KT(o,u,D,y)&&I,D=D.__ngNextListenerFn__;return h&&!1===I&&y.preventDefault(),I}}function YT(s=1){return function jd(s){return(ct.lFrame.contextLView=function j0(s,o){for(;s>0;)o=o[oa],s--;return o}(s,ct.lFrame.contextLView))[Nn]}(s)}function tm(s,o){return s<<17|o<<2}function no(s){return s>>17&32767}function AC(s){return 2|s}function zo(s){return(131068&s)>>2}function Vh(s,o){return-131069&s|o<<2}function nm(s){return 1|s}function sD(s,o,u,d,h){const p=s[u+1],y=null===o;let E=d?no(p):zo(p),I=!1;for(;0!==E&&(!1===I||y);){const A=s[E+1];ro(s[E],o)&&(I=!0,s[E+1]=d?nm(A):AC(A)),E=d?no(A):zo(A)}I&&(s[u+1]=d?AC(p):nm(p))}function ro(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ca(s,o)>=0}function Uh(s,o){return function xs(s,o,u,d){const h=_e(),p=kt(),y=mi(2);p.firstUpdatePass&&function PC(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[Fr()],y=function RC(s,o){return o>=s.expandoStartIndex}(s,u);(function pc(s,o){return 0!=(s.flags&(o?8:16))})(p,d)&&null===o&&!y&&(o=!1),o=function Jx(s,o,u,d){const h=function lu(s){const o=ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Bh(u=am(null,s,o,u,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(u=am(h,s,o,u,d),null===p){let I=function Xx(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==zo(d))return s[no(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=am(null,s,o,I[1],d),I=Bh(I,o.attrs,d),function om(s,o,u,d){s[no(u?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else p=function eN(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Bh(d,s[p].hostAttrs,u);return Bh(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function qx(s,o,u,d,h,p){let y=p?o.classBindings:o.styleBindings,E=no(y),I=zo(y);s[d]=u;let A,D=!1;if(Array.isArray(u)?(A=u[1],(null===A||Ca(u,A)>0)&&(D=!0)):A=u,h)if(0!==I){const R=no(s[E+1]);s[d+1]=tm(R,E),0!==R&&(s[R+1]=Vh(s[R+1],d)),s[E+1]=function SC(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=tm(E,0),0!==E&&(s[E+1]=Vh(s[E+1],d)),E=d;else s[d+1]=tm(I,0),0===E?E=d:s[I+1]=Vh(s[I+1],d),I=d;D&&(s[d+1]=AC(s[d+1])),sD(s,A,d,!0),sD(s,A,d,!1),function MC(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ca(p,o)>=0&&(u[d+1]=nm(u[d+1]))}(o,A,s,d,p),y=tm(E,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,u,y,d)}}(p,s,y,d),o!==pt&&fr(h,y,o)&&function lD(s,o,u,d,h,p,y,E){if(!(3&o.type))return;const I=s.data,D=I[E+1],A=function rD(s){return 1==(1&s)}(D)?nN(I,o,u,h,zo(D),y):void 0;um(A)||(um(p)||function Wx(s){return 2==(2&s)}(D)&&(p=nN(I,null,u,h,E,y)),function iM(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:Xs.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Xs.Important),s.setStyle(u,d,h,p))}}(d,y,da(Fr(),u),h,p))}(p,p.data[Fr()],h,h[lt],s,h[y+1]=function yF(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Oe(Sa(s)))),s}(o,u),d,y)}(s,o,null,!0),Uh}function am(s,o,u,d,h){let p=null;const y=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<y&&(p=o[E],d=Bh(d,p.hostAttrs,h),p!==s);)E++;return null!==s&&(u.directiveStylingLast=E),d}function Bh(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),nr(s,y,!!u||o[++p]))}return void 0===s?null:s}function nN(s,o,u,d,h,p){const y=null===o;let E;for(;h>0;){const I=s[h],D=Array.isArray(I),A=D?I[1]:I,M=null===A;let R=u[h+1];R===pt&&(R=M?At:void 0);let P=M?va(R,d):A===d?R:void 0;if(D&&!um(P)&&(P=va(I,d)),um(P)&&(E=P,y))return E;const ie=s[h+1];h=y?no(ie):zo(ie)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(E=va(I,d))}return E}function um(s){return void 0!==s}function Hu(s,o=""){const u=_e(),d=kt(),h=s+It,p=d.firstCreatePass?sc(d,h,1,o,null):d.data[h],y=Ba(d,u,p,o,s);u[h]=y,Hd()&&eg(d,u,y,p),gi(p,!1)}let Ba=(s,o,u,d,h)=>(wo(!0),function Jy(s,o){return s.createText(o)}(o[lt],d));function gc(s,o,u){const d=_e(),h=function cc(s,o,u,d){return fr(s,ys(),u)?o+me(u)+d:pt}(d,s,o,u);return h!==pt&&$o(d,Fr(),h),gc}function $h(s,o,u,d,h){const p=_e(),y=ka(p,s,o,u,d,h);return y!==pt&&$o(p,Fr(),y),$h}const Cc=void 0;var yD=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VC(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ec={};function UC(s){const o=function CD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=vD(o);if(u)return u;const d=o.split("-")[0];if(u=vD(d),u)return u;if("en"===d)return yD;throw new K(701,!1)}function hm(s){return UC(s)[ot.PluralCase]}function vD(s){return s in Ec||(Ec[s]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[s]),Ec[s]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const wc="en-US";let Hh=wc;function iE(s,o,u,d,h){if(s=De(s),Array.isArray(s))for(let p=0;p<s.length;p++)iE(s[p],o,u,d,h);else{const p=kt(),y=_e();let E=tc(s)?s:De(s.provide),I=OM(s);const D=dr(),A=1048575&D.providerIndexes,M=D.directiveStart,R=D.providerIndexes>>20;if(tc(s)||!s.multi){const P=new Io(I,h,rc),ie=sE(E,o,h?A:A+R,M);-1===ie?(vi(ga(D,y),p,E),jD(p,s,o.length),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(P),y.push(P)):(u[ie]=P,y[ie]=P)}else{const P=sE(E,o,A+R,M),ie=sE(E,o,A,A+R),Fe=ie>=0&&u[ie];if(h&&!Fe||!h&&!(P>=0&&u[P])){vi(ga(D,y),p,E);const Ke=function PF(s,o,u,d,h){const p=new Io(s,u,rc);return p.multi=[],p.index=o,p.componentProviders=0,VN(p,h,d&&!u),p}(h?RF:NF,u.length,h,d,I);!h&&Fe&&(u[ie].providerFactory=Ke),jD(p,s,o.length,0),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(Ke),y.push(Ke)}else jD(p,s,P>-1?P:ie,VN(u[h?ie:P],I,!h&&d));!h&&d&&Fe&&u[ie].componentProviders++}}}function jD(s,o,u,d){const h=tc(o),p=function kI(s){return!!s.useClass}(o);if(h||p){const I=(p?De(o.useClass):o).prototype.ngOnDestroy;if(I){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=D.indexOf(u);-1===A?D.push(u,[d,I]):D[A+1].push(d,I)}else D.push(u,I)}}}function VN(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function sE(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function NF(s,o,u,d){return HD(this.multi,[])}function RF(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Ao(u,u[$e],this.providerFactory.index,d);p=E.slice(0,y),HD(h,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],HD(h,p);return p}function HD(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function UN(s,o=[]){return u=>{u.providersResolver=(d,h)=>function LN(s,o,u){const d=kt();if(d.firstCreatePass){const h=kr(s);iE(u,d.data,d.blueprint,h,!0),iE(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class bc{}class oE{}function aE(s,o){return new GD(s,o??null,[])}class GD extends bc{constructor(o,u,d){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DT(this);const h=Ir(o);this._bootstrapComponents=Ms(h.bootstrap),this._r3Injector=uT(o,u,[{provide:bc,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver},...d],Oe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Kh extends oE{constructor(o){super(),this.moduleType=o}create(o){return new GD(this.moduleType,o,[])}}class zD extends bc{constructor(o){super(),this.componentFactoryResolver=new DT(this),this.instance=null;const u=new Ev([...o.providers,{provide:bc,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],o.parent||dg(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function WD(s,o,u=null){return new zD({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let $N=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=xI(0,u.type),h=d.length>0?WD([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=mt({token:s,providedIn:"environment",factory:()=>new s(F(Ru))}),s})();function qD(s){s.getStandaloneInjector=o=>o.get($N).getOrCreateStandaloneInjector(s)}function KN(s,o,u,d,h,p){const y=o+u;return fr(s,y,h)?function ns(s,o,u){return s[o]=u}(s,y+1,p?d.call(p,h):d(h)):function Em(s,o){const u=s[o];return u===pt?void 0:u}(s,y+1)}function eR(s,o){const u=kt();let d;const h=s+It;u.firstCreatePass?(d=function QF(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??=[]).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=Zs(d.type)),y=Bt(rc);try{const E=Fl(!1),I=p();return Fl(E),function $x(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,_e(),h,I),I}finally{Bt(y)}}function tR(s,o,u){const d=s+It,h=_e(),p=function Co(s,o){return s[o]}(h,d);return function wm(s,o){return s[$e].data[o].pure}(h,d)?KN(h,function hr(){const s=ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,p.transform,u,p):p.transform(u)}function ZD(s){return o=>{setTimeout(s,void 0,o)}}const Zo=class nL extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),y=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=ZD(p),h&&(h=ZD(h)),y&&(y=ZD(y)));const E=super.subscribe({next:h,error:p,complete:y});return o instanceof L.w0&&o.add(E),E}};function rL(){return this._results[Symbol.iterator]()}class KD{get changes(){return this._changes||(this._changes=new Zo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=KD.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=rL)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function ni(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Uy(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Im=(()=>{class s{}return s.__NG_ELEMENT_ID__=oL,s})();const iL=Im,sL=class extends iL{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u,null)}createEmbeddedViewImpl(o,u,d){const y=this._declarationTContainer.tView,E=ic(this._declarationLView,y,o,4096&this._declarationLView[ft]?4096:16,null,y.declTNode,null,null,null,u||null,d||null);E[mo]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[Wi];return null!==D&&(E[Wi]=D.createEmbeddedView(y)),Zv(y,E,o),new Rh(E)}};function oL(){return cE(dr(),_e())}function cE(s,o){return 4&s.type?new sL(o,s,Aa(s,o)):null}let bm=(()=>{class s{}return s.__NG_ELEMENT_ID__=hE,s})();function hE(){return Yh(dr(),_e())}const rR=bm,YD=class extends rR{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Es(this._hostTNode,this._hostLView);if(Ks(o)){const u=kl(o,this._hostLView),d=pa(o);return new Mo(u[$e].data[d+8],u)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=QD(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const E=o.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(E,h,false),E}createComponent(o,u,d,h,p){const y=o&&!function _a(s){return"function"==typeof s}(o);let E;if(y)E=u;else{const we=u||{};E=we.index,d=we.injector,h=we.projectableNodes,p=we.environmentInjector||we.ngModuleRef}const I=y?o:new Vu(Vt(o)),D=d||this.parentInjector;if(!p&&null==I.ngModule){const Fe=(y?D:this.parentInjector).get(Ru,null);Fe&&(p=Fe)}Vt(I.componentType??{});const P=I.create(D,h,null,p);return this.insertImpl(P.hostView,E,false),P}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,d){const h=o._lView,p=h[$e];if(function Ty(s){return Qt(s[tn])}(h)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const D=h[tn],A=new YD(D,D[er],D[tn]);A.detach(A.indexOf(o))}}const y=this._adjustIndex(u),E=this._lContainer;if(function ev(s,o,u,d){const h=cr+d,p=u.length;d>0&&(u[h-1][Ln]=o),d<p-cr?(o[Ln]=u[h],gu(u,cr+d,o)):(u.push(o),o[Ln]=null),o[tn]=u;const y=o[mo];null!==y&&u!==y&&function bs(s,o){const u=s[qs];o[Dn]!==o[tn][tn][Dn]&&(s[uy]=!0),null===u?s[qs]=[o]:u.push(o)}(y,o);const E=o[Wi];null!==E&&E.insertView(s),o[ft]|=128}(p,h,E,y),!d){const I=ng(y,E),D=h[lt],A=ba(D,E[Zi]);null!==A&&function Uk(s,o,u,d,h,p){d[Tn]=h,d[er]=o,ch(s,d,u,1,h,p)}(p,E[er],D,h,A,I)}return o.attachToViewContainerRef(),gu(pr(E),y,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=QD(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=bu(this._lContainer,u);d&&(Ds(pr(this._lContainer),u),XA(d[$e],d))}detach(o){const u=this._adjustIndex(o,-1),d=bu(this._lContainer,u);return d&&null!=Ds(pr(this._lContainer),u)?new Rh(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function QD(s){return s[8]}function pr(s){return s[8]||(s[8]=[])}function Yh(s,o){let u;const d=o[s.index];return Qt(d)?u=d:(u=mT(d,o,null,s),o[s.index]=u,Ng(o,u)),Ko(u,o,s,d),new YD(u,s,o)}let Ko=function JD(s,o,u,d){if(s[Zi])return;let h;h=8&u.type?Zt(d):function gr(s,o){const u=s[lt],d=u.createComment(""),h=Jr(o,s);return Su(u,ba(u,h),d,function lh(s,o){return s.nextSibling(o)}(u,h),!1),d}(o,u),s[Zi]=h};class Sm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Sm(this.queryList)}setDirty(){this.queryList.setDirty()}}class mr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const y=u.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new mr(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Rm(o,u).matches&&this.queries[u].setDirty()}}class eb{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Ku{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Ku(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ac{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Ac(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,ao(u,p)),this.matchTNodeWithReadOption(o,u,Ri(u,o,p,!1,!1))}else d===Im?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ri(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ku||h===bm||h===Im&&4&u.type)this.addMatch(u.index,-2);else{const p=Ri(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function ao(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function iR(s,o,u,d){return-1===u?function pE(s,o){return 11&s.type?Aa(s,o):4&s.type?cE(s,o):null}(o,s):-2===u?function sR(s,o,u){return u===ku?Aa(o,s):u===Im?cE(o,s):u===bm?Yh(o,s):void 0}(s,o,d):Ao(s,s[$e],u,o)}function Yu(s,o,u,d){const h=o[Wi].queries[d];if(null===h.matches){const p=s.data,y=u.matches,E=[];for(let I=0;I<y.length;I+=2){const D=y[I];E.push(D<0?null:iR(o,p[D],y[I+1],u.metadata.read))}h.matches=E}return h.matches}function Am(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const y=Yu(s,o,h,u);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)d.push(y[E/2]);else{const D=p[E+1],A=o[-I];for(let M=cr;M<A.length;M++){const R=A[M];R[mo]===R[tn]&&Am(R[$e],R,D,d)}if(null!==A[qs]){const M=A[qs];for(let R=0;R<M.length;R++){const P=M[R];Am(P[$e],P,D,d)}}}}}return d}function Mm(s){const o=_e(),u=kt(),d=Bd();cu(d+1);const h=Rm(u,d);if(s.dirty&&function Iy(s){return 4==(4&s[ft])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Am(u,o,d,[]):Yu(u,o,h,d);s.reset(p,zM),s.notifyOnChanges()}return!0}return!1}function nb(s,o,u,d){const h=kt();if(h.firstCreatePass){const p=dr();(function Nm(s,o,u){null===s.queries&&(s.queries=new Ku),s.queries.track(new Ac(o,u))})(h,new eb(o,u,d),p.index),function _E(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function xm(s,o,u){const d=new KD(4==(4&u));(function ix(s,o,u,d){const h=yT(o);h.push(u),s.firstCreatePass&&vT(s).push(d,h.length-1)})(s,o,d,d.destroy),null===o[Wi]&&(o[Wi]=new mr),o[Wi].queries.push(new Sm(d))}(h,_e(),u)}function gE(){return function mE(s,o){return s[Wi].queries[o].queryList}(_e(),Bd())}function Rm(s,o){return s.queries.getByIndex(o)}function Xh(s){return!!Ir(s)}const lf=new Kt("Application Initializer");let $m=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d}),this.appInits=X(lf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const h of this.appInits){const p=h();if(wC(p))u.push(p);else if(zT(p)){const y=new Promise((E,I)=>{p.subscribe({complete:E,error:I})});u.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Nc=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const _r=new Kt("LocaleId",{providedIn:"root",factory:()=>X(_r,Qe.Optional|Qe.SkipSelf)||function hb(){return typeof $localize<"u"&&$localize.locale||wc}()}),fb=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Hm=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class pb{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let gb=(()=>{class s{compileModuleSync(u){return new Kh(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Ms(Ir(u).declarations).reduce((y,E)=>{const I=Vt(E);return I&&y.push(new Vu(I)),y},[]);return new pb(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _b(...s){}class Ar{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zo(!1),this.onMicrotaskEmpty=new Zo(!1),this.onStable=new Zo(!1),this.onError=new Zo(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function NE(){const s="function"==typeof un.requestAnimationFrame;let o=un[s?"requestAnimationFrame":"setTimeout"],u=un[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const h=u[Zone.__symbol__("OriginalDelegate")];h&&(u=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function yR(s){const o=()=>{!function vb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qu(s),s.isCheckStableRunning=!0,Wm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qu(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,y,E)=>{try{return PE(s),u.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),hf(s)}},onInvoke:(u,d,h,p,y,E,I)=>{try{return PE(s),u.invoke(h,p,y,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),hf(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Qu(s),Wm(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new K(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,yb,_b,_b);try{return p.runTask(y,u,d)}finally{p.cancelTask(y)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const yb={};function Wm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function PE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hf(s){s._nesting--,Wm(s)}class ff{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zo,this.onMicrotaskEmpty=new Zo,this.onStable=new Zo,this.onError=new Zo}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Ga=new Kt("",{providedIn:"root",factory:qm});function qm(){const s=X(Ar);let o=!0;const u=new se.y(h=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(o),h.complete()})}),d=new se.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Ar.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=s.onUnstable.subscribe(()=>{Ar.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,fe.T)(u,d.pipe((0,Ne.B)()))}const Cb=new Kt(""),Eb=new Kt("");let Yo,wb=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yo||(function vR(s){Yo=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ar.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(F(Ar),F(OE),F(Eb))},s.\u0275prov=mt({token:s,factory:s.\u0275fac}),s})(),OE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Yo?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),jr=null;const pf=new Kt("AllowMultipleToken"),Rc=new Kt("PlatformDestroyListeners"),Zm=new Kt("appBootstrapListener");class CR{constructor(o,u){this.name=o,this.token=u}}function Db(s,o,u=[]){const d=`Platform: ${o}`,h=new Kt(d);return(p=[])=>{let y=Km();if(!y||y.injector.get(pf,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function Ib(s){if(jr&&!jr.get(pf,!1))throw new K(400,!1);(function Pc(){!function Cp(s){Md=s}(()=>{throw new K(600,!1)})})(),jr=s;const o=s.get(FE);(function Tb(s){s.get(UI,null)?.forEach(u=>u())})(s)}(function Qo(s=[],o){return Ra.create({name:o,providers:[{provide:vv,useValue:"platform"},{provide:Rc,useValue:new Set([()=>jr=null])},...s]})}(E,d))}return function mf(s){const o=Km();if(!o)throw new K(401,!1);return o}()}}function Km(){return jr?.get(FE)??null}let FE=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function IR(s="zone.js",o){return"noop"===s?new ff:"zone.js"===s?new Ar(o):s}(d?.ngZone,function Ju(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function BN(s,o,u){return new GD(s,o,u)}(u.moduleType,this.injector,function Ab(s){return[{provide:Ar,useFactory:s},{provide:lg,multi:!0,useFactory:()=>{const o=X(Sb,{optional:!0});return()=>o.initialize()}},{provide:Ym,useFactory:UE},{provide:Ga,useFactory:qm}]}(()=>h)),y=p.injector.get(Fu,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:I=>{y.handleError(I)}});p.onDestroy(()=>{_f(this._modules,p),E.unsubscribe()})}),function bb(s,o,u){try{const d=u();return wC(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(y,h,()=>{const E=p.injector.get($m);return E.runInitializers(),E.donePromise.then(()=>(function Gh(s){vt(s,"Expected localeId to be defined"),"string"==typeof s&&(Hh=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(_r,wc)||wc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(u,d=[]){const h=LE({},d);return function cn(s,o,u){const d=new Kh(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Oc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new K(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Rc,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(F(Ra))},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function LE(s,o){return Array.isArray(o)?o.reduce(LE,s):{...s,...o}}let Oc=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(Ym),this.zoneIsStable=X(Ga),this.componentTypes=[],this.components=[],this.isStable=X(Hm).hasPendingTasks.pipe((0,Le.w)(u=>u?(0,Ie.of)(!1):this.zoneIsStable),function ne(s,o=Ae.y){return s=s??Re,(0,H.e)((u,d)=>{let h,p=!0;u.subscribe((0,U.x)(d,y=>{const E=o(y);(p||!s(h,E))&&(p=!1,h=E,d.next(y))}))})}(),(0,Ne.B)()),this._injector=X(Ru)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof Mv;if(!this._injector.get($m).done)throw!h&&Hs(u),new K(405,!1);let y;y=h?u:this._injector.get(Eh).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const E=function gf(s){return s.isBoundToModule}(y)?void 0:this._injector.get(bc),D=y.create(Ra.NULL,[],d||y.selector,E),A=D.location.nativeElement,M=D.injector.get(Cb,null);return M?.registerApplication(A),D.onDestroy(()=>{this.detachView(D.hostView),_f(this.components,D),M?.unregisterApplication(A)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;_f(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Zm,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>_f(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new K(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _f(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const Ym=new Kt("",{providedIn:"root",factory:()=>X(Fu).handleError.bind(void 0)});function UE(){const s=X(Ar),o=X(Fu);return u=>s.runOutsideAngular(()=>o.handleError(u))}let Sb=(()=>{class s{constructor(){this.zone=X(Ar),this.applicationRef=X(Oc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function bR(){return!1}let $E=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mb,s})();function Mb(s){return function vf(s,o,u){if(ua(s)&&!u){const d=Xr(s.index,o);return new Rh(d,d)}return 47&s.type?new Rh(o[Dn],o):null}(dr(),_e(),16==(16&s))}class zE{constructor(){}supports(o){return lc(o)}create(o){return new NR(o)}}const n_=(s,o)=>o;class NR{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||n_}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const y=!d||u&&u.currentIndex<qE(d,h,p)?u:d,E=qE(y,h,p),I=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{p||(p=[]);const D=E-h,A=I-h;if(D!=A){for(let R=0;R<D;R++){const P=R<p.length?p[R]:p[R]=0,ie=P+R;A<=ie&&ie<D&&(p[R]=P+1)}p[y.previousIndex]=A-D}}E!==I&&o(y,E,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!lc(o))throw new K(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,p,y,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,y,E),d=!0),u=u._next}else h=0,function kT(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,E=>{y=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,E,y,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new Pb(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new WE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Pb{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ef{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class WE{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new Ef,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qE(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class r_{constructor(){}supports(o){return o instanceof Map||Ph(o)}create(){return new ZE}}class ZE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Ph(o)))throw new K(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new Ob(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class Ob{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wf(){return new i_([new zE])}let i_=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||wf()),deps:[[s,new th,new wa]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new K(901,!1)}}return s.\u0275prov=mt({token:s,providedIn:"root",factory:wf}),s})();function Wa(){return new s_([new r_])}let s_=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Wa()),deps:[[s,new th,new wa]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new K(901,!1)}}return s.\u0275prov=mt({token:s,providedIn:"root",factory:Wa}),s})();const Fi=Db(null,"core",[]);let Lb=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(F(Oc))},s.\u0275mod=lp({type:s}),s.\u0275inj=Pr({}),s})();function Lc(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Gb(s){const o=Vt(s);if(!o)return null;const u=new Vu(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(Xe,Ee,k)=>{k.d(Ee,{Z:()=>ze});var c=k(9058),L=k(4537),re=k(534),se=k(7879);class fe{constructor(be,Me){this._delegate=be,this.firebase=Me,(0,re._addComponent)(be,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(be,Me=re._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(be);return!De.isInitialized()&&"EXPLICIT"===(null===(qe=De.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&De.initialize(),De.getImmediate({identifier:Me})}_removeServiceInstance(be,Me=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Me)}_addComponent(be){(0,re._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,re._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Ae(){const Oe=function Le(Oe){const be={},Me={__esModule:!0,initializeApp:function ve(K,z={}){const me=re.initializeApp(K,z);if((0,c.r3)(be,me.name))return be[me.name];const ye=new Oe(me,Me);return be[me.name]=ye,ye},app:De,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function ge(K){const z=K.name,me=z.replace("-compat","");if(re._registerComponent(K)&&"PUBLIC"===K.type){const ye=(En=De())=>{if("function"!=typeof En[me])throw Ne.create("invalid-app-argument",{appName:z});return En[me]()};void 0!==K.serviceProps&&(0,c.ZB)(ye,K.serviceProps),Me[me]=ye,Oe.prototype[me]=function(...En){return this._getService.bind(this,z).apply(this,K.multipleInstances?En:[])}}return"PUBLIC"===K.type?Me[me]:null},removeApp:function qe(K){delete be[K]},useAsService:function Ce(K,z){return"serverAuth"===z?null:z},modularAPIs:re}};function De(K){if(!(0,c.r3)(be,K=K||re._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:K});return be[K]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function de(){return Object.keys(be).map(K=>be[K])}}),De.App=Oe,Me}(fe);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function be(Me){(0,c.ZB)(Oe,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Oe}(),U=new se.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=H;!function ce(Oe){(0,re.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(Xe,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>fo,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>Qe,_addOrOverwriteComponent:()=>Or,_apps:()=>et,_clearComponents:()=>Yt,_components:()=>Qn,_getProvider:()=>Bt,_registerComponent:()=>li,_removeServiceInstance:()=>hs,deleteApp:()=>Kr,getApp:()=>Mi,getApps:()=>ci,initializeApp:()=>zi,onLog:()=>Jn,registerVersion:()=>di,setLogLevel:()=>$s});var c=k(5861),L=k(4537),re=k(7879),se=k(9058);const fe=(oe,W)=>W.some(Te=>oe instanceof Te);let Ie,Ne;const H=new WeakMap,U=new WeakMap,ne=new WeakMap,Re=new WeakMap,ce=new WeakMap;let be={get(oe,W,Te){if(oe instanceof IDBTransaction){if("done"===W)return U.get(oe);if("objectStoreNames"===W)return oe.objectStoreNames||ne.get(oe);if("store"===W)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return ve(oe[W])},set:(oe,W,Te)=>(oe[W]=Te,!0),has:(oe,W)=>oe instanceof IDBTransaction&&("done"===W||"store"===W)||W in oe};function De(oe){return"function"==typeof oe?function qe(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...W){return oe.apply(de(this),W),ve(H.get(this))}:function(...W){return ve(oe.apply(de(this),W))}:function(W,...Te){const Ge=oe.call(de(this),W,...Te);return ne.set(Ge,W.sort?W.sort():[W]),ve(Ge)}}(oe):(oe instanceof IDBTransaction&&function Oe(oe){if(U.has(oe))return;const W=new Promise((Te,Ge)=>{const ut=()=>{oe.removeEventListener("complete",Et),oe.removeEventListener("error",$t),oe.removeEventListener("abort",$t)},Et=()=>{Te(),ut()},$t=()=>{Ge(oe.error||new DOMException("AbortError","AbortError")),ut()};oe.addEventListener("complete",Et),oe.addEventListener("error",$t),oe.addEventListener("abort",$t)});U.set(oe,W)}(oe),fe(oe,function Le(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,be):oe)}function ve(oe){if(oe instanceof IDBRequest)return function ze(oe){const W=new Promise((Te,Ge)=>{const ut=()=>{oe.removeEventListener("success",Et),oe.removeEventListener("error",$t)},Et=()=>{Te(ve(oe.result)),ut()},$t=()=>{Ge(oe.error),ut()};oe.addEventListener("success",Et),oe.addEventListener("error",$t)});return W.then(Te=>{Te instanceof IDBCursor&&H.set(Te,oe)}).catch(()=>{}),ce.set(W,oe),W}(oe);if(Re.has(oe))return Re.get(oe);const W=De(oe);return W!==oe&&(Re.set(oe,W),ce.set(W,oe)),W}const de=oe=>ce.get(oe),K=["get","getKey","getAll","getAllKeys","count"],z=["put","add","delete","clear"],me=new Map;function ye(oe,W){if(!(oe instanceof IDBDatabase)||W in oe||"string"!=typeof W)return;if(me.get(W))return me.get(W);const Te=W.replace(/FromIndex$/,""),Ge=W!==Te,ut=z.includes(Te);if(!(Te in(Ge?IDBIndex:IDBObjectStore).prototype)||!ut&&!K.includes(Te))return;const Et=function(){var $t=(0,c.Z)(function*(Fn,...pn){const fs=this.transaction(Fn,ut?"readwrite":"readonly");let ps=fs.store;return Ge&&(ps=ps.index(pn.shift())),(yield Promise.all([ps[Te](...pn),ut&&fs.done]))[0]});return function(pn){return $t.apply(this,arguments)}}();return me.set(W,Et),Et}!function Me(oe){be=oe(be)}(oe=>({...oe,get:(W,Te,Ge)=>ye(W,Te)||oe.get(W,Te,Ge),has:(W,Te)=>!!ye(W,Te)||oe.has(W,Te)}));class En{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function ui(oe){const W=oe.getComponent();return"VERSION"===W?.type}(Te)){const Ge=Te.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(Te=>Te).join(" ")}}const ds="@firebase/app",an=new re.Yd("@firebase/app"),Ut="[DEFAULT]",Ye={[ds]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Qn=new Map;function Qe(oe,W){try{oe.container.addComponent(W)}catch(Te){an.debug(`Component ${W.name} failed to register with FirebaseApp ${oe.name}`,Te)}}function Or(oe,W){oe.container.addOrOverwriteComponent(W)}function li(oe){const W=oe.name;if(Qn.has(W))return an.debug(`There were multiple attempts to register component ${W}.`),!1;Qn.set(W,oe);for(const Te of et.values())Qe(Te,oe);return!0}function Bt(oe,W){const Te=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),oe.container.getProvider(W)}function hs(oe,W,Te=Ut){Bt(oe,W).clearInstance(Te)}function Yt(){Qn.clear()}const bt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hd{constructor(W,Te,Ge){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=Ge,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const fo="9.23.0";function zi(oe,W={}){let Te=oe;"object"!=typeof W&&(W={name:W});const Ge=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},W),ut=Ge.name;if("string"!=typeof ut||!ut)throw bt.create("bad-app-name",{appName:String(ut)});if(Te||(Te=(0,se.aH)()),!Te)throw bt.create("no-options");const Et=et.get(ut);if(Et){if((0,se.vZ)(Te,Et.options)&&(0,se.vZ)(Ge,Et.config))return Et;throw bt.create("duplicate-app",{appName:ut})}const $t=new L.H0(ut);for(const pn of Qn.values())$t.addComponent(pn);const Fn=new hd(Te,Ge,$t);return et.set(ut,Fn),Fn}function Mi(oe=Ut){const W=et.get(oe);if(!W&&oe===Ut&&(0,se.aH)())return zi();if(!W)throw bt.create("no-app",{appName:oe});return W}function ci(){return Array.from(et.values())}function Kr(oe){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(oe){const W=oe.name;et.has(W)&&(et.delete(W),yield Promise.all(oe.container.getProviders().map(Te=>Te.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function di(oe,W,Te){var Ge;let ut=null!==(Ge=Ye[oe])&&void 0!==Ge?Ge:oe;Te&&(ut+=`-${Te}`);const Et=ut.match(/\s|\//),$t=W.match(/\s|\//);if(Et||$t){const Fn=[`Unable to register library "${ut}" with version "${W}":`];return Et&&Fn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Et&&$t&&Fn.push("and"),$t&&Fn.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void an.warn(Fn.join(" "))}li(new L.wA(`${ut}-version`,()=>({library:ut,version:W}),"VERSION"))}function Jn(oe,W){if(null!==oe&&"function"!=typeof oe)throw bt.create("invalid-log-argument");(0,re.Am)(oe,W)}function $s(oe){(0,re.Ub)(oe)}const js="firebase-heartbeat-database",ar=1,V="firebase-heartbeat-store";let F=null;function G(){return F||(F=function ge(oe,W,{blocked:Te,upgrade:Ge,blocking:ut,terminated:Et}={}){const $t=indexedDB.open(oe,W),Fn=ve($t);return Ge&&$t.addEventListener("upgradeneeded",pn=>{Ge(ve($t.result),pn.oldVersion,pn.newVersion,ve($t.transaction),pn)}),Te&&$t.addEventListener("blocked",pn=>Te(pn.oldVersion,pn.newVersion,pn)),Fn.then(pn=>{Et&&pn.addEventListener("close",()=>Et()),ut&&pn.addEventListener("versionchange",fs=>ut(fs.oldVersion,fs.newVersion,fs))}).catch(()=>{}),Fn}(js,ar,{upgrade:(oe,W)=>{0===W&&oe.createObjectStore(V)}}).catch(oe=>{throw bt.create("idb-open",{originalErrorMessage:oe.message})})),F}function q(){return(q=(0,c.Z)(function*(oe){try{return yield(yield G()).transaction(V).objectStore(V).get(Gt(oe))}catch(W){if(W instanceof se.ZR)an.warn(W.message);else{const Te=bt.create("idb-get",{originalErrorMessage:W?.message});an.warn(Te.message)}}})).apply(this,arguments)}function He(oe,W){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(oe,W){try{const Ge=(yield G()).transaction(V,"readwrite");yield Ge.objectStore(V).put(W,Gt(oe)),yield Ge.done}catch(Te){if(Te instanceof se.ZR)an.warn(Te.message);else{const Ge=bt.create("idb-set",{originalErrorMessage:Te?.message});an.warn(Ge.message)}}})).apply(this,arguments)}function Gt(oe){return`${oe.name}!${oe.options.appId}`}class hn{constructor(W){this.container=W,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new xn(Te),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var W=this;return(0,c.Z)(function*(){const Ge=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=_t();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==ut&&!W._heartbeatsCache.heartbeats.some(Et=>Et.date===ut))return W._heartbeatsCache.heartbeats.push({date:ut,agent:Ge}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Et=>{const $t=new Date(Et.date).valueOf();return Date.now()-$t<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,c.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Te=_t(),{heartbeatsToSend:Ge,unsentEntries:ut}=function fn(oe,W=1024){const Te=[];let Ge=oe.slice();for(const ut of oe){const Et=Te.find($t=>$t.agent===ut.agent);if(Et){if(Et.dates.push(ut.date),At(Te)>W){Et.dates.pop();break}}else if(Te.push({agent:ut.agent,dates:[ut.date]}),At(Te)>W){Te.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:Te,unsentEntries:Ge}}(W._heartbeatsCache.heartbeats),Et=(0,se.L)(JSON.stringify({version:2,heartbeats:Ge}));return W._heartbeatsCache.lastSentHeartbeatDate=Te,ut.length>0?(W._heartbeatsCache.heartbeats=ut,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Et})()}}function _t(){return(new Date).toISOString().substring(0,10)}class xn{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,c.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function X(oe){return q.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Te=this;return(0,c.Z)(function*(){var Ge;if(yield Te._canUseIndexedDBPromise){const Et=yield Te.read();return He(Te.app,{lastSentHeartbeatDate:null!==(Ge=W.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Te=this;return(0,c.Z)(function*(){var Ge;if(yield Te._canUseIndexedDBPromise){const Et=yield Te.read();return He(Te.app,{lastSentHeartbeatDate:null!==(Ge=W.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...W.heartbeats]})}})()}}function At(oe){return(0,se.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function po(oe){li(new L.wA("platform-logger",W=>new En(W),"PRIVATE")),li(new L.wA("heartbeat",W=>new hn(W),"PRIVATE")),di(ds,"0.9.13",oe),di(ds,"0.9.13","esm2017"),di("fire-js","")}("")},4537:(Xe,Ee,k)=>{k.d(Ee,{H0:()=>Le,wA:()=>re});var c=k(5861),L=k(9058);class re{constructor(H,U,ne){this.name=H,this.instanceFactory=U,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class fe{constructor(H,U){this.name=H,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const U=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(U)){const ne=new L.BH;if(this.instancesDeferred.set(U,ne),this.isInitialized(U)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:U});Re&&ne.resolve(Re)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(H){var U;const ne=this.normalizeInstanceIdentifier(H?.identifier),Re=null!==(U=H?.optional)&&void 0!==U&&U;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ce){if(Re)return null;throw ce}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Ne(Ae){return"EAGER"===Ae.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[U,ne]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(U);try{const ce=this.getOrInitializeService({instanceIdentifier:Re});ne.resolve(ce)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const U=Array.from(H.instances.values());yield Promise.all([...U.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...U.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:U={}}=H,ne=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:ne,options:U});for(const[ce,ze]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ce)&&ze.resolve(Re);return Re}onInit(H,U){var ne;const Re=this.normalizeInstanceIdentifier(U),ce=null!==(ne=this.onInitCallbacks.get(Re))&&void 0!==ne?ne:new Set;ce.add(H),this.onInitCallbacks.set(Re,ce);const ze=this.instances.get(Re);return ze&&H(ze,Re),()=>{ce.delete(H)}}invokeOnInitCallbacks(H,U){const ne=this.onInitCallbacks.get(U);if(ne)for(const Re of ne)try{Re(H,U)}catch{}}getOrInitializeService({instanceIdentifier:H,options:U={}}){let ne=this.instances.get(H);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=H,Ae===se?void 0:Ae),options:U}),this.instances.set(H,ne),this.instancesOptions.set(H,U),this.invokeOnInitCallbacks(ne,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ne)}catch{}var Ae;return ne||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const U=this.getProvider(H.name);if(U.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);U.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const U=new fe(H,this);return this.providers.set(H,U),U}getProviders(){return Array.from(this.providers.values())}}},7879:(Xe,Ee,k)=>{k.d(Ee,{Am:()=>Ae,Ub:()=>Le,Yd:()=>Ne,in:()=>L});const c=[];var L=(()=>((L=L||{})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L))();const re={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,fe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},Ie=(H,U,...ne)=>{if(U<H.logLevel)return;const Re=(new Date).toISOString(),ce=fe[U];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ce](`[${Re}]  ${H.name}:`,...ne)};class Ne{constructor(U){this.name=U,this._logLevel=se,this._logHandler=Ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in L))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?re[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...U),this._logHandler(this,L.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...U),this._logHandler(this,L.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,L.INFO,...U),this._logHandler(this,L.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,L.WARN,...U),this._logHandler(this,L.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...U),this._logHandler(this,L.ERROR,...U)}}function Le(H){c.forEach(U=>{U.setLogLevel(H)})}function Ae(H,U){for(const ne of c){let Re=null;U&&U.level&&(Re=re[U.level]),ne.userLogHandler=null===H?null:(ce,ze,...Oe)=>{const be=Oe.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");ze>=(Re??ce.logLevel)&&H({level:L[ze].toLowerCase(),message:be,args:Oe,type:ce.name})}}}},7142:(Xe,Ee,k)=>{k.d(Ee,{Z:()=>c.Z});var c=k(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Xe,Ee,k)=>{function c(re,se,fe,Ie,Ne,Le,Ae){try{var H=re[Le](Ae),U=H.value}catch(ne){return void fe(ne)}H.done?se(U):Promise.resolve(U).then(Ie,Ne)}function L(re){return function(){var se=this,fe=arguments;return new Promise(function(Ie,Ne){var Le=re.apply(se,fe);function Ae(U){c(Le,Ie,Ne,Ae,H,"next",U)}function H(U){c(Le,Ie,Ne,Ae,H,"throw",U)}Ae(void 0)})}}k.d(Ee,{Z:()=>L})},7582:(Xe,Ee,k)=>{function se(te,Q){var le={};for(var J in te)Object.prototype.hasOwnProperty.call(te,J)&&Q.indexOf(J)<0&&(le[J]=te[J]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(J=Object.getOwnPropertySymbols(te);he<J.length;he++)Q.indexOf(J[he])<0&&Object.prototype.propertyIsEnumerable.call(te,J[he])&&(le[J[he]]=te[J[he]])}return le}function ne(te,Q,le,J){return new(le||(le=Promise))(function(Se,it){function Ot(vt){try{at(J.next(vt))}catch(rt){it(rt)}}function Xt(vt){try{at(J.throw(vt))}catch(rt){it(rt)}}function at(vt){vt.done?Se(vt.value):function he(Se){return Se instanceof le?Se:new le(function(it){it(Se)})}(vt.value).then(Ot,Xt)}at((J=J.apply(te,Q||[])).next())})}function ve(te){return this instanceof ve?(this.v=te,this):new ve(te)}function de(te,Q,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,J=le.apply(te,Q||[]),Se=[];return he={},it("next"),it("throw"),it("return"),he[Symbol.asyncIterator]=function(){return this},he;function it(en){J[en]&&(he[en]=function(Er){return new Promise(function(Rr,mt){Se.push([en,Er,Rr,mt])>1||Ot(en,Er)})})}function Ot(en,Er){try{!function Xt(en){en.value instanceof ve?Promise.resolve(en.value.v).then(at,vt):rt(Se[0][2],en)}(J[en](Er))}catch(Rr){rt(Se[0][3],Rr)}}function at(en){Ot("next",en)}function vt(en){Ot("throw",en)}function rt(en,Er){en(Er),Se.shift(),Se.length&&Ot(Se[0][0],Se[0][1])}}function Ce(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Q=te[Symbol.asyncIterator];return Q?Q.call(te):(te=function Oe(te){var Q="function"==typeof Symbol&&Symbol.iterator,le=Q&&te[Q],J=0;if(le)return le.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&J>=te.length&&(te=void 0),{value:te&&te[J++],done:!te}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),le={},J("next"),J("throw"),J("return"),le[Symbol.asyncIterator]=function(){return this},le);function J(Se){le[Se]=te[Se]&&function(it){return new Promise(function(Ot,Xt){!function he(Se,it,Ot,Xt){Promise.resolve(Xt).then(function(at){Se({value:at,done:Ot})},it)}(Ot,Xt,(it=te[Se](it)).done,it.value)})}}}k.d(Ee,{FC:()=>de,KL:()=>Ce,_T:()=>se,mG:()=>ne,qq:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},Xe=>{Xe(Xe.s=1113)}]);